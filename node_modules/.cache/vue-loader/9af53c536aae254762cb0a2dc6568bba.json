{"remainingRequest":"/Users/zhang/canteen_manage/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/zhang/canteen_manage/src/views/statistics/stat-home/components/table.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/zhang/canteen_manage/src/views/statistics/stat-home/components/table.vue","mtime":1638516298164},{"path":"/Users/zhang/canteen_manage/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/zhang/canteen_manage/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/zhang/canteen_manage/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/zhang/canteen_manage/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBfIGZyb20gJ3VuZGVyc2NvcmUnOwppbXBvcnQgZXhjZWwgZnJvbSAnQC9saWJzL2V4Y2VsJzsKaW1wb3J0ICogYXMgZGF0YUNvbmZpZyBmcm9tICcuLi9kYXRhQ29uZmlnJzsKaW1wb3J0IHtFeHBvcnRTYXZlUGRmLCBwcmV2aWV3SW1nLCBnZXRUcmVlTm9kZXMsIGdldFRyZWVOb2RlSXRlbX0gZnJvbSAiQC9saWJzL3V0aWwiOwppbXBvcnQgbW9tZW50IGZyb20gIm1vbWVudC10aW1lem9uZSI7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAnU2VhcmNoVGFibGUnLAogIHByb3BzOiB7CiAgICBzdGFydERhdGU6IFN0cmluZywKICAgIGVuZERhdGU6IFN0cmluZywKICAgIHZhbHVlczogU3RyaW5nLAogICAga2V5TmFtZTogU3RyaW5nLAogICAgZm9ybURhdGE6IHsKICAgICAgdHlwZTogT2JqZWN0LAogICAgICBkZWZhdWx0OiAoKSA9PiB7fQogICAgfQogIH0sCiAgZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHN0YXJ0OiB0aGlzLnN0YXJ0RGF0ZSwKICAgICAgZW5kOiB0aGlzLmVuZERhdGUsCiAgICAgIHJvbGU6IHRoaXMucm9sZUlkcywKICAgICAgY29sdW1uczogW10sCiAgICAgIGxvYWRpbmcyOiBmYWxzZSwKICAgIH07CiAgfSwKCiAgd2F0Y2g6IHsKICAgICdzdGFydERhdGUnIDogZnVuY3Rpb24odmFsKXsKICAgICAgdGhpcy5zdGFydCA9IHZhbDsKICAgIH0sCiAgICAnZW5kRGF0ZScgOiBmdW5jdGlvbih2YWwpewogICAgICB0aGlzLmVuZCA9IHZhbDsKICAgIH0sCiAgICAncm9sZUlkcycgOiBmdW5jdGlvbih2YWwpewogICAgICB0aGlzLnJvbGUgPSB2YWw7CiAgICB9CiAgfSwKCiAgY29tcG9uZW50czoge30sCgogIGNvbXB1dGVkOiB7CiAgICByZXBvcnRTdGF0aXN0aWNzKCkgewogICAgICByZXR1cm4gdGhpcy4kc3RvcmUuc3RhdGUuc3RhdGlzdGljcy5yZXBvcnRTdGF0aXN0aWNzOwogICAgfSwKICAgIHN0YXRpc3RpY3NSZXN1bHQoKSB7CiAgICAgIHJldHVybiB0aGlzLiRzdG9yZS5zdGF0ZS5zdGF0aXN0aWNzLnN0YXRIb21lOwogICAgfSwKICAgIGxvYWRpbmcoKSB7CiAgICAgIHJldHVybiB0aGlzLiRzdG9yZS5zdGF0ZS5hcHAudGFibGVMb2FkaW5nOwogICAgfSwKICAgIGdldE1lcmNoYW50RGVwYXJ0bWVudExpc3QoKSB7CiAgICAgIHJldHVybiB0aGlzLiRzdG9yZS5zdGF0ZS51c2VyLm1lcmNoYW50RGVwYXJ0bWVudExpc3Q7CiAgICB9LAogIH0sCgogIG1vdW50ZWQoKSB7CiAgICB0aGlzLmluaXQoKTsKICB9LAoKICBtZXRob2RzOiB7CiAgICBpbml0KCkgewogICAgICB0aGlzLmNvbHVtbnMgPSBkYXRhQ29uZmlnLmNvbHVtbnM7CiAgICB9LAogICAgcHJpbnRDb250ZXh0ICgpIHsKICAgICAgdGhpcy4kcHJpbnQodGhpcy4kcmVmcy5wcmludCk7CiAgICAgIC8vIOS4jeaJk+WNsOaWueazlTEuIOa3u+WKoG5vLXByaW505qC35byP57G7CiAgICAgIC8vIOS4jeaJk+WNsOaWueazlTIuIHRoaXMuJHByaW50KHRoaXMuJHJlZnMucHJpbnQseyduby1wcmludCc6Jy5kby1ub3QtcHJpbnQtZGl2J30pCiAgICB9LAoKICAgIHJvd0NsYXNzTmFtZSAocm93LCBpbmRleCkgewogICAgICBsZXQgdmFsdWVBcnIgPSBfLnZhbHVlcyhyb3cpOwogICAgICBpZiAoXy5pbmRleE9mKHZhbHVlQXJyLCLlvZPml6XlsI/orqEiKSAhPSAtMSl7CiAgICAgICAgcmV0dXJuICdkZW1vLXRhYmxlLWluZm8tcm93JzsKICAgICAgfSBlbHNlIGlmIChfLmluZGV4T2YodmFsdWVBcnIsIuWQiOiuoSIpICE9IC0xKSB7CiAgICAgICAgcmV0dXJuICdkZW1vLXRhYmxlLWVycm9yLXJvdyc7CiAgICAgIH0KCiAgICAgIHJldHVybiAnJzsKICAgIH0sCiAgICAvLyDlr7zlh7pQREbmlofku7YKICAgIGV4cG9ydFJlc3VsdFBkZjogZnVuY3Rpb24gKCkgewogICAgICB0aGlzLmxvYWRpbmcyID0gdHJ1ZTsKICAgICAgbGV0IGZpbGVUeXBlID0gJ+S6uuWRmOexu+Weiyc7CiAgICAgIGlmICh0aGlzLmtleU5hbWUgPT0gJ2RlcGFydG1lbnQnKXsKICAgICAgICBmaWxlVHlwZSA9ICfpg6jpl6gnOwogICAgICB9CiAgICAgIGlmICh0aGlzLmtleU5hbWUgPT0gJ2RldmljZScpewogICAgICAgIGZpbGVUeXBlID0gJ+iuvuWkhyc7CiAgICAgIH0KICAgICAgaWYgKHRoaXMua2V5TmFtZSA9PSAndXNlcl9ncm91cCcpewogICAgICAgIGZpbGVUeXBlID0gJ+iBjOWKoSc7CiAgICAgIH0KICAgICAgbGV0IHBkZk5hbWUgPSAn5bCx6aSQ5oql6KGoJyArICdfJyArIGZpbGVUeXBlICsgJ18nICsgdGhpcy5zdGFydERhdGUgKyAnLScgKyB0aGlzLmVuZERhdGU7CiAgICAgIGxldCBub3dUaW1lPSBtb21lbnQoKS5mb3JtYXQoJ1lZWVktTU0tREQnKTsKCiAgICAgIEV4cG9ydFNhdmVQZGYoZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI3N0YXRQcmludCcpLCBwZGZOYW1lLCBub3dUaW1lLCAnbCcpOwogICAgICB0aGlzLmxvYWRpbmcyID0gZmFsc2U7CiAgICB9LAoKICAgIC8vIOWvvOWHukVYQ0VMCiAgICBleHBvcnRFeGNlbDogZnVuY3Rpb24oKSB7CiAgICAgIHRyeSB7CiAgICAgICAgaWYgKHRoaXMuY29sdW1ucy5sZW5ndGg+MCkgewogICAgICAgICAgbGV0IGZpbGVUeXBlID0gJ+S6uuWRmOexu+Weiyc7CiAgICAgICAgICBpZiAodGhpcy5rZXlOYW1lID09ICdkZXBhcnRtZW50Jyl7CiAgICAgICAgICAgIGZpbGVUeXBlID0gJ+mDqOmXqCc7CiAgICAgICAgICB9CiAgICAgICAgICBpZiAodGhpcy5rZXlOYW1lID09ICdkZXZpY2UnKXsKICAgICAgICAgICAgZmlsZVR5cGUgPSAn6K6+5aSHJzsKICAgICAgICAgIH0KICAgICAgICAgIGlmICh0aGlzLmtleU5hbWUgPT0gJ3VzZXJfZ3JvdXAnKXsKICAgICAgICAgICAgZmlsZVR5cGUgPSAn6IGM5YqhJzsKICAgICAgICAgIH0KICAgICAgICAgIGxldCBmaWxlbmFtZSA9ICflsLHppJDmiqXooagnICsgJ18nICsgZmlsZVR5cGUgKyAnXycgKyB0aGlzLnN0YXJ0RGF0ZSArICctJyArIHRoaXMuZW5kRGF0ZTsKICAgICAgICAgIGxldCBrZXkgPSBbXTsKICAgICAgICAgIGZvcihsZXQgaXRlbSBvZiB0aGlzLmNvbHVtbnMpewogICAgICAgICAgICBsZXQgdG1wID0gJycKICAgICAgICAgICAgdG1wID0gaXRlbS5rZXk/IGl0ZW0ua2V5OiBpdGVtLnNsb3Q7CiAgICAgICAgICAgIGlmICh0bXA9PSdjb3VudHMnKXsKICAgICAgICAgICAgICB0bXAgPSAnY291bnQnOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGlmICh0bXA9PSdhbW91bnRzJyl7CiAgICAgICAgICAgICAgdG1wID0gJ2Ftb3VudCc7CiAgICAgICAgICAgIH0KICAgICAgICAgICAga2V5LnB1c2godG1wKTsKICAgICAgICAgIH0KICAgICAgICAgIGNvbnN0IHBhcmFtcyA9IHsKICAgICAgICAgICAgdGl0bGU6IF8ucGx1Y2sodGhpcy5jb2x1bW5zLCAndGl0bGUnKSwKICAgICAgICAgICAgLy8ga2V5OiBfLnBsdWNrKHRoaXMuY29sdW1ucywgJ2tleScpLAogICAgICAgICAgICBrZXk6IGtleSwKICAgICAgICAgICAgZGF0YTogdGhpcy5yZXBvcnRTdGF0aXN0aWNzLAogICAgICAgICAgICBhdXRvV2lkdGg6IHRydWUsCiAgICAgICAgICAgIGZpbGVuYW1lOiBmaWxlbmFtZSwKICAgICAgICAgIH07CiAgICAgICAgICBleGNlbC5leHBvcnRfYXJyYXlfdG9fZXhjZWwocGFyYW1zKTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgdGhpcy4kTWVzc2FnZS5pbmZvKCfooajmoLzmlbDmja7kuI3og73kuLrnqbrvvIEnKTsKICAgICAgICB9CiAgICAgIH0gY2F0Y2ggKGUpIHsKICAgICAgICBjb25zb2xlLmxvZyhlKTsKICAgICAgICAvLyB0aGlzLiRzdG9yZS5jb21taXQoJ1NUQVRfREFZX1NFVF9QUk9QRVJUWV9CWV9LRVknLCB7IGtleTogJ2V4cG9ydExvYWRpbmcnLCB2YWx1ZTogZmFsc2UgfSkKICAgICAgfQogICAgfSwKCiAgICAvLyDlr7zlh7oKICAgIGV4cG9ydFJlc3VsdEV4Y2VsOiBmdW5jdGlvbigpIHsKICAgICAgdHJ5IHsKICAgICAgICBpZiAodGhpcy5zdGF0aXN0aWNzUmVzdWx0LnRhYmxlX2hlYWQubGVuZ3RoPjApIHsKICAgICAgICAgIGxldCBmaWxlVHlwZSA9ICfkurrlkZjnsbvlnosnOwogICAgICAgICAgaWYgKHRoaXMua2V5TmFtZSA9PSAnZGVwYXJ0bWVudCcpewogICAgICAgICAgICBmaWxlVHlwZSA9ICfpg6jpl6gnOwogICAgICAgICAgfQogICAgICAgICAgaWYgKHRoaXMua2V5TmFtZSA9PSAnZGV2aWNlJyl7CiAgICAgICAgICAgIGZpbGVUeXBlID0gJ+iuvuWkhyc7CiAgICAgICAgICB9CiAgICAgICAgICBpZiAodGhpcy5rZXlOYW1lID09ICd1c2VyX2dyb3VwJyl7CiAgICAgICAgICAgIGZpbGVUeXBlID0gJ+iBjOWKoSc7CiAgICAgICAgICB9CiAgICAgICAgICBsZXQgZmlsZW5hbWUgPSAn5bCx6aSQ5oql6KGoJyArICdfJyArIGZpbGVUeXBlICsgJ18nICsgdGhpcy5zdGFydERhdGUgKyAnLScgKyB0aGlzLmVuZERhdGU7CiAgICAgICAgICBsZXQga2V5ID0gW107CiAgICAgICAgICBmb3IobGV0IGl0ZW0gb2YgdGhpcy5zdGF0aXN0aWNzUmVzdWx0LnRhYmxlX2hlYWQpewogICAgICAgICAgICBsZXQgdG1wID0gJycKICAgICAgICAgICAgdG1wID0gaXRlbS5rZXk/IGl0ZW0ua2V5OiBpdGVtLnNsb3Q7CiAgICAgICAgICAgIGlmICh0bXA9PSdjb3VudHMnKXsKICAgICAgICAgICAgICB0bXAgPSAnY291bnQnOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGlmICh0bXA9PSdhbW91bnRzJyl7CiAgICAgICAgICAgICAgdG1wID0gJ2Ftb3VudCc7CiAgICAgICAgICAgIH0KICAgICAgICAgICAga2V5LnB1c2godG1wKTsKICAgICAgICAgIH0KCiAgICAgICAgICAvL+iuvue9ruS4u+agh+mimOagt+W8jwogICAgICAgICAgbGV0IGhlYWRlclN0eWxlID0gewogICAgICAgICAgICBmb250OiB7CiAgICAgICAgICAgICAgbmFtZTogIuWui+S9kyIsCiAgICAgICAgICAgICAgc3o6IDE0LAogICAgICAgICAgICAgIGNvbG9yOiB7IHJnYjogIjAwMDAwMCIgfSwKICAgICAgICAgICAgICBib2xkOiB0cnVlCiAgICAgICAgICAgICAgLy8gaXRhbGljOiBmYWxzZSwKICAgICAgICAgICAgICAvLyB1bmRlcmxpbmU6IGZhbHNlCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIGFsaWdubWVudDogewogICAgICAgICAgICAgIGhvcml6b250YWw6ICJjZW50ZXIiLAogICAgICAgICAgICAgIHZlcnRpY2FsOiAiY2VudGVyIgogICAgICAgICAgICB9LAogICAgICAgICAgICBmaWxsOiB7CiAgICAgICAgICAgICAgZmdDb2xvcjoge3JnYjogIjg3Q0VGQSJ9LAogICAgICAgICAgICB9LAogICAgICAgICAgICAvLyDljZXlhYPmoLzovrnmoYYKICAgICAgICAgICAgYm9yZGVyOiB7CiAgICAgICAgICAgICAgdG9wOiB7CiAgICAgICAgICAgICAgICBzdHlsZTogJ3RoaW4nCiAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICBib3R0b206IHsKICAgICAgICAgICAgICAgIHN0eWxlOiAndGhpbicKICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgIGxlZnQ6IHsKICAgICAgICAgICAgICAgIHN0eWxlOiAndGhpbicKICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgIHJpZ2h0OiB7CiAgICAgICAgICAgICAgICBzdHlsZTogJ3RoaW4nCiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICB9OwogICAgICAgICAgLy/orr7nva7kuLvmoIfpopjmoLflvI8KICAgICAgICAgIGxldCBib2R5U3R5bGUgPSB7CiAgICAgICAgICAgIGZvbnQ6IHsKICAgICAgICAgICAgICAvLyBuYW1lOiAi5a6L5L2TIiwKICAgICAgICAgICAgICAvLyBzejogMTgsCiAgICAgICAgICAgICAgY29sb3I6IHsgcmdiOiAiMDAwMDAwIiB9LAogICAgICAgICAgICAgIGJvbGQ6IHRydWUKICAgICAgICAgICAgICAvLyBpdGFsaWM6IGZhbHNlLAogICAgICAgICAgICAgIC8vIHVuZGVybGluZTogZmFsc2UKICAgICAgICAgICAgfSwKICAgICAgICAgICAgYWxpZ25tZW50OiB7CiAgICAgICAgICAgICAgaG9yaXpvbnRhbDogImNlbnRlciIsCiAgICAgICAgICAgICAgdmVydGljYWw6ICJjZW50ZXIiCiAgICAgICAgICAgIH0sCgogICAgICAgICAgICAvLyBmaWxsOiB7CiAgICAgICAgICAgIC8vICAgZmdDb2xvcjoge3JnYjogIjAwODAwMCJ9LAogICAgICAgICAgICAvLyB9LAoKICAgICAgICAgICAgLy8g5Y2V5YWD5qC86L655qGGCiAgICAgICAgICAgIGJvcmRlcjogewogICAgICAgICAgICAgIHRvcDogewogICAgICAgICAgICAgICAgc3R5bGU6ICd0aGluJwogICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgYm90dG9tOiB7CiAgICAgICAgICAgICAgICBzdHlsZTogJ3RoaW4nCiAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICBsZWZ0OiB7CiAgICAgICAgICAgICAgICBzdHlsZTogJ3RoaW4nCiAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICByaWdodDogewogICAgICAgICAgICAgICAgc3R5bGU6ICd0aGluJwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgfTsKICAgICAgICAgIGNvbnN0IHBhcmFtcyA9IHsKICAgICAgICAgICAgdGl0bGU6IF8ucGx1Y2sodGhpcy5zdGF0aXN0aWNzUmVzdWx0LnRhYmxlX2hlYWQsICd0aXRsZScpLAogICAgICAgICAgICAvLyBrZXk6IF8ucGx1Y2sodGhpcy5jb2x1bW5zLCAna2V5JyksCiAgICAgICAgICAgIGtleToga2V5LAogICAgICAgICAgICBkYXRhOiB0aGlzLnN0YXRpc3RpY3NSZXN1bHQucmVzdWx0LAogICAgICAgICAgICBhdXRvV2lkdGg6IHRydWUsCiAgICAgICAgICAgIGZpbGVuYW1lOiBmaWxlbmFtZSwKICAgICAgICAgICAgaGVhZGVyU3R5bGU6IGhlYWRlclN0eWxlLAogICAgICAgICAgICBib2R5U3R5bGU6IGJvZHlTdHlsZSwKICAgICAgICAgIH07CgogICAgICAgICAgZXhjZWwuZXhwb3J0X2FycmF5X3RvX2V4Y2VsX3N0eWxlKHBhcmFtcyk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHRoaXMuJE1lc3NhZ2UuaW5mbygn6KGo5qC85pWw5o2u5LiN6IO95Li656m677yBJyk7CiAgICAgICAgfQogICAgICB9IGNhdGNoIChlKSB7CiAgICAgICAgY29uc29sZS5sb2coZSk7CiAgICAgICAgLy8gdGhpcy4kc3RvcmUuY29tbWl0KCdTVEFUX0RBWV9TRVRfUFJPUEVSVFlfQllfS0VZJywgeyBrZXk6ICdleHBvcnRMb2FkaW5nJywgdmFsdWU6IGZhbHNlIH0pCiAgICAgIH0KICAgIH0sCgogICAgaGFuZGxlTG9hZERhdGE6IGFzeW5jIGZ1bmN0aW9uIChpdGVtLCBjYWxsYmFjaykgewogICAgICAvLyBjb25zb2xlLmxvZygiaGFuZGxlTG9hZERhdGEtLS1pdGVtPj4+IiArIEpTT04uc3RyaW5naWZ5KGl0ZW0pKTsKICAgICAgbGV0IGl0ZW1EYXRhID0gZ2V0VHJlZU5vZGVJdGVtKHRoaXMuZ2V0TWVyY2hhbnREZXBhcnRtZW50TGlzdCwnZGVwYXJ0bWVudF9pZCcsICdjaGlsZHJlbicsIGl0ZW0ua2V5XzEwMCk7CiAgICAgIC8vIGNvbnNvbGUubG9nKCJoYW5kbGVMb2FkRGF0YS0tLWZpbmQgaXRlbURhdGEgZXF1YWxzPj4+IiArIEpTT04uc3RyaW5naWZ5KGl0ZW1EYXRhKSk7CiAgICAgIGxldCBsZXZlbCA9IDA7CiAgICAgIGlmIChpdGVtRGF0YS5sZW5ndGggPiAwKXsKICAgICAgICBpZiAoaXRlbURhdGFbMF0uY2hpbGRyZW4ubGVuZ3RoID4gMCl7CiAgICAgICAgICBsZXZlbCA9IGl0ZW1EYXRhWzBdLmxldmVsICsgMTsKICAgICAgICB9CiAgICAgIH0KCiAgICAgIGxldCBkZXBhcnRBcnJheSA9IGdldFRyZWVOb2RlcyhpdGVtRGF0YSwgJ2RlcGFydG1lbnRfaWQnLCAnY2hpbGRyZW4nKTsKICAgICAgbGV0IGFycmF5UmVzdWx0ID0gZGVwYXJ0QXJyYXkuam9pbignLCcpOwogICAgICAvLyBjb25zb2xlLmxvZygiaGFuZGxlTG9hZERhdGEtLS1hcnJheVJlc3VsdD4+PiIgKyBhcnJheVJlc3VsdCk7CgogICAgICBsZXQgZGF0YSA9IGF3YWl0IHRoaXMucXVlcnlDaGlsZFN0YXQoaXRlbSwgYXJyYXlSZXN1bHQsIGxldmVsKTsKICAgICAgLy8gY29uc29sZS5sb2coImhhbmRsZUxvYWREYXRhLS0tZGF0YT4+PiIgKyBKU09OLnN0cmluZ2lmeShkYXRhKSk7CiAgICAgIGNhbGxiYWNrKGRhdGEpOwogICAgfSwKCiAgICBxdWVyeUNoaWxkU3RhdDogYXN5bmMgZnVuY3Rpb24oaXRlbSwgdmFsdWUsIGxldmVsKSB7CiAgICAgIC8vIGNvbnNvbGUubG9nKCJxdWVyeUNoaWxkU3RhdC0tLWl0ZW0+Pj4iICsgSlNPTi5zdHJpbmdpZnkoaXRlbSkpOwogICAgICBsZXQgcGFyYW1zID0gewogICAgICAgIG1lcmNoYW50X2lkOiB0aGlzLiRzdG9yZS5zdGF0ZS51c2VyLmN1ck1lcmNoYW50SWQsCiAgICAgICAgdW5pdDogdGhpcy5mb3JtRGF0YS51bml0LAogICAgICAgIHN0YXJ0OiBpdGVtLmtleV8xLAogICAgICAgIGVuZDogaXRlbS5rZXlfMSwKICAgICAgICBrZXk6IHRoaXMuZm9ybURhdGEua2V5LAogICAgICAgIHZhbHVlOiB2YWx1ZSwKICAgICAgICBsZXZlbDogbGV2ZWwsCiAgICAgICAgZm9ybWF0OiAxLAoKICAgICAgfTsKICAgICAgLy8gY29uc29sZS5sb2coInF1ZXJ5Q2hpbGRTdGF0LS0tcGFyYW1zPj4+PiIgKyBKU09OLnN0cmluZ2lmeShwYXJhbXMpKTsKICAgICAgbGV0IHJlcyA9IGF3YWl0IHRoaXMuJHN0b3JlLmRpc3BhdGNoKCdzdGF0aXN0aWNzU2FsZScsIHBhcmFtcyk7CiAgICAgIC8vIGNvbnNvbGUubG9nKCJxdWVyeUNoaWxkU3RhdC0tLXJlcz4+Pj4iICsgSlNPTi5zdHJpbmdpZnkocmVzKSk7CiAgICAgIHJldHVybiByZXMucmVzdWx0OwoKICAgIH0sCgoKICB9Cn0K"},{"version":3,"sources":["table.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA0CA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;;AAGA;AACA","file":"table.vue","sourceRoot":"src/views/statistics/stat-home/components","sourcesContent":["<!--  -->\n<template>\n\n  <div class=\"card\">\n    <div class=\"no-print\">\n      <Button class=\"pull-right margin-top-20\" type='primary' ghost icon=\"md-download\" @click=\"exportResultExcel\">导出EXCEL</Button>\n      <Button class=\"pull-right margin-right-10 margin-top-20\" type='success' ghost icon=\"md-stats\" :loading=\"loading2\" @click=\"exportResultPdf\">导出PDF</Button>\n      <Button class=\"pull-right margin-right-10 margin-top-20\" type='success' ghost icon=\"md-print\" @click=\"printContext\">打印</Button>\n      <!--      <Button class=\"pull-right margin-right-10\" type='success' ghost icon=\"md-print\"  v-print=\"printStat\">打印</Button>-->\n    </div>\n    <div ref=\"print\" id=\"statPrint\" class=\"padding-top-20\">\n<!--      <div class=\"margin-bottom-10 clearfix\" style=\"color: #666;line-height:32px\">就餐报表-->\n<!--        <span class=\"padding-left-15 padding-right-15\">就餐日期：{{ start }} - {{ end }}</span>-->\n<!--        <span v-if=\"keyName=='role'\">人员类型选择：</span>-->\n<!--        <span v-if=\"keyName=='department'\">部门选择：</span>-->\n<!--        <span>{{ values }}</span>-->\n\n<!--      </div>-->\n\n      <Table border size=\"small\" :row-class-name=\"rowClassName\" :columns='statisticsResult.appointment.table_head' :data='statisticsResult.appointment.result' :loading=\"loading\">\n        <template slot=\"counts\" slot-scope=\"{ row }\">\n          <span class=\"red-color\">{{ row.count }}</span>\n        </template>\n        <template slot=\"amounts\" slot-scope=\"{ row }\">\n          <span class=\"red-color\">{{ row.amount }}</span>\n        </template>\n      </Table>\n\n      <Table border size=\"small\" :row-class-name=\"rowClassName\" :columns='statisticsResult.order.table_head' :data='statisticsResult.order.result' :loading=\"loading\">\n        <template slot=\"counts\" slot-scope=\"{ row }\">\n          <span class=\"red-color\">{{ row.count }}</span>\n        </template>\n        <template slot=\"amounts\" slot-scope=\"{ row }\">\n          <span class=\"red-color\">{{ row.amount }}</span>\n        </template>\n      </Table>\n\n    </div>\n\n  </div>\n</template>\n<script>\nimport _ from 'underscore';\nimport excel from '@/libs/excel';\nimport * as dataConfig from '../dataConfig';\nimport {ExportSavePdf, previewImg, getTreeNodes, getTreeNodeItem} from \"@/libs/util\";\nimport moment from \"moment-timezone\";\nexport default {\n  name: 'SearchTable',\n  props: {\n    startDate: String,\n    endDate: String,\n    values: String,\n    keyName: String,\n    formData: {\n      type: Object,\n      default: () => {}\n    }\n  },\n  data() {\n    return {\n      start: this.startDate,\n      end: this.endDate,\n      role: this.roleIds,\n      columns: [],\n      loading2: false,\n    };\n  },\n\n  watch: {\n    'startDate' : function(val){\n      this.start = val;\n    },\n    'endDate' : function(val){\n      this.end = val;\n    },\n    'roleIds' : function(val){\n      this.role = val;\n    }\n  },\n\n  components: {},\n\n  computed: {\n    reportStatistics() {\n      return this.$store.state.statistics.reportStatistics;\n    },\n    statisticsResult() {\n      return this.$store.state.statistics.statHome;\n    },\n    loading() {\n      return this.$store.state.app.tableLoading;\n    },\n    getMerchantDepartmentList() {\n      return this.$store.state.user.merchantDepartmentList;\n    },\n  },\n\n  mounted() {\n    this.init();\n  },\n\n  methods: {\n    init() {\n      this.columns = dataConfig.columns;\n    },\n    printContext () {\n      this.$print(this.$refs.print);\n      // 不打印方法1. 添加no-print样式类\n      // 不打印方法2. this.$print(this.$refs.print,{'no-print':'.do-not-print-div'})\n    },\n\n    rowClassName (row, index) {\n      let valueArr = _.values(row);\n      if (_.indexOf(valueArr,\"当日小计\") != -1){\n        return 'demo-table-info-row';\n      } else if (_.indexOf(valueArr,\"合计\") != -1) {\n        return 'demo-table-error-row';\n      }\n\n      return '';\n    },\n    // 导出PDF文件\n    exportResultPdf: function () {\n      this.loading2 = true;\n      let fileType = '人员类型';\n      if (this.keyName == 'department'){\n        fileType = '部门';\n      }\n      if (this.keyName == 'device'){\n        fileType = '设备';\n      }\n      if (this.keyName == 'user_group'){\n        fileType = '职务';\n      }\n      let pdfName = '就餐报表' + '_' + fileType + '_' + this.startDate + '-' + this.endDate;\n      let nowTime= moment().format('YYYY-MM-DD');\n\n      ExportSavePdf(document.querySelector('#statPrint'), pdfName, nowTime, 'l');\n      this.loading2 = false;\n    },\n\n    // 导出EXCEL\n    exportExcel: function() {\n      try {\n        if (this.columns.length>0) {\n          let fileType = '人员类型';\n          if (this.keyName == 'department'){\n            fileType = '部门';\n          }\n          if (this.keyName == 'device'){\n            fileType = '设备';\n          }\n          if (this.keyName == 'user_group'){\n            fileType = '职务';\n          }\n          let filename = '就餐报表' + '_' + fileType + '_' + this.startDate + '-' + this.endDate;\n          let key = [];\n          for(let item of this.columns){\n            let tmp = ''\n            tmp = item.key? item.key: item.slot;\n            if (tmp=='counts'){\n              tmp = 'count';\n            }\n            if (tmp=='amounts'){\n              tmp = 'amount';\n            }\n            key.push(tmp);\n          }\n          const params = {\n            title: _.pluck(this.columns, 'title'),\n            // key: _.pluck(this.columns, 'key'),\n            key: key,\n            data: this.reportStatistics,\n            autoWidth: true,\n            filename: filename,\n          };\n          excel.export_array_to_excel(params);\n        } else {\n          this.$Message.info('表格数据不能为空！');\n        }\n      } catch (e) {\n        console.log(e);\n        // this.$store.commit('STAT_DAY_SET_PROPERTY_BY_KEY', { key: 'exportLoading', value: false })\n      }\n    },\n\n    // 导出\n    exportResultExcel: function() {\n      try {\n        if (this.statisticsResult.table_head.length>0) {\n          let fileType = '人员类型';\n          if (this.keyName == 'department'){\n            fileType = '部门';\n          }\n          if (this.keyName == 'device'){\n            fileType = '设备';\n          }\n          if (this.keyName == 'user_group'){\n            fileType = '职务';\n          }\n          let filename = '就餐报表' + '_' + fileType + '_' + this.startDate + '-' + this.endDate;\n          let key = [];\n          for(let item of this.statisticsResult.table_head){\n            let tmp = ''\n            tmp = item.key? item.key: item.slot;\n            if (tmp=='counts'){\n              tmp = 'count';\n            }\n            if (tmp=='amounts'){\n              tmp = 'amount';\n            }\n            key.push(tmp);\n          }\n\n          //设置主标题样式\n          let headerStyle = {\n            font: {\n              name: \"宋体\",\n              sz: 14,\n              color: { rgb: \"000000\" },\n              bold: true\n              // italic: false,\n              // underline: false\n            },\n            alignment: {\n              horizontal: \"center\",\n              vertical: \"center\"\n            },\n            fill: {\n              fgColor: {rgb: \"87CEFA\"},\n            },\n            // 单元格边框\n            border: {\n              top: {\n                style: 'thin'\n              },\n              bottom: {\n                style: 'thin'\n              },\n              left: {\n                style: 'thin'\n              },\n              right: {\n                style: 'thin'\n              }\n            }\n          };\n          //设置主标题样式\n          let bodyStyle = {\n            font: {\n              // name: \"宋体\",\n              // sz: 18,\n              color: { rgb: \"000000\" },\n              bold: true\n              // italic: false,\n              // underline: false\n            },\n            alignment: {\n              horizontal: \"center\",\n              vertical: \"center\"\n            },\n\n            // fill: {\n            //   fgColor: {rgb: \"008000\"},\n            // },\n\n            // 单元格边框\n            border: {\n              top: {\n                style: 'thin'\n              },\n              bottom: {\n                style: 'thin'\n              },\n              left: {\n                style: 'thin'\n              },\n              right: {\n                style: 'thin'\n              }\n            }\n          };\n          const params = {\n            title: _.pluck(this.statisticsResult.table_head, 'title'),\n            // key: _.pluck(this.columns, 'key'),\n            key: key,\n            data: this.statisticsResult.result,\n            autoWidth: true,\n            filename: filename,\n            headerStyle: headerStyle,\n            bodyStyle: bodyStyle,\n          };\n\n          excel.export_array_to_excel_style(params);\n        } else {\n          this.$Message.info('表格数据不能为空！');\n        }\n      } catch (e) {\n        console.log(e);\n        // this.$store.commit('STAT_DAY_SET_PROPERTY_BY_KEY', { key: 'exportLoading', value: false })\n      }\n    },\n\n    handleLoadData: async function (item, callback) {\n      // console.log(\"handleLoadData---item>>>\" + JSON.stringify(item));\n      let itemData = getTreeNodeItem(this.getMerchantDepartmentList,'department_id', 'children', item.key_100);\n      // console.log(\"handleLoadData---find itemData equals>>>\" + JSON.stringify(itemData));\n      let level = 0;\n      if (itemData.length > 0){\n        if (itemData[0].children.length > 0){\n          level = itemData[0].level + 1;\n        }\n      }\n\n      let departArray = getTreeNodes(itemData, 'department_id', 'children');\n      let arrayResult = departArray.join(',');\n      // console.log(\"handleLoadData---arrayResult>>>\" + arrayResult);\n\n      let data = await this.queryChildStat(item, arrayResult, level);\n      // console.log(\"handleLoadData---data>>>\" + JSON.stringify(data));\n      callback(data);\n    },\n\n    queryChildStat: async function(item, value, level) {\n      // console.log(\"queryChildStat---item>>>\" + JSON.stringify(item));\n      let params = {\n        merchant_id: this.$store.state.user.curMerchantId,\n        unit: this.formData.unit,\n        start: item.key_1,\n        end: item.key_1,\n        key: this.formData.key,\n        value: value,\n        level: level,\n        format: 1,\n\n      };\n      // console.log(\"queryChildStat---params>>>>\" + JSON.stringify(params));\n      let res = await this.$store.dispatch('statisticsSale', params);\n      // console.log(\"queryChildStat---res>>>>\" + JSON.stringify(res));\n      return res.result;\n\n    },\n\n\n  }\n}\n</script>\n<style lang='less' scoped>\n/deep/.ivu-table-border td,.ivu-table-border th{\n  border-color: #dcdee2;\n}\n/deep/.ivu-table-wrapper{\n  width: 100%;\n  // max-width: 1040px;\n  overflow-x: auto;\n}\n/deep/.ivu-table {\n  width: 100%;\n  border-bottom: 1px solid #dcdee2;\n  .ivu-table-cell {\n    padding-left: 5px;\n    padding-right: 10px;\n  }\n  .demo-table-info-row td{\n    background-color: #e8eaec;\n    font-weight: 700;\n  }\n  .demo-table-error-row td{\n    background-color: #27a163;\n    color: #fff;\n    font-weight: 700;\n  }\n\n}\n@media print {\n  #statPrint{\n    /deep/.ivu-table{\n      width: 100%;\n      // border-right:2px solid #dcdee2;\n    }\n    /deep/.ivu-table-small td {\n      height: 30px;\n      line-height: 1.2;\n      color: #333;\n      font-size: 12px;\n\n    }\n    /deep/.ivu-table-small th {\n      font-weight: 400;\n      font-size: 30px;\n\n    }\n\n  }\n}\n\n\n</style>\n"]}]}