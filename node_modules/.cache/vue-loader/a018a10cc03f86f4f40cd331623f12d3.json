{"remainingRequest":"/Users/zhang/工作/pic_ad/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/zhang/工作/pic_ad/src/views/setting/time-type-setting/components/add-modal.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/zhang/工作/pic_ad/src/views/setting/time-type-setting/components/add-modal.vue","mtime":1638516298159},{"path":"/Users/zhang/工作/pic_ad/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/zhang/工作/pic_ad/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/zhang/工作/pic_ad/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/zhang/工作/pic_ad/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmV4cG9ydCBkZWZhdWx0IHsKICBkYXRhICgpIHsKICAgIHJldHVybiB7CiAgICAgIGJ0bkxvYWRpbmc6IGZhbHNlLAogICAgICBmb3JtOiB7CiAgICAgICAgZ29vZHNfbmFtZTogJycsCiAgICAgICAgZGVzY3JpcHRpb246ICcnLAogICAgICAgIHN0YXJ0X3RpbWU6ICcnLAogICAgICAgIGVuZF90aW1lOiAnJwogICAgICB9LAogICAgICBydWxlRm9ybTogewogICAgICAgIGdvb2RzX25hbWU6IFsKICAgICAgICAgIHsgcmVxdWlyZWQ6IHRydWUsIG1lc3NhZ2U6ICfor7fovpPlhaXppJDnp43lkI3np7AnLCB0cmlnZ2VyOiAnYmx1cicgfQogICAgICAgIF0sCiAgICAgICAgc3RhcnRfdGltZTogWwogICAgICAgICAgeyByZXF1aXJlZDogdHJ1ZSwgbWVzc2FnZTogJ+ivt+mAieaLqeW8gOWni+WwsemkkOaXtuautScsIHRyaWdnZXI6ICdjaGFuZ2UnIH0KICAgICAgICBdLAogICAgICAgIGVuZF90aW1lOiBbCiAgICAgICAgICB7IHJlcXVpcmVkOiB0cnVlLCBtZXNzYWdlOiAn6K+36YCJ5oup57uT5p2f5bCx6aSQ5pe25q61JywgdHJpZ2dlcjogJ2NoYW5nZScgfQogICAgICAgIF0sCiAgICAgIH0KICAgIH07CiAgfSwKCiAgY29tcG9uZW50czoge30sCgogIGNvbXB1dGVkOiB7CiAgICBhZGRNb2RhbDp7CiAgICAgIGdldCgpewogICAgICAgIHJldHVybiB0aGlzLiRzdG9yZS5zdGF0ZS5nb29kcy5hZGRHb29kc01vZGFsOwogICAgICB9LAogICAgICBzZXQodmFsKXsKICAgICAgICB0aGlzLiRzdG9yZS5jb21taXQoJ3NldEFkZEdvb2RzTW9kYWwnLCB2YWwpCiAgICAgIH0KICAgIH0sCgogIH0sCgogIG1ldGhvZHM6IHsKICAgIGFkZEdvb2RzOiBhc3luYyBmdW5jdGlvbigpewogICAgICB0aGlzLiRyZWZzLmFkZE1vZGFsLnZhbGlkYXRlKCh2YWxpZCkgPT4gewogICAgICAgIGlmICh2YWxpZCkgewogICAgICAgICAgdGhpcy5idG5Mb2FkaW5nID0gdHJ1ZTsKICAgICAgICAgIGxldCBwYXJhbXMgPSB7CiAgICAgICAgICAgIG1lcmNoYW50X2lkOiB0aGlzLiRzdG9yZS5zdGF0ZS51c2VyLmN1ck1lcmNoYW50SWQsCiAgICAgICAgICAgIC4uLnRoaXMuZm9ybQogICAgICAgICAgfQogICAgICAgICAgdGhpcy4kc3RvcmUuZGlzcGF0Y2goJ2dvb2RzQWRkJywgcGFyYW1zKS50aGVuKHJlcyA9PiB7CiAgICAgICAgICAgIGlmIChyZXMucmV0dXJuX2NvZGUgPT0gMCkgewogICAgICAgICAgICAgIHRoaXMuYnRuTG9hZGluZyA9IGZhbHNlOwogICAgICAgICAgICAgIHRoaXMuJE1lc3NhZ2Uuc3VjY2Vzcygn5re75Yqg5oiQ5Yqf77yBJykKICAgICAgICAgICAgICB0aGlzLiRzdG9yZS5kaXNwYXRjaCgnZ29vZHNMaXN0JywgewogICAgICAgICAgICAgICAgbWVyY2hhbnRfaWQ6IHRoaXMuJHN0b3JlLnN0YXRlLnVzZXIuY3VyTWVyY2hhbnRJZCwKICAgICAgICAgICAgICAgIHBhZ2Vfc2l6ZTogdGhpcy4kcGFyZW50LnBhZ2Vfc2l6ZQogICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgIHRoaXMuJHN0b3JlLmNvbW1pdCgnc2V0QWRkR29vZHNNb2RhbCcsIGZhbHNlKTsKICAgICAgICAgICAgICB0aGlzLiRyZWZzLmFkZE1vZGFsLnJlc2V0RmllbGRzKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0pLmNhdGNoKGVyciA9PiB7CiAgICAgICAgICAgIHRoaXMuYnRuTG9hZGluZyA9IGZhbHNlOwogICAgICAgICAgfSk7CiAgICAgICAgfQogICAgICB9KTsKICAgIH0sCiAgfQp9Cgo="},{"version":3,"sources":["add-modal.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA6BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"add-modal.vue","sourceRoot":"src/views/setting/time-type-setting/components","sourcesContent":["<!--  -->\n<template>\n  <Modal\n    v-model=\"addModal\"\n    title=\"新增餐种\"\n    :footer-hide=\"true\"\n    width=\"420px\">\n    <Form :model=\"form\" :label-width=\"110\" ref=\"addModal\" :rules=\"ruleForm\">\n      <FormItem label=\"名称\" prop=\"goods_name\">\n        <Input v-model=\"form.goods_name\" style=\"width: 200px\" placeholder=\"请输入名称\" />\n      </FormItem>\n      <FormItem label=\"描述\" prop=\"description\">\n        <Input v-model=\"form.description\" style=\"width: 200px\" placeholder=\"请输入描述\" />\n      </FormItem>\n      <FormItem label=\"开始时间\" prop=\"start_time\">\n        <TimePicker v-model=\"form.start_time\" type=\"time\" placeholder=\"请选择开始时间\" style=\"width: 200px\"></TimePicker>\n      </FormItem>\n      <FormItem label=\"结束时间\" prop=\"end_time\">\n        <TimePicker v-model=\"form.end_time\" type=\"time\" placeholder=\"请选择结束时间\" style=\"width: 200px\"></TimePicker>\n      </FormItem>\n    </Form>\n    <div class=\"text-center margin-bottom-20 margin-top-30\">\n      <Button class=\"margin-right-20\" @click=\"$store.commit('setAddGoodsModal', false)\">取消</Button>\n      <Button type=\"primary\" :loading='btnLoading' @click=\"addGoods\">确定</Button>\n    </div>\n  </Modal>\n</template>\n\n<script>\nexport default {\n  data () {\n    return {\n      btnLoading: false,\n      form: {\n        goods_name: '',\n        description: '',\n        start_time: '',\n        end_time: ''\n      },\n      ruleForm: {\n        goods_name: [\n          { required: true, message: '请输入餐种名称', trigger: 'blur' }\n        ],\n        start_time: [\n          { required: true, message: '请选择开始就餐时段', trigger: 'change' }\n        ],\n        end_time: [\n          { required: true, message: '请选择结束就餐时段', trigger: 'change' }\n        ],\n      }\n    };\n  },\n\n  components: {},\n\n  computed: {\n    addModal:{\n      get(){\n        return this.$store.state.goods.addGoodsModal;\n      },\n      set(val){\n        this.$store.commit('setAddGoodsModal', val)\n      }\n    },\n\n  },\n\n  methods: {\n    addGoods: async function(){\n      this.$refs.addModal.validate((valid) => {\n        if (valid) {\n          this.btnLoading = true;\n          let params = {\n            merchant_id: this.$store.state.user.curMerchantId,\n            ...this.form\n          }\n          this.$store.dispatch('goodsAdd', params).then(res => {\n            if (res.return_code == 0) {\n              this.btnLoading = false;\n              this.$Message.success('添加成功！')\n              this.$store.dispatch('goodsList', {\n                merchant_id: this.$store.state.user.curMerchantId,\n                page_size: this.$parent.page_size\n              });\n              this.$store.commit('setAddGoodsModal', false);\n              this.$refs.addModal.resetFields();\n            }\n          }).catch(err => {\n            this.btnLoading = false;\n          });\n        }\n      });\n    },\n  }\n}\n\n</script>\n<style lang='less' scoped>\n</style>\n"]}]}