{"remainingRequest":"/Users/zhang/工作/pic_ad/node_modules/babel-loader/lib/index.js!/Users/zhang/工作/pic_ad/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/zhang/工作/pic_ad/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/zhang/工作/pic_ad/src/views/platform/tree.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/zhang/工作/pic_ad/src/views/platform/tree.vue","mtime":1638355006796},{"path":"/Users/zhang/工作/pic_ad/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/zhang/工作/pic_ad/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/zhang/工作/pic_ad/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/zhang/工作/pic_ad/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuc3BsaWNlLmpzIjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0ICJAL2Fzc2V0cy9sYXl1aS9sYXl1aS5qcyI7CmltcG9ydCBfIGZyb20gInVuZGVyc2NvcmUiOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogInRyZWVJdGVtIiwKICBwcm9wczogewogICAgdHJlZTogQXJyYXksCiAgICBzZWxlY3RlZDogQm9vbGVhbgogIH0sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGZvcm06ICcnLAogICAgICBsYXllcjogIiIsCiAgICAgIGN1ckl0ZW06IFtdLAogICAgICBpc1NlbDogdGhpcy5zZWxlY3RlZAogICAgfTsKICB9LAogIHdhdGNoOiB7CiAgICAnc2VsZWN0ZWQnOiBmdW5jdGlvbiBzZWxlY3RlZCh2YWwpIHsKICAgICAgdGhpcy5pc1NlbCA9IHZhbDsKICAgIH0KICB9LAogIG1vdW50ZWQ6IGZ1bmN0aW9uIG1vdW50ZWQoKSB7CiAgICBpZiAodGhpcy50cmVlICE9PSB1bmRlZmluZWQgJiYgdGhpcy50cmVlKSB7CiAgICAgIHZhciB0aGF0ID0gdGhpczsKICAgICAgbGF5dWkudXNlKFsnZm9ybScsICdsYXllciddLCBmdW5jdGlvbiAoKSB7CiAgICAgICAgdGhhdC5mb3JtID0gbGF5dWkuZm9ybTsKICAgICAgICB0aGF0LmxheWVyID0gbGF5dWkubGF5ZXI7CiAgICAgIH0pOwogICAgfQogIH0sCiAgbWV0aG9kczogewogICAgdG9nZ2xlOiBmdW5jdGlvbiB0b2dnbGUoaSkgewogICAgICB0aGlzLnRyZWVbaV0ub3BlbiA9ICF0aGlzLnRyZWVbaV0ub3BlbjsKICAgICAgdGhpcy4kc2V0KHRoaXMudHJlZSwgaSwgdGhpcy50cmVlW2ldKTsKICAgIH0sCiAgICBpc0ZvbGRlcjogZnVuY3Rpb24gaXNGb2xkZXIoZGF0YSkgewogICAgICByZXR1cm4gZGF0YS5jaGlsZCAmJiBkYXRhLmNoaWxkLmxlbmd0aDsKICAgIH0sCiAgICBjaGFuZ2VDaGVjazogZnVuY3Rpb24gY2hhbmdlQ2hlY2sodmFsKSB7CiAgICAgIGNvbnNvbGUubG9nKCJ0cmVlSXRlbS5jaGFuZ2VDaGVjay0tLS1pc1NlbD4+Pj4iICsgdGhpcy5jdXJJdGVtWzBdLnNlbCk7IC8vIHRoaXMuaXNTZWwgPSB0aGlzLmN1ckl0ZW1bMF0uc2VsOwoKICAgICAgdGhpcy5jaGFuZ2VDaGlsZCh0aGlzLmN1ckl0ZW0sIHRoaXMuY3VySXRlbVswXS5zZWwpOwogICAgICBjb25zb2xlLmxvZygidHJlZUl0ZW0uY2hhbmdlQ2hlY2stLS0tY3VyaXRlbT4+Pj4iICsgSlNPTi5zdHJpbmdpZnkodGhpcy5jdXJJdGVtKSk7CiAgICAgIGNvbnNvbGUubG9nKCJ0cmVlSXRlbS5jaGFuZ2VDaGVjay0tLS1hZnRlciB0cmVlPj4+PiIgKyBKU09OLnN0cmluZ2lmeSh0aGlzLnRyZWUpKTsKICAgICAgdGhpcy4kZm9yY2VVcGRhdGUoKTsgLy/lvLrliLbmm7TmlrAKICAgIH0sCiAgICBoYW5kbGVDaGVjazogZnVuY3Rpb24gaGFuZGxlQ2hlY2soaXRlbSkgewogICAgICB0aGlzLmN1ckl0ZW0uc3BsaWNlKDAsIHRoaXMuY3VySXRlbS5sZW5ndGgpOyAvL+a4heepuuaVsOe7hAoKICAgICAgdGhpcy5jdXJJdGVtLnB1c2goaXRlbSk7CiAgICAgIGNvbnNvbGUubG9nKCJ0cmVlSXRlbS5oYW5kbGVDaGVjay0tLS1pdGVtPj4+PiIgKyBKU09OLnN0cmluZ2lmeSh0aGlzLmN1ckl0ZW0pKTsKICAgIH0sCiAgICBjaGFuZ2VDaGlsZDogZnVuY3Rpb24gY2hhbmdlQ2hpbGQoZGF0YSwgaXNTZWwpIHsKICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBkYXRhLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgZGF0YVtpXVsnc2VsJ10gPSBpc1NlbDsKCiAgICAgICAgaWYgKGRhdGFbaV0uY2hpbGQubGVuZ3RoID4gMCkgewogICAgICAgICAgdGhpcy5jaGFuZ2VDaGlsZChkYXRhW2ldLmNoaWxkLCBpc1NlbCk7CiAgICAgICAgfQogICAgICB9CiAgICB9CiAgfSwKICBjcmVhdGVkOiBmdW5jdGlvbiBjcmVhdGVkKCkgewogICAgZnVuY3Rpb24gX2FkZE9wZW4oZGF0YSkgewogICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGRhdGEubGVuZ3RoOyBpKyspIHsKICAgICAgICBkYXRhW2ldWydvcGVuJ10gPSBmYWxzZTsKICAgICAgICBkYXRhW2ldWydzZWwnXSA9IGZhbHNlOwoKICAgICAgICBpZiAoZGF0YVtpXS5jaGlsZC5sZW5ndGggPiAwKSB7CiAgICAgICAgICBfYWRkT3BlbihkYXRhW2ldLmNoaWxkKTsKICAgICAgICB9CiAgICAgIH0KICAgIH0KCiAgICBpZiAodGhpcy50cmVlICE9PSB1bmRlZmluZWQgJiYgdGhpcy50cmVlKSB7CiAgICAgIF9hZGRPcGVuKHRoaXMudHJlZSk7CiAgICB9CiAgfQp9Ow=="},{"version":3,"sources":["tree.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <div>\n    <ul class=\"tree-box\" >\n      <li class=\"tree-item\" v-for='(v,i) in tree' :key=\"v.id\">\n        <div class=\"tree-info-box\">\n          <i  class=\"layui-icon\" :class=\"[ tree[i].open ? 'layui-icon-triangle-d' :'layui-icon-triangle-r']\" v-if=\"isFolder(v)\" @click=\"toggle(i)\"></i>\n          <i v-else  class=\"layui-icon\" style=\"padding:8px;\"></i>\n          <!-- <span :data-id=\"i\" class=\"title-name\" @click=\"changeCheck(i)\" >{{v.name}}</span> -->\n          <span @click=\"handleCheck(v)\" >\n            <Checkbox class=\"title-name\" v-model=\"v.sel\" :label=\"v.id\" @on-change=\"changeCheck\" >{{v.name}}+{{v.sel}}+{{v.id}}+{{isSel}}</Checkbox>\n          </span>\n\n        </div>\n        <treeItem v-bind:tree='v.child' :selected='v.sel' v-show=\"v.open\" style=\"margin-left: 20px;\"></treeItem>\n      </li>\n    </ul>\n  </div>\n</template>\n\n<script>\nimport \"@/assets/layui/layui.js\";\nimport _ from \"underscore\";\nexport default {\n  name: \"treeItem\",\n  props: { tree: Array, selected: Boolean },\n  data: function(){\n    return {\n      form: '',\n      layer: \"\",\n      curItem: [],\n      isSel: this.selected,\n    }\n  },\n\n  watch: {\n    'selected' : function(val){\n      this.isSel = val;\n    }\n  },\n\n  mounted() {\n    if (this.tree !== undefined && this.tree) {\n      let that = this;\n      layui.use(['form', 'layer'], function () {\n        that.form = layui.form;\n        that.layer = layui.layer;\n      });\n    }\n  },\n  methods: {\n    toggle: function(i) {\n      this.tree[i].open = !this.tree[i].open;\n      this.$set(this.tree, i, this.tree[i]);\n    },\n    isFolder: function(data) {\n      return data.child && data.child.length\n    },\n    changeCheck(val) {\n      console.log(\"treeItem.changeCheck----isSel>>>>\" + this.curItem[0].sel);\n      // this.isSel = this.curItem[0].sel;\n      this.changeChild(this.curItem, this.curItem[0].sel);\n      console.log(\"treeItem.changeCheck----curitem>>>>\" + JSON.stringify(this.curItem));\n      console.log(\"treeItem.changeCheck----after tree>>>>\" + JSON.stringify(this.tree));\n      this.$forceUpdate();//强制更新\n\n    },\n    handleCheck(item){\n      this.curItem.splice(0,this.curItem.length);//清空数组\n      this.curItem.push(item);\n      console.log(\"treeItem.handleCheck----item>>>>\" + JSON.stringify(this.curItem));\n    },\n\n    changeChild(data, isSel){\n      for (let i = 0; i < data.length; i++) {\n        data[i]['sel'] = isSel;\n        if (data[i].child.length > 0) {\n          this.changeChild(data[i].child, isSel);\n        }\n      }\n\n    },\n\n  },\n\n  created: function() {\n    function _addOpen(data) {\n      for (let i = 0; i < data.length; i++) {\n        data[i]['open'] = false;\n        data[i]['sel'] = false;\n        if (data[i].child.length > 0) {\n          _addOpen(data[i].child);\n        }\n      }\n    }\n    if (this.tree !== undefined && this.tree) {\n      _addOpen(this.tree);\n    }\n  },\n\n\n}\n</script>\n<style scoped>\n@import \"../../assets/layui/css/tree.css\";\n@import \"../../assets/layui/css/layui.css\";\n</style>\n\n"],"sourceRoot":"src/views/platform"}]}