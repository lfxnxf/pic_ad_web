{"remainingRequest":"/Users/zhang/工作/pic_ad/node_modules/babel-loader/lib/index.js!/Users/zhang/工作/pic_ad/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/zhang/工作/pic_ad/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/zhang/工作/pic_ad/src/views/staff-management/dining-staff/components/add-otheruser-modal.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/zhang/工作/pic_ad/src/views/staff-management/dining-staff/components/add-otheruser-modal.vue","mtime":1638428409482},{"path":"/Users/zhang/工作/pic_ad/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/zhang/工作/pic_ad/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/zhang/工作/pic_ad/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/zhang/工作/pic_ad/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9vYmplY3RTcHJlYWQgZnJvbSAiL1VzZXJzL3poYW5nL1x1NURFNVx1NEY1Qy9waWNfYWQvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL29iamVjdFNwcmVhZDIiOwppbXBvcnQgX2FzeW5jVG9HZW5lcmF0b3IgZnJvbSAiL1VzZXJzL3poYW5nL1x1NURFNVx1NEY1Qy9waWNfYWQvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2FzeW5jVG9HZW5lcmF0b3IiOwppbXBvcnQgInJlZ2VuZXJhdG9yLXJ1bnRpbWUvcnVudGltZS5qcyI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmltcG9ydCBfIGZyb20gInVuZGVyc2NvcmUiOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogImFkZC1vdGhlcnVzZXItbW9kYWwudnVlIiwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgYnRuTG9hZGluZzogZmFsc2UsCiAgICAgIGZvcm06IHsKICAgICAgICBuYW1lOiAnJywKICAgICAgICBpZF9ubzogJycsCiAgICAgICAgcGhvbmVzOiAnJywKICAgICAgICByb2xlX2lkOiB1bmRlZmluZWQsCiAgICAgICAgY2FyZF9ubzogJycsCiAgICAgICAgZW1haWxzOiAnJwogICAgICB9LAogICAgICBydWxlRm9ybTogewogICAgICAgIG5hbWU6IFt7CiAgICAgICAgICByZXF1aXJlZDogdHJ1ZSwKICAgICAgICAgIG1lc3NhZ2U6ICfor7fovpPlhaXlp5PlkI0nLAogICAgICAgICAgdHJpZ2dlcjogJ2JsdXInCiAgICAgICAgfV0sCiAgICAgICAgaWRfbm86IFt7CiAgICAgICAgICByZXF1aXJlZDogdHJ1ZSwKICAgICAgICAgIG1lc3NhZ2U6ICfor7fovpPlhaXouqvku73or4Hlj7cnLAogICAgICAgICAgdHJpZ2dlcjogJ2JsdXInCiAgICAgICAgfV0sCiAgICAgICAgcGhvbmVzOiBbewogICAgICAgICAgcmVxdWlyZWQ6IHRydWUsCiAgICAgICAgICBtZXNzYWdlOiAn6K+35aGr5YaZ5omL5py65Y+3JywKICAgICAgICAgIHRyaWdnZXI6ICdibHVyJwogICAgICAgIH1dLAogICAgICAgIHJvbGVfaWQ6IFt7CiAgICAgICAgICByZXF1aXJlZDogdHJ1ZSwKICAgICAgICAgIG1lc3NhZ2U6ICfor7fpgInmi6nkurrlkZjnsbvlnosnLAogICAgICAgICAgdHJpZ2dlcjogJ2NoYW5nZScKICAgICAgICB9XQogICAgICB9CiAgICB9OwogIH0sCiAgY29tcG9uZW50czoge30sCiAgY29tcHV0ZWQ6IHsKICAgIG90aGVyVXNlckFkZE1vZGFsOiB7CiAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkgewogICAgICAgIHJldHVybiB0aGlzLiRzdG9yZS5zdGF0ZS51c2VyLm90aGVyVXNlck1vZGFsOwogICAgICB9LAogICAgICBzZXQ6IGZ1bmN0aW9uIHNldCh2YWwpIHsKICAgICAgICB0aGlzLiRzdG9yZS5jb21taXQoJ3NldE90aGVyVXNlck1vZGFsJywgdmFsKTsKICAgICAgfQogICAgfSwKICAgIHJvbGVMaXN0OiBmdW5jdGlvbiByb2xlTGlzdCgpIHsKICAgICAgcmV0dXJuIHRoaXMuJHN0b3JlLnN0YXRlLnJvbGUucm9sZUxpc3QucmVzdWx0OwogICAgfQogIH0sCiAgbWV0aG9kczogewogICAgYWRkT3RoZXJVc2VyOiBmdW5jdGlvbiAoKSB7CiAgICAgIHZhciBfYWRkT3RoZXJVc2VyID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlKCkgewogICAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIHRoaXMuJHJlZnMuZm9ybU90aGVyVXNlck1vZGFsLnZhbGlkYXRlKGZ1bmN0aW9uICh2YWxpZCkgewogICAgICAgICAgICAgICAgICBpZiAodmFsaWQpIHsKICAgICAgICAgICAgICAgICAgICBfdGhpcy5idG5Mb2FkaW5nID0gdHJ1ZTsKCiAgICAgICAgICAgICAgICAgICAgdmFyIHBhcmFtcyA9IF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZCh7fSwgX3RoaXMuZm9ybSksIHt9LCB7CiAgICAgICAgICAgICAgICAgICAgICBtZXJjaGFudF9pZDogX3RoaXMuJHN0b3JlLnN0YXRlLnVzZXIuY3VyTWVyY2hhbnRJZCwKICAgICAgICAgICAgICAgICAgICAgIHVzZXJfdHlwZTogMiwKICAgICAgICAgICAgICAgICAgICAgIGNfdXNlcmNvZGU6IF90aGlzLiRzdG9yZS5zdGF0ZS51c2VyLmVtcFVzZXJDb2RlLAogICAgICAgICAgICAgICAgICAgICAgb3JnX2lkOiBfdGhpcy4kc3RvcmUuc3RhdGUudXNlci5jdXJPcmdJZCwKICAgICAgICAgICAgICAgICAgICAgIG9yZ19uYW1lOiBfdGhpcy4kc3RvcmUuc3RhdGUudXNlci5jdXJPcmdOYW1lLAogICAgICAgICAgICAgICAgICAgICAgaXNfYWRtaW46IDAsCiAgICAgICAgICAgICAgICAgICAgICBpc193YWxsZXRfYWRtaW46IDAKICAgICAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgICAgICAgdmFyIHBhcmFtc0RhdGEgPSBbXTsKICAgICAgICAgICAgICAgICAgICBwYXJhbXNEYXRhLnB1c2gocGFyYW1zKTsKICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnMjIyMjIyMjIyJywgcGFyYW1zRGF0YSk7CgogICAgICAgICAgICAgICAgICAgIHZhciBCYXNlNjQgPSByZXF1aXJlKCdqcy1iYXNlNjQnKS5CYXNlNjQ7CgogICAgICAgICAgICAgICAgICAgIHZhciBkZXRhaWxzID0gQmFzZTY0LmVuY29kZShKU09OLnN0cmluZ2lmeShwYXJhbXNEYXRhKSk7CiAgICAgICAgICAgICAgICAgICAgdmFyIHJlcVBhcmFtcyA9IHsKICAgICAgICAgICAgICAgICAgICAgIHNlc3Npb25pZDogX3RoaXMuJHN0b3JlLnN0YXRlLnVzZXIudG9rZW4sCiAgICAgICAgICAgICAgICAgICAgICB1c2VyX2RldGFpbDogZGV0YWlscwogICAgICAgICAgICAgICAgICAgIH07CgogICAgICAgICAgICAgICAgICAgIF90aGlzLiRzdG9yZS5kaXNwYXRjaCgndXNlckFkZCcsIHJlcVBhcmFtcykudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgICAgICAgICAgICAgICBpZiAocmVzLnJldHVybl9jb2RlID09IDApIHsKICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMuYnRuTG9hZGluZyA9IGZhbHNlOwoKICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMuJE1lc3NhZ2Uuc3VjY2Vzcygn5re75Yqg5bCx6aSQ5Lq65ZGY5oiQ5Yqf77yBJyk7CgogICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy4kcGFyZW50LnF1ZXJ5KCk7CgogICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy4kc3RvcmUuY29tbWl0KCdzZXRPdGhlclVzZXJNb2RhbCcsIGZhbHNlKTsKCiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLiRyZWZzLmZvcm1PdGhlclVzZXJNb2RhbC5yZXNldEZpZWxkcygpOwogICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMuJE1lc3NhZ2UuZXJyb3IoIumUmeivr+egge+8miIgKyByZXMucmV0dXJuX2NvZGUgKyAiLCDplJnor6/kv6Hmga/vvJoiICsgcmVzLnJldHVybl9tZXNzYWdlKTsKICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9KVsiY2F0Y2giXShmdW5jdGlvbiAoZXJyKSB7CiAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5idG5Mb2FkaW5nID0gZmFsc2U7CiAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygiYWRkT3RoZXJVc2VyPT09PT09ZXJyb3I+Pj4+IiArIGVycik7CiAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBjYXNlIDE6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlLCB0aGlzKTsKICAgICAgfSkpOwoKICAgICAgZnVuY3Rpb24gYWRkT3RoZXJVc2VyKCkgewogICAgICAgIHJldHVybiBfYWRkT3RoZXJVc2VyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICAgIH0KCiAgICAgIHJldHVybiBhZGRPdGhlclVzZXI7CiAgICB9KCkKICB9LAogIHdhdGNoOiB7CiAgICBvdGhlclVzZXJBZGRNb2RhbDogZnVuY3Rpb24gb3RoZXJVc2VyQWRkTW9kYWwodmFsKSB7CiAgICAgIGlmICghdmFsKSB7CiAgICAgICAgdGhpcy5mb3JtID0gewogICAgICAgICAgbmFtZTogJycsCiAgICAgICAgICBpZF9ubzogJycsCiAgICAgICAgICBwaG9uZXM6ICcnLAogICAgICAgICAgcm9sZV9pZDogdW5kZWZpbmVkLAogICAgICAgICAgY2FyZF9ubzogJycsCiAgICAgICAgICBlbWFpbHM6ICcnCiAgICAgICAgfTsKICAgICAgICB0aGlzLmJ0bkxvYWRpbmcgPSBmYWxzZTsKICAgICAgfSBlbHNlIHsvLyB0aGlzLiRyZWZzWydmb3JtT3RoZXJVc2VyTW9kYWwnXS5yZXNldEZpZWxkcygpOwogICAgICB9CiAgICB9CiAgfQp9Ow=="},{"version":3,"sources":["add-otheruser-modal.vue"],"names":[],"mappings":"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","sourcesContent":["\n<!--  -->\n<template>\n  <Modal v-model=\"otherUserAddModal\"\n         width=\"520px\"\n         :footer-hide=\"true\"\n         title=\"添加其他就餐人员\">\n    <Form class=\"padding-left-20\" :model=\"form\" :label-width=\"80\" ref=\"formOtherUserModal\" :rules=\"ruleForm\" >\n      <FormItem label=\"姓名\" prop=\"name\">\n        <Input type=\"text\" v-model=\"form.name\" style=\"width: 80%;\"/>\n      </FormItem>\n      <FormItem label=\"身份证号\" prop=\"id_no\">\n        <Input type=\"text\" v-model=\"form.id_no\" style=\"width: 80%;\"/>\n      </FormItem>\n      <FormItem label=\"手机号\"  prop=\"phones\">\n        <Input type=\"text\" v-model=\"form.phones\" style=\"width: 80%;\"/>\n      </FormItem>\n      <FormItem label=\"人员类型\" prop=\"role_id\">\n        <Select class=\"r\" v-model=\"form.role_id\" style=\"width: 80%;\">\n          <Option v-for=\"item of roleList\" :key=\"item.role_id\" :value=\"item.role_id+''\">{{item.name}}</Option>\n        </Select>\n      </FormItem>\n      <FormItem label=\"就餐卡号\">\n        <Input type=\"text\" v-model=\"form.card_no\" style=\"width: 80%;\"/>\n      </FormItem>\n      <FormItem label=\"邮箱\">\n        <Input type=\"text\" v-model=\"form.emails\" style=\"width: 80%;\"/>\n      </FormItem>\n      <div class=\"text-center margin-bottom-20 margin-top-30\">\n        <Button class=\"margin-right-20\" @click=\"$store.commit('setOtherUserModal', false)\">取消</Button>\n        <Button type=\"primary\" :loading=\"btnLoading\" @click=\"addOtherUser\">确定</Button>\n      </div>\n\n    </Form>\n  </Modal>\n</template>\n\n<script>\nimport _ from \"underscore\";\n\nexport default {\n  name: \"add-otheruser-modal.vue\",\n  data () {\n    return {\n      btnLoading: false,\n      form: {\n        name: '',\n        id_no: '',\n        phones: '',\n        role_id: undefined,\n        card_no: '',\n        emails: ''\n      },\n      ruleForm: {\n        name: [\n          { required: true, message: '请输入姓名', trigger: 'blur' }\n        ],\n        id_no: [\n          { required: true, message: '请输入身份证号', trigger: 'blur' }\n        ],\n        phones: [\n          { required: true, message: '请填写手机号', trigger: 'blur' }\n        ],\n        role_id: [\n          { required: true, message: '请选择人员类型', trigger: 'change' }\n        ],\n      }\n    };\n  },\n\n  components: {},\n\n  computed: {\n    otherUserAddModal: {\n      get() {\n        return this.$store.state.user.otherUserModal;\n      },\n      set(val) {\n        this.$store.commit('setOtherUserModal', val);\n      }\n    },\n    roleList(){\n      return this.$store.state.role.roleList.result;\n    },\n\n  },\n\n  methods: {\n    addOtherUser: async function(){\n      this.$refs.formOtherUserModal.validate((valid) => {\n        if (valid) {\n          this.btnLoading = true;\n          let params = {\n            ...this.form,\n            merchant_id: this.$store.state.user.curMerchantId,\n            user_type: 2,\n            c_usercode: this.$store.state.user.empUserCode,\n            org_id: this.$store.state.user.curOrgId,\n            org_name: this.$store.state.user.curOrgName,\n            is_admin: 0,\n            is_wallet_admin: 0,\n          };\n\n          let paramsData = [];\n          paramsData.push(params);\n          console.log('222222222',paramsData)\n\n          let Base64 = require('js-base64').Base64;\n          let details = Base64.encode(JSON.stringify(paramsData));\n\n          let reqParams = {\n            sessionid: this.$store.state.user.token,\n            user_detail: details,\n          };\n\n          this.$store.dispatch('userAdd', reqParams).then(res=>{\n            if(res.return_code == 0){\n              this.btnLoading = false;\n              this.$Message.success('添加就餐人员成功！');\n              this.$parent.query();\n              this.$store.commit('setOtherUserModal', false);\n              this.$refs.formOtherUserModal.resetFields();\n            }\n            else{\n              this.$Message.error(\"错误码：\" + res.return_code + \", 错误信息：\" + res.return_message);\n            }\n          }).catch((err) => {\n            this.btnLoading = false;\n            console.log(\"addOtherUser======error>>>>\" + err);\n          });\n        }\n      })\n    },\n  },\n  watch: {\n    otherUserAddModal(val){\n      if(!val){\n        this.form = {\n          name: '',\n          id_no: '',\n          phones: '',\n          role_id: undefined,\n          card_no: '',\n          emails: ''\n        }\n        this.btnLoading = false;\n      }else{\n        // this.$refs['formOtherUserModal'].resetFields();\n      }\n    }\n  }\n}\n\n</script>\n<style lang='less' scoped>\n</style>\n"],"sourceRoot":"src/views/staff-management/dining-staff/components"}]}