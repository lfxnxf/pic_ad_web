{"remainingRequest":"/Users/zhang/工作/pic_ad/node_modules/babel-loader/lib/index.js!/Users/zhang/工作/pic_ad/src/libs/device.js","dependencies":[{"path":"/Users/zhang/工作/pic_ad/src/libs/device.js","mtime":1638355006756},{"path":"/Users/zhang/工作/pic_ad/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/zhang/工作/pic_ad/node_modules/babel-loader/lib/index.js","mtime":315532800000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF90eXBlb2YgZnJvbSAiL1VzZXJzL3poYW5nL1x1NURFNVx1NEY1Qy9waWNfYWQvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL3R5cGVvZiI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmluZGV4LW9mLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMucmVnZXhwLmV4ZWMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcubWF0Y2guanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5kYXRlLnRvLXN0cmluZy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5yZXBsYWNlLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnJlZ2V4cC50by1zdHJpbmcuanMiOwp2YXIgYnJvd3NlclR5cGUgPSB7CiAgd3g6ICd3eCcsCiAgYWxpOiAnYWxpJywKICBxcTogJ3FxJywKICB3ZWlibzogJ3diJywKICBvdGhlcjogJ290aGVyJwp9Owp2YXIgX2Jyb3dzZXIgPSB7CiAgdmVyc2lvbnM6IGZ1bmN0aW9uIHZlcnNpb25zKCkgewogICAgdmFyIHUgPSBuYXZpZ2F0b3IudXNlckFnZW50OyAvLyBsZXQgYXBwID0gbmF2aWdhdG9yLmFwcFZlcnNpb24KCiAgICByZXR1cm4gewogICAgICAvLyDnp7vliqjnu4jnq6/mtY/op4jlmajniYjmnKzkv6Hmga8KICAgICAgdHJpZGVudDogdS5pbmRleE9mKCdUcmlkZW50JykgPiAtMSwKICAgICAgLy8gSUXlhoXmoLgKICAgICAgcHJlc3RvOiB1LmluZGV4T2YoJ1ByZXN0bycpID4gLTEsCiAgICAgIC8vIG9wZXJh5YaF5qC4CiAgICAgIHdlYktpdDogdS5pbmRleE9mKCdBcHBsZVdlYktpdCcpID4gLTEsCiAgICAgIC8vIOiLueaenOOAgeiwt+atjOWGheaguAogICAgICBnZWNrbzogdS5pbmRleE9mKCdHZWNrbycpID4gLTEgJiYgdS5pbmRleE9mKCdLSFRNTCcpID09PSAtMSwKICAgICAgLy8g54Gr54uQ5YaF5qC4CiAgICAgIG1vYmlsZTogISF1Lm1hdGNoKC9BcHBsZVdlYktpdC4qTW9iaWxlLiovKSwKICAgICAgLy8g5piv5ZCm5Li656e75Yqo57uI56uvCiAgICAgIGlPUzogISF1Lm1hdGNoKC9cKGlbXjtdKzsoIFU7KT8gQ1BVLitNYWMgT1MgWC8pLAogICAgICAvLyBpb3Pnu4jnq68KICAgICAgQW5kcm9pZDogdS5pbmRleE9mKCdBbmRyb2lkJykgPiAtMSB8fCB1LmluZGV4T2YoJ0xpbnV4JykgPiAtMSwKICAgICAgLy8gYW5kcm9pZOe7iOerr+aIlnVj5rWP6KeI5ZmoCiAgICAgIGlQaG9uZTogdS5pbmRleE9mKCdpUGhvbmUnKSA+IC0xLAogICAgICAvLyDmmK/lkKbkuLppUGhvbmXmiJbogIVRUUhE5rWP6KeI5ZmoCiAgICAgIGlQYWQ6IHUuaW5kZXhPZignaVBhZCcpID4gLTEsCiAgICAgIC8vIOaYr+WQpmlQYWQKICAgICAgd2ViQXBwOiB1LmluZGV4T2YoJ1NhZmFyaScpID09PSAtMSAvLyDmmK/lkKZ3ZWLlupTor6XnqIvluo/vvIzmsqHmnInlpLTpg6jkuI7lupXpg6gKCiAgICB9OwogIH0sCiAgbGFuZ3VhZ2U6IChuYXZpZ2F0b3IuYnJvd3Nlckxhbmd1YWdlIHx8IG5hdmlnYXRvci5sYW5ndWFnZSkudG9Mb3dlckNhc2UoKQp9OwoKdmFyIFVVSUQgPSBmdW5jdGlvbiBVVUlEKCkgewogIHZhciBkID0gbmV3IERhdGUoKS5nZXRUaW1lKCk7CiAgdmFyIHV1aWQgPSAneHh4eHh4eHgteHh4eC00eHh4LXl4eHgteHh4eHh4eHh4eHh4Jy5yZXBsYWNlKC9beHldL2csIGZ1bmN0aW9uIChjKSB7CiAgICB2YXIgciA9IChkICsgTWF0aC5yYW5kb20oKSAqIDE2KSAlIDE2IHwgMDsKICAgIGQgPSBNYXRoLmZsb29yKGQgLyAxNik7CiAgICByZXR1cm4gKGMgPT09ICd4JyA/IHIgOiByICYgMHg3IHwgMHg4KS50b1N0cmluZygxNik7CiAgfSk7CiAgcmV0dXJuIHV1aWQ7Cn07Cgp2YXIgZGV2aWNlID0gewogIGJyb3dzZXJUeXBlOiBicm93c2VyVHlwZSwKICBkZXZpY2VJZDogZnVuY3Rpb24gZGV2aWNlSWQoKSB7CiAgICB2YXIgZGV2aWNlSWQgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnZGV2aWNlJyk7IC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSB2YWxpZC10eXBlb2YKCiAgICBpZiAoZGV2aWNlSWQgPT09IG51bGwgfHwgX3R5cGVvZihkZXZpY2VJZCkgPT09IHVuZGVmaW5lZCkgewogICAgICBkZXZpY2VJZCA9IFVVSUQoKTsKICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ2RldmljZScsIGRldmljZUlkKTsKICAgIH0KCiAgICByZXR1cm4gZGV2aWNlSWQ7CiAgfSwKICB1YTogZnVuY3Rpb24gdWEoKSB7CiAgICByZXR1cm4gbmF2aWdhdG9yLnVzZXJBZ2VudC50b0xvd2VyQ2FzZSgpOwogIH0sCiAgYnJvd3NlcjogZnVuY3Rpb24gYnJvd3NlcigpIHsKICAgIHZhciB1YSA9IHRoaXMudWEoKTsKCiAgICBpZiAoX2Jyb3dzZXIudmVyc2lvbnMoKS5tb2JpbGUpIHsKICAgICAgaWYgKHVhLm1hdGNoKC9NaWNyb01lc3Nlbmdlci9pKSA9PT0gJ21pY3JvbWVzc2VuZ2VyJykgewogICAgICAgIC8vIOWcqOW+ruS/oeS4reaJk+W8gAogICAgICAgIHJldHVybiBicm93c2VyVHlwZS53eDsKICAgICAgfQoKICAgICAgaWYgKHVhLm1hdGNoKC9XZWlCby9pKSA9PT0gJ3dlaWJvJykgewogICAgICAgIC8vIOWcqOaWsOa1quW+ruWNmuWuouaIt+err+aJk+W8gAogICAgICAgIHJldHVybiBicm93c2VyVHlwZS53ZWlibzsKICAgICAgfQoKICAgICAgaWYgKHVhLm1hdGNoKC9RUS9pKSA9PT0gJ3FxJykgewogICAgICAgIC8vIOWcqFFR56m66Ze05omT5byACiAgICAgICAgcmV0dXJuIGJyb3dzZXJUeXBlLnFxOwogICAgICB9CgogICAgICBpZiAodWEubWF0Y2goL2FsaXBheWRlZmluZWQvaSkgPT09ICdhbGlwYXlkZWZpbmVkJyB8fCB1YS5tYXRjaCgvYWxpYXBwL2kpID09PSAnYWxpYXBwJyB8fCB1YS5tYXRjaCgvYWxpcGF5Y2xpZW50L2kpID09PSAnYWxpcGF5Y2xpZW50JykgewogICAgICAgIC8vIOWcqOaUr+S7mOWuneS4reaJk+W8gAogICAgICAgIHJldHVybiBicm93c2VyVHlwZS5hbGk7CiAgICAgIH0KCiAgICAgIHJldHVybiBicm93c2VyVHlwZS5vdGhlcjsKICAgIH0KCiAgICByZXR1cm4gJ3BjJzsKICB9Cn07CmV4cG9ydCBkZWZhdWx0IGRldmljZTs="},{"version":3,"sources":["/Users/zhang/工作/pic_ad/src/libs/device.js"],"names":["browserType","wx","ali","qq","weibo","other","browser","versions","u","navigator","userAgent","trident","indexOf","presto","webKit","gecko","mobile","match","iOS","Android","iPhone","iPad","webApp","language","browserLanguage","toLowerCase","UUID","d","Date","getTime","uuid","replace","c","r","Math","random","floor","toString","device","deviceId","localStorage","getItem","undefined","setItem","ua"],"mappings":"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","sourcesContent":["const browserType = {\n  wx: 'wx',\n  ali: 'ali',\n  qq: 'qq',\n  weibo: 'wb',\n  other: 'other'\n}\n\nconst browser = {\n  versions () {\n    const u = navigator.userAgent\n    // let app = navigator.appVersion\n    return { // 移动终端浏览器版本信息\n      trident: u.indexOf('Trident') > -1, // IE内核\n      presto: u.indexOf('Presto') > -1, // opera内核\n      webKit: u.indexOf('AppleWebKit') > -1, // 苹果、谷歌内核\n      gecko: u.indexOf('Gecko') > -1 && u.indexOf('KHTML') === -1, // 火狐内核\n      mobile: !!u.match(/AppleWebKit.*Mobile.*/), // 是否为移动终端\n      iOS: !!u.match(/\\(i[^;]+;( U;)? CPU.+Mac OS X/), // ios终端\n      Android: u.indexOf('Android') > -1 || u.indexOf('Linux') > -1, // android终端或uc浏览器\n      iPhone: u.indexOf('iPhone') > -1, // 是否为iPhone或者QQHD浏览器\n      iPad: u.indexOf('iPad') > -1, // 是否iPad\n      webApp: u.indexOf('Safari') === -1 // 是否web应该程序，没有头部与底部\n    }\n  },\n  language: (navigator.browserLanguage || navigator.language).toLowerCase()\n}\n\nconst UUID = () => {\n  var d = new Date().getTime()\n  var uuid = 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, (c) => {\n    var r = (d + Math.random() * 16) % 16 | 0\n    d = Math.floor(d / 16)\n    return (c === 'x' ? r : (r & 0x7 | 0x8)).toString(16)\n  })\n  return uuid\n}\n\nconst device = {\n  browserType: browserType,\n  deviceId () {\n    let deviceId = localStorage.getItem('device')\n    // eslint-disable-next-line valid-typeof\n    if (deviceId === null || typeof deviceId === undefined) {\n      deviceId = UUID()\n      localStorage.setItem('device', deviceId)\n    }\n    return deviceId\n  },\n  ua () {\n    return navigator.userAgent.toLowerCase()\n  },\n  browser () {\n    const ua = this.ua()\n    if (browser.versions().mobile) {\n      if (ua.match(/MicroMessenger/i) === 'micromessenger') {\n        // 在微信中打开\n        return browserType.wx\n      }\n      if (ua.match(/WeiBo/i) === 'weibo') {\n        // 在新浪微博客户端打开\n        return browserType.weibo\n      }\n\n      if (ua.match(/QQ/i) === 'qq') {\n        // 在QQ空间打开\n        return browserType.qq\n      }\n\n      if (ua.match(/alipaydefined/i) === 'alipaydefined' || ua.match(/aliapp/i) === 'aliapp' ||\n          ua.match(/alipayclient/i) === 'alipayclient') {\n        // 在支付宝中打开\n        return browserType.ali\n      }\n\n      return browserType.other\n    }\n    return 'pc'\n  }\n}\n\nexport default device\n"]}]}