{"remainingRequest":"/Users/zhang/canteen_manage/node_modules/babel-loader/lib/index.js!/Users/zhang/canteen_manage/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/zhang/canteen_manage/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/zhang/canteen_manage/src/views/statistics/stat-order/components/form.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/zhang/canteen_manage/src/views/statistics/stat-order/components/form.vue","mtime":1638355006817},{"path":"/Users/zhang/canteen_manage/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/zhang/canteen_manage/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/zhang/canteen_manage/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/zhang/canteen_manage/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9vYmplY3RTcHJlYWQgZnJvbSAiL1VzZXJzL3poYW5nL2NhbnRlZW5fbWFuYWdlL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9vYmplY3RTcHJlYWQyIjsKaW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIi9Vc2Vycy96aGFuZy9jYW50ZWVuX21hbmFnZS9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXN5bmNUb0dlbmVyYXRvciI7CmltcG9ydCAicmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZGF0ZS50by1zdHJpbmcuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QudG8tc3RyaW5nLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMucmVnZXhwLnRvLXN0cmluZy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnJlZ2V4cC5leGVjLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLnNwbGl0LmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuam9pbi5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmluZGV4LW9mLmpzIjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IF8gZnJvbSAndW5kZXJzY29yZSc7CmltcG9ydCBtb21lbnQgZnJvbSAibW9tZW50LXRpbWV6b25lIjsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICdzZWFyY2hGb3JtJywKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgZm9ybTogewogICAgICAgIGRhdGU6IFttb21lbnQoKS5mb3JtYXQoJ1lZWVktTU0tREQnKSwgbW9tZW50KCkuZm9ybWF0KCdZWVlZLU1NLUREJyldLAogICAgICAgIHVuaXQ6ICdkYXknLAogICAgICAgIHN0YXJ0TW9udGg6IG1vbWVudCgpLmZvcm1hdCgnWVlZWS1NTScpLAogICAgICAgIGVuZE1vbnRoOiBtb21lbnQoKS5mb3JtYXQoJ1lZWVktTU0nKSwKICAgICAgICB0aW1lX3R5cGU6IFtdCiAgICAgIH0sCiAgICAgIGV4cG9ydF9leGNlbF9wYXJhbXM6IHt9CiAgICB9OwogIH0sCiAgY29tcHV0ZWQ6IHsKICAgIHJlc3VsdEZvcm06IGZ1bmN0aW9uIHJlc3VsdEZvcm0oKSB7CiAgICAgIHZhciBkYXRhID0gewogICAgICAgIHVuaXQ6IHRoaXMuZm9ybS51bml0LAogICAgICAgIHRpbWVfdHlwZTogdGhpcy5mb3JtLnRpbWVfdHlwZVswXSA9PSAnLTEnID8gJycgOiB0aGlzLmZvcm0udGltZV90eXBlLnRvU3RyaW5nKCksCiAgICAgICAgc3RhcnQ6IG1vbWVudCh0aGlzLmZvcm0uZGF0ZVswXSkuZm9ybWF0KCdZWVlZLU1NLUREJyksCiAgICAgICAgZW5kOiBtb21lbnQodGhpcy5mb3JtLmRhdGVbMV0pLmZvcm1hdCgnWVlZWS1NTS1ERCcpCiAgICAgIH07CgogICAgICBpZiAodGhpcy5mb3JtLnVuaXQgPT0gJ21vbnRoJykgewogICAgICAgIGRhdGEuc3RhcnQgPSBtb21lbnQodGhpcy5mb3JtLnN0YXJ0TW9udGgpLmZvcm1hdCgnWVlZWS1NTScpOwogICAgICAgIGRhdGEuZW5kID0gbW9tZW50KHRoaXMuZm9ybS5lbmRNb250aCkuZm9ybWF0KCdZWVlZLU1NJyk7CiAgICAgIH0KCiAgICAgIHJldHVybiBkYXRhOwogICAgfQogIH0sCiAgbWV0aG9kczogewogICAgcXVlcnlTdGF0OiBmdW5jdGlvbiAoKSB7CiAgICAgIHZhciBfcXVlcnlTdGF0ID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlKHBhZ2UpIHsKICAgICAgICB2YXIgc3RhcnREYXRlLCBlbmREYXRlLCBwYXJhbXMsIHJlczsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICB0aGlzLiRzdG9yZS5jb21taXQoJ1RBQkxFX0xPQURJTkcnLCB0cnVlKTsKICAgICAgICAgICAgICAgIHN0YXJ0RGF0ZSA9IHRoaXMucmVzdWx0Rm9ybS5zdGFydCB8fCAnJzsKICAgICAgICAgICAgICAgIGVuZERhdGUgPSB0aGlzLnJlc3VsdEZvcm0uZW5kIHx8ICcnOwoKICAgICAgICAgICAgICAgIGlmICghKHN0YXJ0RGF0ZSA9PSAnJyB8fCBzdGFydERhdGUgPT0gJ0ludmFsaWQgZGF0ZScgfHwgZW5kRGF0ZSA9PSAnJyB8fCBlbmREYXRlID09ICdJbnZhbGlkIGRhdGUnKSkgewogICAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gNjsKICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgdGhpcy4kTWVzc2FnZS5lcnJvcigi6K+36YCJ5oup5bCx6aSQ57uf6K6h5pel5pyf6LW35q2i77yBIik7CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuYWJydXB0KCJyZXR1cm4iKTsKCiAgICAgICAgICAgICAgY2FzZSA2OgogICAgICAgICAgICAgICAgdGhpcy4kZW1pdCgnZ2V0RGF0ZScsIHRoaXMucmVzdWx0Rm9ybSk7IC8vIC8vIHRoaXMuJHN0b3JlLmNvbW1pdCgnc2V0RW1wbG95ZWVMaXN0TG9hZGluZycsIHRydWUpOwoKICAgICAgICAgICAgICAgIHBhcmFtcyA9IF9vYmplY3RTcHJlYWQoewogICAgICAgICAgICAgICAgICBtZXJjaGFudF9pZDogdGhpcy4kc3RvcmUuc3RhdGUudXNlci5jdXJNZXJjaGFudElkLAogICAgICAgICAgICAgICAgICBzZXNzaW9uaWQ6IHRoaXMuJHN0b3JlLnN0YXRlLnVzZXIudG9rZW4sCiAgICAgICAgICAgICAgICAgIHBhZ2U6IHBhZ2UgfHwgMSwKICAgICAgICAgICAgICAgICAgcGFnZV9zaXplOiB0aGlzLiRwYXJlbnQucGFnZV9zaXplCiAgICAgICAgICAgICAgICB9LCB0aGlzLnJlc3VsdEZvcm0pOwogICAgICAgICAgICAgICAgY29uc29sZS5sb2coInF1ZXJ5U3RhdD09PXBhcmFtcz4+PiIgKyBKU09OLnN0cmluZ2lmeShwYXJhbXMpKTsKICAgICAgICAgICAgICAgIHJlcyA9IHRoaXMuJHN0b3JlLmRpc3BhdGNoKCdzdGF0aXN0aWNzT3JkZXInLCBwYXJhbXMpOwogICAgICAgICAgICAgICAgY29uc29sZS5sb2coInF1ZXJ5U3RhdD09PXJlcz4+PiIgKyBKU09OLnN0cmluZ2lmeShyZXMpKTsKICAgICAgICAgICAgICAgIHRoaXMuJHJlZnNbJ2Zvcm0nXS5yZXNldEZpZWxkcygpOwoKICAgICAgICAgICAgICBjYXNlIDEyOgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZSwgdGhpcyk7CiAgICAgIH0pKTsKCiAgICAgIGZ1bmN0aW9uIHF1ZXJ5U3RhdChfeCkgewogICAgICAgIHJldHVybiBfcXVlcnlTdGF0LmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICAgIH0KCiAgICAgIHJldHVybiBxdWVyeVN0YXQ7CiAgICB9KCksCiAgICBleHBvcnREaW5uZXI6IGZ1bmN0aW9uICgpIHsKICAgICAgdmFyIF9leHBvcnREaW5uZXIgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUyKCkgewogICAgICAgIHZhciBmaWxlTmFtZSwgc3RhcnREYXRlLCBlbmREYXRlLCBwYXJhbXMsIHF1ZXJ5QXJyYXksIHN0cmluZ1Jlc3VsdCwgZGVwYXJ0QXJyYXksIGFycmF5UmVzdWx0LCByZXMsIGZpbGVVcmw7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUyJChfY29udGV4dDIpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQyLnByZXYgPSBfY29udGV4dDIubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIGZpbGVOYW1lID0gJ+WwsemkkOWIl+ihqCc7CiAgICAgICAgICAgICAgICB0aGlzLiRzdG9yZS5jb21taXQoJ1RBQkxFX0xPQURJTkcnLCB0cnVlKTsKICAgICAgICAgICAgICAgIHN0YXJ0RGF0ZSA9IHRoaXMucmVzdWx0Rm9ybS5zdGFydF9kYXRlIHx8ICcnOwogICAgICAgICAgICAgICAgZW5kRGF0ZSA9IHRoaXMucmVzdWx0Rm9ybS5lbmRfZGF0ZSB8fCAnJzsKCiAgICAgICAgICAgICAgICBpZiAoIShzdGFydERhdGUgPT0gJycgfHwgc3RhcnREYXRlID09ICdJbnZhbGlkIGRhdGUnIHx8IGVuZERhdGUgPT0gJycgfHwgZW5kRGF0ZSA9PSAnSW52YWxpZCBkYXRlJykpIHsKICAgICAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSA3OwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICB0aGlzLiRNZXNzYWdlLmVycm9yKCLor7fpgInmi6nlsLHppJDnu5/orqHml6XmnJ/otbfmraLvvIEiKTsKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIuYWJydXB0KCJyZXR1cm4iKTsKCiAgICAgICAgICAgICAgY2FzZSA3OgogICAgICAgICAgICAgICAgLy8gdGhpcy4kZW1pdCgnZ2V0RGF0ZScsIHRoaXMucmVzdWx0Rm9ybSk7CiAgICAgICAgICAgICAgICBwYXJhbXMgPSBfb2JqZWN0U3ByZWFkKHsKICAgICAgICAgICAgICAgICAgbWVyY2hhbnRfaWQ6IHRoaXMuJHN0b3JlLnN0YXRlLnVzZXIuY3VyTWVyY2hhbnRJZAogICAgICAgICAgICAgICAgfSwgdGhpcy5yZXN1bHRGb3JtKTsKICAgICAgICAgICAgICAgIHF1ZXJ5QXJyYXkgPSBwYXJhbXMuZGVwYXJ0bWVudHMgfHwgJyc7CgogICAgICAgICAgICAgICAgaWYgKHF1ZXJ5QXJyYXkgIT09ICcnKSB7CiAgICAgICAgICAgICAgICAgIHN0cmluZ1Jlc3VsdCA9IHF1ZXJ5QXJyYXkuc3BsaXQoJywnKTsKICAgICAgICAgICAgICAgICAgZGVwYXJ0QXJyYXkgPSBidWlsZENoaWxkRGVwYXJ0bWVudEFycmF5KHN0cmluZ1Jlc3VsdCwgdGhpcy4kc3RvcmUuc3RhdGUudXNlci5kZXBhcnRtZW50TGlzdCk7CiAgICAgICAgICAgICAgICAgIGFycmF5UmVzdWx0ID0gZGVwYXJ0QXJyYXkuam9pbignLCcpOwogICAgICAgICAgICAgICAgICBwYXJhbXMuZGVwYXJ0bWVudHMgPSBhcnJheVJlc3VsdDsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDEyOwogICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuJHN0b3JlLmRpc3BhdGNoKCdzdGF0aXN0aWNzRGlubmVyRXhwb3J0JywgcGFyYW1zKTsKCiAgICAgICAgICAgICAgY2FzZSAxMjoKICAgICAgICAgICAgICAgIHJlcyA9IF9jb250ZXh0Mi5zZW50OwoKICAgICAgICAgICAgICAgIGlmIChyZXMucmV0dXJuX2NvZGUgPT0gMCkgewogICAgICAgICAgICAgICAgICBmaWxlVXJsID0gcmVzLmRhdGEudXJsOwogICAgICAgICAgICAgICAgICB0aGlzLmRvd25sb2FkKGZpbGVVcmwpOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIHRoaXMuJHN0b3JlLmNvbW1pdCgnVEFCTEVfTE9BRElORycsIGZhbHNlKTsKCiAgICAgICAgICAgICAgY2FzZSAxNToKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlMiwgdGhpcyk7CiAgICAgIH0pKTsKCiAgICAgIGZ1bmN0aW9uIGV4cG9ydERpbm5lcigpIHsKICAgICAgICByZXR1cm4gX2V4cG9ydERpbm5lci5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgICB9CgogICAgICByZXR1cm4gZXhwb3J0RGlubmVyOwogICAgfSgpLAogICAgLy8g5LiL6L295paH5Lu2CiAgICBkb3dubG9hZDogZnVuY3Rpb24gZG93bmxvYWQoZmlsZVVybCkgewogICAgICBpZiAoIWZpbGVVcmwpIHsKICAgICAgICByZXR1cm47CiAgICAgIH0KCiAgICAgIHZhciBsaW5rID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiYSIpOwogICAgICBsaW5rLnN0eWxlLmRpc3BsYXkgPSAibm9uZSI7CiAgICAgIGxpbmsuaHJlZiA9IGZpbGVVcmw7CiAgICAgIGxpbmsuc2V0QXR0cmlidXRlKCJkb3dubG9hZCIsIGZpbGVVcmwpOwogICAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGxpbmspOwogICAgICBsaW5rLmNsaWNrKCk7IC8vIHRoaXMuJE1lc3NhZ2Uuc3VjY2Vzcygi5LiL6L295a6M5oiQ77yBIik7CiAgICB9LAogICAgLy/mlbDmja7lr7zlh7oKICAgIGxpc3RSZXN1bHRFeHBvcnQ6IGZ1bmN0aW9uICgpIHsKICAgICAgdmFyIF9saXN0UmVzdWx0RXhwb3J0ID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMyhwYWdlU2l6ZSkgewogICAgICAgIHZhciBzdGFydERhdGUsIGVuZERhdGUsIG1heFBhZ2VTaXplLCBwYXJhbXMsIHJlczsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTMkKF9jb250ZXh0MykgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDMucHJldiA9IF9jb250ZXh0My5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgdGhpcy4kc3RvcmUuY29tbWl0KCdUQUJMRV9MT0FESU5HJywgdHJ1ZSk7CiAgICAgICAgICAgICAgICBzdGFydERhdGUgPSB0aGlzLnJlc3VsdEZvcm0uc3RhcnRfZGF0ZSB8fCAnJzsKICAgICAgICAgICAgICAgIGVuZERhdGUgPSB0aGlzLnJlc3VsdEZvcm0uZW5kX2RhdGUgfHwgJyc7CgogICAgICAgICAgICAgICAgaWYgKCEoc3RhcnREYXRlID09ICcnIHx8IHN0YXJ0RGF0ZSA9PSAnSW52YWxpZCBkYXRlJyB8fCBlbmREYXRlID09ICcnIHx8IGVuZERhdGUgPT0gJ0ludmFsaWQgZGF0ZScpKSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0My5uZXh0ID0gNjsKICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgdGhpcy4kTWVzc2FnZS5lcnJvcigi6K+36YCJ5oup5bCx6aSQ5pel5pyf6LW35q2i77yBIik7CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQzLmFicnVwdCgicmV0dXJuIik7CgogICAgICAgICAgICAgIGNhc2UgNjoKICAgICAgICAgICAgICAgIG1heFBhZ2VTaXplID0gcGFnZVNpemUgPyBwYWdlU2l6ZSA6IHRoaXMuJHBhcmVudC5wYWdlX3NpemU7CiAgICAgICAgICAgICAgICBwYXJhbXMgPSBfb2JqZWN0U3ByZWFkKHsKICAgICAgICAgICAgICAgICAgbWVyY2hhbnRfaWQ6IHRoaXMuJHN0b3JlLnN0YXRlLnVzZXIuY3VyTWVyY2hhbnRJZCwKICAgICAgICAgICAgICAgICAgcGFnZTogMSwKICAgICAgICAgICAgICAgICAgcGFnZV9zaXplOiBtYXhQYWdlU2l6ZQogICAgICAgICAgICAgICAgfSwgdGhpcy5yZXN1bHRGb3JtKTsKICAgICAgICAgICAgICAgIF9jb250ZXh0My5uZXh0ID0gMTA7CiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy4kc3RvcmUuZGlzcGF0Y2goJ29yZGVyTGlzdEV4cG9ydCcsIHBhcmFtcyk7CgogICAgICAgICAgICAgIGNhc2UgMTA6CiAgICAgICAgICAgICAgICByZXMgPSBfY29udGV4dDMuc2VudDsKCiAgICAgICAgICAgICAgY2FzZSAxMToKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0My5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlMywgdGhpcyk7CiAgICAgIH0pKTsKCiAgICAgIGZ1bmN0aW9uIGxpc3RSZXN1bHRFeHBvcnQoX3gyKSB7CiAgICAgICAgcmV0dXJuIF9saXN0UmVzdWx0RXhwb3J0LmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICAgIH0KCiAgICAgIHJldHVybiBsaXN0UmVzdWx0RXhwb3J0OwogICAgfSgpLAogICAgLy/lpJrpgIlzZWxlY3QKICAgIGhhbmRsZVNlbGVjdDogZnVuY3Rpb24gaGFuZGxlU2VsZWN0KHZhbCwgbmFtZSkgewogICAgICBpZiAoXy5pbmRleE9mKHZhbCwgJy0xJykgIT0gLTEpIHsKICAgICAgICB0aGlzLmZvcm1bbmFtZV0gPSBbJy0xJ107CiAgICAgIH0KICAgIH0KICB9LAogIG1vdW50ZWQ6IGZ1bmN0aW9uIG1vdW50ZWQoKSB7CiAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWU0KCkgewogICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTQkKF9jb250ZXh0NCkgewogICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0NC5wcmV2ID0gX2NvbnRleHQ0Lm5leHQpIHsKICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgIF90aGlzLnF1ZXJ5U3RhdCgpOwoKICAgICAgICAgICAgY2FzZSAxOgogICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDQuc3RvcCgpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSwgX2NhbGxlZTQpOwogICAgfSkpKCk7CiAgfQp9Ow=="},{"version":3,"sources":["form.vue"],"names":[],"mappings":"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","sourcesContent":["<!-- 就餐统计数据 -->\n<template>\n  <div class=\"card\">\n    <Form inline ref=\"form\" :model=\"form\" label-colon>\n      <FormItem label=\"汇总方式\">\n        <RadioGroup v-model=\"form.unit\">\n          <Radio label=\"day\">按日期</Radio>\n          <Radio label=\"month\">按月</Radio>\n        </RadioGroup>\n      </FormItem>\n      <FormItem label=\"汇总日期起止\" v-if=\"form.unit == 'day'\">\n        <DatePicker @keyup.enter.native=\"queryStat()\" v-model=\"form.date\" type=\"daterange\" format=\"yyyy/MM/dd\" placeholder=\"汇总日期起止\" style=\"width: 200px\"></DatePicker>\n        <Input type=\"text\" v-show=\"false\" style=\"width: 1px;\"/>\n      </FormItem>\n      <FormItem label=\"汇总月份起止\" v-if=\"form.unit == 'month'\">\n        <DatePicker class=\"margin-right-5\" @keyup.enter.native=\"queryStat()\" v-model=\"form.startMonth\" type=\"month\" format=\"yyyy-MM\" placeholder=\"汇总月份起\" style=\"width:100px\"></DatePicker>-\n        <DatePicker @keyup.enter.native=\"queryStat()\" v-model=\"form.endMonth\" type=\"month\" format=\"yyyy-MM\" placeholder=\"汇总月份止\" style=\"width:100px\"></DatePicker>\n      </FormItem>\n      <FormItem>\n        <Select placeholder=\"用餐时段\" @keyup.enter.native=\"queryStat()\" v-model=\"form.time_type\"  style=\"min-width: 110px;\">\n          <Option value=\"-1\" >全部时段</Option>\n          <Option :disabled=\"form.time_type=='-1'\" value=\"breakfast\">早餐</Option>\n          <Option :disabled=\"form.time_type=='-1'\" value=\"nooning\">午餐</Option>\n          <Option :disabled=\"form.time_type=='-1'\" value=\"dinner\">晚餐</Option>\n        </Select>\n      </FormItem>\n      <FormItem>\n        <Button type='primary' icon=\"md-search\" @click=\"queryStat()\">查询</Button>\n        <Button class=\"margin-left-10\" type='primary' ghost icon=\"md-download\" @click=\"exportDinner\">导出EXCEL</Button>\n      </FormItem>\n\n    </Form>\n  </div>\n</template>\n<script>\nimport _ from 'underscore';\nimport moment from \"moment-timezone\";\n\nexport default {\n  name: 'searchForm',\n  data() {\n    return {\n      form: {\n        date: [moment().format('YYYY-MM-DD'), moment().format('YYYY-MM-DD')],\n        unit: 'day',\n        startMonth: moment().format('YYYY-MM'),\n        endMonth: moment().format('YYYY-MM'),\n        time_type: [],\n      },\n      export_excel_params: {},\n    };\n  },\n\n  computed: {\n    resultForm(){\n      let data = {\n        unit: this.form.unit,\n        time_type: this.form.time_type[0]=='-1'? '':this.form.time_type.toString(),\n        start: moment(this.form.date[0]).format('YYYY-MM-DD'),\n        end: moment(this.form.date[1]).format('YYYY-MM-DD'),\n      }\n\n      if (this.form.unit == 'month'){\n        data.start = moment(this.form.startMonth).format('YYYY-MM');\n        data.end = moment(this.form.endMonth).format('YYYY-MM');\n      }\n      return data;\n    },\n\n  },\n\n  methods: {\n\n    queryStat: async function(page) {\n      this.$store.commit('TABLE_LOADING', true);\n      let startDate = this.resultForm.start || '';\n      let endDate = this.resultForm.end || '';\n      if (startDate == '' || startDate == 'Invalid date' || endDate == '' || endDate == 'Invalid date'){\n        this.$Message.error(\"请选择就餐统计日期起止！\");\n        return;\n      }\n      this.$emit('getDate', this.resultForm);\n      // // this.$store.commit('setEmployeeListLoading', true);\n      let params = {\n        merchant_id: this.$store.state.user.curMerchantId,\n        sessionid: this.$store.state.user.token,\n        page: page || 1,\n        page_size: this.$parent.page_size,\n        ...this.resultForm\n      };\n      console.log(\"queryStat===params>>>\" + JSON.stringify(params));\n      let res = this.$store.dispatch('statisticsOrder', params);\n      console.log(\"queryStat===res>>>\" + JSON.stringify(res));\n      this.$refs['form'].resetFields();\n    },\n\n    exportDinner: async function() {\n      let fileName = '就餐列表';\n      this.$store.commit('TABLE_LOADING', true);\n      let startDate = this.resultForm.start_date || '';\n      let endDate = this.resultForm.end_date || '';\n      if (startDate == '' || startDate == 'Invalid date' || endDate == '' || endDate == 'Invalid date'){\n        this.$Message.error(\"请选择就餐统计日期起止！\");\n        return;\n      }\n      // this.$emit('getDate', this.resultForm);\n      let params = {\n        merchant_id: this.$store.state.user.curMerchantId,\n        ...this.resultForm\n      };\n      let queryArray = params.departments || '';\n      if (queryArray !== ''){\n        let stringResult = queryArray.split(',');\n        let departArray = buildChildDepartmentArray(stringResult,this.$store.state.user.departmentList);\n        let arrayResult = departArray.join(',');\n        params.departments = arrayResult;\n      }\n      let res = await this.$store.dispatch('statisticsDinnerExport', params);\n      if (res.return_code == 0){\n        let fileUrl = res.data.url;\n        this.download(fileUrl);\n      }\n      this.$store.commit('TABLE_LOADING', false);\n    },\n\n\n    // 下载文件\n    download(fileUrl) {\n      if (!fileUrl) {\n        return;\n      }\n\n      let link = document.createElement(\"a\");\n      link.style.display = \"none\";\n      link.href = fileUrl;\n      link.setAttribute(\"download\", fileUrl);\n      document.body.appendChild(link);\n      link.click();\n      // this.$Message.success(\"下载完成！\");\n    },\n\n    //数据导出\n    listResultExport: async function(pageSize) {\n      this.$store.commit('TABLE_LOADING', true);\n      let startDate = this.resultForm.start_date || '';\n      let endDate = this.resultForm.end_date || '';\n      if (startDate == '' || startDate == 'Invalid date' || endDate == '' || endDate == 'Invalid date'){\n        this.$Message.error(\"请选择就餐日期起止！\");\n        return;\n      }\n\n      let maxPageSize = pageSize ? pageSize : this.$parent.page_size;\n      let params = {\n        merchant_id: this.$store.state.user.curMerchantId,\n        page: 1,\n        page_size: maxPageSize,\n        ...this.resultForm\n      };\n\n      let res = await this.$store.dispatch('orderListExport', params);\n    },\n\n    //多选select\n    handleSelect(val, name){\n      if(_.indexOf(val, '-1') != -1){\n        this.form[name] = ['-1'];\n      }\n    },\n\n  },\n  async mounted() {\n    this.queryStat();\n  }\n}\n</script>\n<style lang='less' scoped>\n.card{\n  padding-bottom: 0 !important;\n  // min-height: 76px;\n  // max-height: 133px;\n}\n\n</style>\n"],"sourceRoot":"src/views/statistics/stat-order/components"}]}