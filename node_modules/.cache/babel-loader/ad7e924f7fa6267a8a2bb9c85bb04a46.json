{"remainingRequest":"/Users/zhang/canteen_manage/node_modules/babel-loader/lib/index.js!/Users/zhang/canteen_manage/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/zhang/canteen_manage/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/zhang/canteen_manage/src/views/statistics/stat-home/components/form.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/zhang/canteen_manage/src/views/statistics/stat-home/components/form.vue","mtime":1640594511628},{"path":"/Users/zhang/canteen_manage/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/zhang/canteen_manage/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/zhang/canteen_manage/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/zhang/canteen_manage/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9vYmplY3RTcHJlYWQgZnJvbSAiL1VzZXJzL3poYW5nL2NhbnRlZW5fbWFuYWdlL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9vYmplY3RTcHJlYWQyIjsKaW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIi9Vc2Vycy96aGFuZy9jYW50ZWVuX21hbmFnZS9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXN5bmNUb0dlbmVyYXRvciI7CmltcG9ydCAicmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZGF0ZS50by1zdHJpbmcuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5yZWdleHAuZXhlYy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5zcGxpdC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmpvaW4uanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5pbmRleC1vZi5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmZvci1lYWNoLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5mb3ItZWFjaC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmZpbmQtaW5kZXguanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5zcGxpY2UuanMiOwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwppbXBvcnQgXyBmcm9tICd1bmRlcnNjb3JlJzsKaW1wb3J0IG1vbWVudCBmcm9tICJtb21lbnQtdGltZXpvbmUiOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogJ3NlYXJjaEZvcm0nLAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBmb3JtOiB7CiAgICAgICAgZGF0ZTogW21vbWVudCgpLmZvcm1hdCgnWVlZWS1NTS1ERCcpLCBtb21lbnQoKS5mb3JtYXQoJ1lZWVktTU0tREQnKV0sCiAgICAgICAgaW50ZXJ2YWw6ICdjX2RheScsCiAgICAgICAgdHlwZTogJ2FwcG9pbnRtZW50JwogICAgICB9LAogICAgICBleHBvcnRfZXhjZWxfcGFyYW1zOiB7fQogICAgfTsKICB9LAogIGNvbXB1dGVkOiB7CiAgICByZXN1bHRGb3JtOiBmdW5jdGlvbiByZXN1bHRGb3JtKCkgewogICAgICB2YXIgZGF0YSA9IHsKICAgICAgICBzdGFydF9kYXRlOiBtb21lbnQodGhpcy5mb3JtLmRhdGVbMF0pLmZvcm1hdCgnWVlZWS1NTS1ERCcpLAogICAgICAgIGVuZF9kYXRlOiBtb21lbnQodGhpcy5mb3JtLmRhdGVbMV0pLmZvcm1hdCgnWVlZWS1NTS1ERCcpLAogICAgICAgIHR5cGU6IHRoaXMuZm9ybS50eXBlCiAgICAgIH07CiAgICAgIHJldHVybiBkYXRhOwogICAgfQogIH0sCiAgbWV0aG9kczogewogICAgaW5wdXRJbnRlcnZhbDogZnVuY3Rpb24gaW5wdXRJbnRlcnZhbCgkZXZlbnQsIHZhbHVlKSB7CiAgICAgIGlmICh2YWx1ZSA9PSAiY19kYXkiKSB7CiAgICAgICAgdGhpcy5mb3JtLmRhdGUgPSBbbW9tZW50KCkuZm9ybWF0KCdZWVlZLU1NLUREJyksIG1vbWVudCgpLmZvcm1hdCgnWVlZWS1NTS1ERCcpXTsKICAgICAgICB0aGlzLmZvcm0uaW50ZXJ2YWwgPSB2YWx1ZTsKICAgICAgfQoKICAgICAgaWYgKHZhbHVlID09ICJjX3dlZWsiKSB7CiAgICAgICAgdGhpcy5mb3JtLmRhdGUgPSBbbW9tZW50KCkuc3RhcnRPZignd2VlaycpLmZvcm1hdCgiWVlZWS1NTS1ERCIpLCBtb21lbnQoKS5lbmRPZignd2VlaycpLmZvcm1hdCgiWVlZWS1NTS1ERCIpXTsKICAgICAgICB0aGlzLmZvcm0uaW50ZXJ2YWwgPSB2YWx1ZTsKICAgICAgfQoKICAgICAgaWYgKHZhbHVlID09ICJjX21vbnRoIikgewogICAgICAgIHRoaXMuZm9ybS5kYXRlID0gW21vbWVudCgpLnN0YXJ0T2YoJ21vbnRoJykuZm9ybWF0KCJZWVlZLU1NLUREIiksIG1vbWVudCgpLmVuZE9mKCdtb250aCcpLmZvcm1hdCgiWVlZWS1NTS1ERCIpXTsKICAgICAgICB0aGlzLmZvcm0uaW50ZXJ2YWwgPSB2YWx1ZTsKICAgICAgfQoKICAgICAgaWYgKHZhbHVlID09ICJjX2luaXQiKSB7CiAgICAgICAgdGhpcy5mb3JtLmludGVydmFsID0gdW5kZWZpbmVkOwogICAgICB9CiAgICB9LAogICAgaGFuZGxlUmFkaW9DbGljazogZnVuY3Rpb24gaGFuZGxlUmFkaW9DbGljaygkZXZlbnQsIHZhbHVlKSB7CiAgICAgIGNvbnNvbGUubG9nKCJldmVudCBjaGVjaz09PXZhbHVlPj4+IiArIHZhbHVlKTsKICAgICAgY29uc29sZS5sb2coImV2ZW50IGNoZWNrPT09dGhpcy5mb3JtLmludGVydmFsPj4+IiArIHRoaXMuZm9ybS5pbnRlcnZhbCk7CiAgICAgIHZhciBub3cgPSArbmV3IERhdGUoKTsKCiAgICAgIGlmIChub3cgLSB0aGlzLmV2VGltZVN0YW1wIDwgMTAwKSB7CiAgICAgICAgcmV0dXJuOwogICAgICB9CgogICAgICB0aGlzLmV2VGltZVN0YW1wID0gbm93OwoKICAgICAgaWYgKHRoaXMuZm9ybS5pbnRlcnZhbCA9PSB2YWx1ZSkgewogICAgICAgIHRoaXMuZm9ybS5pbnRlcnZhbCA9IHVuZGVmaW5lZDsKICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLmZvcm0uaW50ZXJ2YWwgPSB2YWx1ZTsKICAgICAgfQogICAgfSwKICAgIHF1ZXJ5U3RhdGlzdGljczogZnVuY3Rpb24gKCkgewogICAgICB2YXIgX3F1ZXJ5U3RhdGlzdGljcyA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZShwYWdlKSB7CiAgICAgICAgdmFyIHN0YXJ0RGF0ZSwgZW5kRGF0ZSwgcGFyYW1zLCByZXM7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgdGhpcy4kc3RvcmUuY29tbWl0KCdUQUJMRV9MT0FESU5HJywgdHJ1ZSk7CiAgICAgICAgICAgICAgICBzdGFydERhdGUgPSB0aGlzLnJlc3VsdEZvcm0uc3RhcnRfZGF0ZSB8fCAnJzsKICAgICAgICAgICAgICAgIGVuZERhdGUgPSB0aGlzLnJlc3VsdEZvcm0uZW5kX2RhdGUgfHwgJyc7CgogICAgICAgICAgICAgICAgaWYgKCEoc3RhcnREYXRlID09ICcnIHx8IHN0YXJ0RGF0ZSA9PSAnSW52YWxpZCBkYXRlJyB8fCBlbmREYXRlID09ICcnIHx8IGVuZERhdGUgPT0gJ0ludmFsaWQgZGF0ZScpKSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSA3OwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICB0aGlzLiRNZXNzYWdlLmVycm9yKCLor7fpgInmi6nlsLHppJDnu5/orqHml6XmnJ/otbfmraLvvIEiKTsKICAgICAgICAgICAgICAgIHRoaXMuJHN0b3JlLmNvbW1pdCgnVEFCTEVfTE9BRElORycsIGZhbHNlKTsKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5hYnJ1cHQoInJldHVybiIpOwoKICAgICAgICAgICAgICBjYXNlIDc6CiAgICAgICAgICAgICAgICB0aGlzLiRlbWl0KCdnZXREYXRlJywgdGhpcy5yZXN1bHRGb3JtKTsgLy8gLy8gdGhpcy4kc3RvcmUuY29tbWl0KCdzZXRFbXBsb3llZUxpc3RMb2FkaW5nJywgdHJ1ZSk7CgogICAgICAgICAgICAgICAgcGFyYW1zID0gX29iamVjdFNwcmVhZCh7CiAgICAgICAgICAgICAgICAgIG1lcmNoYW50X2lkOiB0aGlzLiRzdG9yZS5zdGF0ZS51c2VyLmN1ck1lcmNoYW50SWQKICAgICAgICAgICAgICAgIH0sIHRoaXMucmVzdWx0Rm9ybSk7IC8vIGNvbnNvbGUubG9nKCJxdWVyeVN0YXRpc3RpY3M9PT1wYXJhbXM+Pj4iICsgSlNPTi5zdHJpbmdpZnkocGFyYW1zKSk7CgogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDExOwogICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuJHN0b3JlLmRpc3BhdGNoKCdzdGF0aXN0aWNzSG9tZScsIHBhcmFtcyk7CgogICAgICAgICAgICAgIGNhc2UgMTE6CiAgICAgICAgICAgICAgICByZXMgPSBfY29udGV4dC5zZW50OwoKICAgICAgICAgICAgICBjYXNlIDEyOgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZSwgdGhpcyk7CiAgICAgIH0pKTsKCiAgICAgIGZ1bmN0aW9uIHF1ZXJ5U3RhdGlzdGljcyhfeCkgewogICAgICAgIHJldHVybiBfcXVlcnlTdGF0aXN0aWNzLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICAgIH0KCiAgICAgIHJldHVybiBxdWVyeVN0YXRpc3RpY3M7CiAgICB9KCksCiAgICBleHBvcnREaW5uZXI6IGZ1bmN0aW9uICgpIHsKICAgICAgdmFyIF9leHBvcnREaW5uZXIgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUyKCkgewogICAgICAgIHZhciBmaWxlTmFtZSwgc3RhcnREYXRlLCBlbmREYXRlLCBwYXJhbXMsIHF1ZXJ5QXJyYXksIHN0cmluZ1Jlc3VsdCwgZGVwYXJ0QXJyYXksIGFycmF5UmVzdWx0LCByZXMsIGZpbGVVcmw7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUyJChfY29udGV4dDIpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQyLnByZXYgPSBfY29udGV4dDIubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIGZpbGVOYW1lID0gJ+WwsemkkOWIl+ihqCc7CiAgICAgICAgICAgICAgICB0aGlzLiRzdG9yZS5jb21taXQoJ1RBQkxFX0xPQURJTkcnLCB0cnVlKTsKICAgICAgICAgICAgICAgIHN0YXJ0RGF0ZSA9IHRoaXMucmVzdWx0Rm9ybS5zdGFydF9kYXRlIHx8ICcnOwogICAgICAgICAgICAgICAgZW5kRGF0ZSA9IHRoaXMucmVzdWx0Rm9ybS5lbmRfZGF0ZSB8fCAnJzsKCiAgICAgICAgICAgICAgICBpZiAoIShzdGFydERhdGUgPT0gJycgfHwgc3RhcnREYXRlID09ICdJbnZhbGlkIGRhdGUnIHx8IGVuZERhdGUgPT0gJycgfHwgZW5kRGF0ZSA9PSAnSW52YWxpZCBkYXRlJykpIHsKICAgICAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSA4OwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICB0aGlzLiRNZXNzYWdlLmVycm9yKCLor7fpgInmi6nlsLHppJDnu5/orqHml6XmnJ/otbfmraLvvIEiKTsKICAgICAgICAgICAgICAgIHRoaXMuJHN0b3JlLmNvbW1pdCgnVEFCTEVfTE9BRElORycsIGZhbHNlKTsKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIuYWJydXB0KCJyZXR1cm4iKTsKCiAgICAgICAgICAgICAgY2FzZSA4OgogICAgICAgICAgICAgICAgLy8gdGhpcy4kZW1pdCgnZ2V0RGF0ZScsIHRoaXMucmVzdWx0Rm9ybSk7CiAgICAgICAgICAgICAgICBwYXJhbXMgPSBfb2JqZWN0U3ByZWFkKHsKICAgICAgICAgICAgICAgICAgbWVyY2hhbnRfaWQ6IHRoaXMuJHN0b3JlLnN0YXRlLnVzZXIuY3VyTWVyY2hhbnRJZAogICAgICAgICAgICAgICAgfSwgdGhpcy5yZXN1bHRGb3JtKTsKICAgICAgICAgICAgICAgIHF1ZXJ5QXJyYXkgPSBwYXJhbXMuZGVwYXJ0bWVudHMgfHwgJyc7CgogICAgICAgICAgICAgICAgaWYgKHF1ZXJ5QXJyYXkgIT09ICcnKSB7CiAgICAgICAgICAgICAgICAgIHN0cmluZ1Jlc3VsdCA9IHF1ZXJ5QXJyYXkuc3BsaXQoJywnKTsKICAgICAgICAgICAgICAgICAgZGVwYXJ0QXJyYXkgPSBidWlsZENoaWxkRGVwYXJ0bWVudEFycmF5KHN0cmluZ1Jlc3VsdCwgdGhpcy4kc3RvcmUuc3RhdGUudXNlci5kZXBhcnRtZW50TGlzdCk7CiAgICAgICAgICAgICAgICAgIGFycmF5UmVzdWx0ID0gZGVwYXJ0QXJyYXkuam9pbignLCcpOwogICAgICAgICAgICAgICAgICBwYXJhbXMuZGVwYXJ0bWVudHMgPSBhcnJheVJlc3VsdDsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDEzOwogICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuJHN0b3JlLmRpc3BhdGNoKCdzdGF0aXN0aWNzRGlubmVyRXhwb3J0JywgcGFyYW1zKTsKCiAgICAgICAgICAgICAgY2FzZSAxMzoKICAgICAgICAgICAgICAgIHJlcyA9IF9jb250ZXh0Mi5zZW50OwoKICAgICAgICAgICAgICAgIGlmIChyZXMucmV0dXJuX2NvZGUgPT0gMCkgewogICAgICAgICAgICAgICAgICBmaWxlVXJsID0gcmVzLmRhdGEudXJsOwogICAgICAgICAgICAgICAgICB0aGlzLmRvd25sb2FkKGZpbGVVcmwpOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIHRoaXMuJHN0b3JlLmNvbW1pdCgnVEFCTEVfTE9BRElORycsIGZhbHNlKTsKCiAgICAgICAgICAgICAgY2FzZSAxNjoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlMiwgdGhpcyk7CiAgICAgIH0pKTsKCiAgICAgIGZ1bmN0aW9uIGV4cG9ydERpbm5lcigpIHsKICAgICAgICByZXR1cm4gX2V4cG9ydERpbm5lci5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgICB9CgogICAgICByZXR1cm4gZXhwb3J0RGlubmVyOwogICAgfSgpLAogICAgLy8g5LiL6L295paH5Lu2CiAgICBkb3dubG9hZDogZnVuY3Rpb24gZG93bmxvYWQoZmlsZVVybCkgewogICAgICBpZiAoIWZpbGVVcmwpIHsKICAgICAgICByZXR1cm47CiAgICAgIH0KCiAgICAgIHZhciBsaW5rID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiYSIpOwogICAgICBsaW5rLnN0eWxlLmRpc3BsYXkgPSAibm9uZSI7CiAgICAgIGxpbmsuaHJlZiA9IGZpbGVVcmw7CiAgICAgIGxpbmsuc2V0QXR0cmlidXRlKCJkb3dubG9hZCIsIGZpbGVVcmwpOwogICAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGxpbmspOwogICAgICBsaW5rLmNsaWNrKCk7IC8vIHRoaXMuJE1lc3NhZ2Uuc3VjY2Vzcygi5LiL6L295a6M5oiQ77yBIik7CiAgICB9LAogICAgLy/mlbDmja7lr7zlh7oKICAgIGxpc3RSZXN1bHRFeHBvcnQ6IGZ1bmN0aW9uICgpIHsKICAgICAgdmFyIF9saXN0UmVzdWx0RXhwb3J0ID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMyhwYWdlU2l6ZSkgewogICAgICAgIHZhciBzdGFydERhdGUsIGVuZERhdGUsIG1heFBhZ2VTaXplLCBwYXJhbXMsIHF1ZXJ5QXJyYXksIHN0cmluZ1Jlc3VsdCwgZGVwYXJ0QXJyYXksIGFycmF5UmVzdWx0LCByZXM7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUzJChfY29udGV4dDMpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQzLnByZXYgPSBfY29udGV4dDMubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIHRoaXMuJHN0b3JlLmNvbW1pdCgnVEFCTEVfTE9BRElORycsIHRydWUpOwogICAgICAgICAgICAgICAgc3RhcnREYXRlID0gdGhpcy5yZXN1bHRGb3JtLnN0YXJ0X2RhdGUgfHwgJyc7CiAgICAgICAgICAgICAgICBlbmREYXRlID0gdGhpcy5yZXN1bHRGb3JtLmVuZF9kYXRlIHx8ICcnOwoKICAgICAgICAgICAgICAgIGlmICghKHN0YXJ0RGF0ZSA9PSAnJyB8fCBzdGFydERhdGUgPT0gJ0ludmFsaWQgZGF0ZScgfHwgZW5kRGF0ZSA9PSAnJyB8fCBlbmREYXRlID09ICdJbnZhbGlkIGRhdGUnKSkgewogICAgICAgICAgICAgICAgICBfY29udGV4dDMubmV4dCA9IDc7CiAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIHRoaXMuJE1lc3NhZ2UuZXJyb3IoIuivt+mAieaLqeWwsemkkOaXpeacn+i1t+atou+8gSIpOwogICAgICAgICAgICAgICAgdGhpcy4kc3RvcmUuY29tbWl0KCdUQUJMRV9MT0FESU5HJywgdHJ1ZSk7CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQzLmFicnVwdCgicmV0dXJuIik7CgogICAgICAgICAgICAgIGNhc2UgNzoKICAgICAgICAgICAgICAgIG1heFBhZ2VTaXplID0gcGFnZVNpemUgPyBwYWdlU2l6ZSA6IHRoaXMuJHBhcmVudC5wYWdlX3NpemU7CiAgICAgICAgICAgICAgICBwYXJhbXMgPSBfb2JqZWN0U3ByZWFkKHsKICAgICAgICAgICAgICAgICAgbWVyY2hhbnRfaWQ6IHRoaXMuJHN0b3JlLnN0YXRlLnVzZXIuY3VyTWVyY2hhbnRJZCwKICAgICAgICAgICAgICAgICAgcGFnZTogMSwKICAgICAgICAgICAgICAgICAgcGFnZV9zaXplOiBtYXhQYWdlU2l6ZQogICAgICAgICAgICAgICAgfSwgdGhpcy5yZXN1bHRGb3JtKTsKICAgICAgICAgICAgICAgIHF1ZXJ5QXJyYXkgPSBwYXJhbXMuZGVwYXJ0bWVudHMgfHwgJyc7CgogICAgICAgICAgICAgICAgaWYgKHF1ZXJ5QXJyYXkgIT09ICcnKSB7CiAgICAgICAgICAgICAgICAgIHN0cmluZ1Jlc3VsdCA9IHF1ZXJ5QXJyYXkuc3BsaXQoJywnKTsKICAgICAgICAgICAgICAgICAgZGVwYXJ0QXJyYXkgPSBidWlsZENoaWxkRGVwYXJ0bWVudEFycmF5KHN0cmluZ1Jlc3VsdCwgdGhpcy4kc3RvcmUuc3RhdGUudXNlci5kZXBhcnRtZW50TGlzdCk7CiAgICAgICAgICAgICAgICAgIGFycmF5UmVzdWx0ID0gZGVwYXJ0QXJyYXkuam9pbignLCcpOwogICAgICAgICAgICAgICAgICBwYXJhbXMuZGVwYXJ0bWVudHMgPSBhcnJheVJlc3VsdDsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBfY29udGV4dDMubmV4dCA9IDEzOwogICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuJHN0b3JlLmRpc3BhdGNoKCdvcmRlckxpc3RFeHBvcnQnLCBwYXJhbXMpOwoKICAgICAgICAgICAgICBjYXNlIDEzOgogICAgICAgICAgICAgICAgcmVzID0gX2NvbnRleHQzLnNlbnQ7CgogICAgICAgICAgICAgIGNhc2UgMTQ6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDMuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTMsIHRoaXMpOwogICAgICB9KSk7CgogICAgICBmdW5jdGlvbiBsaXN0UmVzdWx0RXhwb3J0KF94MikgewogICAgICAgIHJldHVybiBfbGlzdFJlc3VsdEV4cG9ydC5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgICB9CgogICAgICByZXR1cm4gbGlzdFJlc3VsdEV4cG9ydDsKICAgIH0oKSwKICAgIC8v5aSa6YCJc2VsZWN0CiAgICBoYW5kbGVTZWxlY3Q6IGZ1bmN0aW9uIGhhbmRsZVNlbGVjdCh2YWwsIG5hbWUpIHsKICAgICAgaWYgKF8uaW5kZXhPZih2YWwsICctMScpICE9IC0xKSB7CiAgICAgICAgdGhpcy5mb3JtW25hbWVdID0gWyctMSddOwogICAgICB9CiAgICB9LAogICAgY3JlYXRlVGFibGVEYXRhOiBmdW5jdGlvbiBjcmVhdGVUYWJsZURhdGEoKSB7CiAgICAgIHZhciB0aGF0ID0gdGhpczsKICAgICAgdmFyIHRhYmxlRGF0YSA9IFtdOwogICAgICB2YXIgc3RhdGlzdGljc1Jlc3VsdCA9IHRoaXMuJHN0b3JlLnN0YXRlLnN0YXRpc3RpY3Muc3RhdEhvbWUgfHwge307CiAgICAgIHZhciBkYXRhID0ge307CgogICAgICBpZiAodGhpcy50eXBlID09ICdhcHBvaW50bWVudCcpIHsKICAgICAgICBkYXRhID0gc3RhdGlzdGljc1Jlc3VsdC5hcHBvaW50bWVudDsKICAgICAgfQoKICAgICAgaWYgKHRoaXMudHlwZSA9PSAnb3JkZXInKSB7CiAgICAgICAgZGF0YSA9IHN0YXRpc3RpY3NSZXN1bHQub3JkZXI7CiAgICAgIH0KCiAgICAgIHZhciBoZWFkZXJDb2wgPSBkYXRhLnRhYmxlX2hlYWRfY29sOwogICAgICB2YXIgbmFtZSA9IHsKICAgICAgICAidGl0bGUiOiAi6aSQ56eNIiwKICAgICAgICAia2V5IjogIm5hbWUiCiAgICAgIH07CiAgICAgIHZhciBoZWFkZXJSb3cgPSBkYXRhLnRhYmxlX2hlYWRfcm93OwogICAgICB2YXIgcmVzdWx0RGF0YSA9IGRhdGEucmVzdWx0OwogICAgICBoZWFkZXJSb3cuZm9yRWFjaChmdW5jdGlvbiAoaGVhZGVyUm93SXRlbSwgaGVhZGVyUm93SW5kZXgpIHsKICAgICAgICB2YXIgZGF0YUluZm8gPSB7CiAgICAgICAgICBuYW1lOiBoZWFkZXJSb3dJdGVtLnRpdGxlCiAgICAgICAgfTsKICAgICAgICBoZWFkZXJDb2wuZm9yRWFjaChmdW5jdGlvbiAoaGVhZGVyQ29sSXRlbSwgaGVhZGVyQ29sSW5kZXgpIHsKICAgICAgICAgIGRhdGFJbmZvW2hlYWRlckNvbEl0ZW0ua2V5XSA9IHJlc3VsdERhdGFbMF1baGVhZGVyQ29sSXRlbS5rZXkgKyAnXycgKyBoZWFkZXJSb3dJdGVtLmtleV07IC8vIGNvbnNvbGUubG9nKCJjcmVhdGVUYWJsZURhdGE9PT1kYXRhSW5mb1siICsgaGVhZGVyQ29sSXRlbS5rZXkgKyAiXT4+PiIgKyBKU09OLnN0cmluZ2lmeShkYXRhSW5mb1toZWFkZXJDb2xJdGVtLmtleV0pKTsKICAgICAgICB9KTsKICAgICAgICB0YWJsZURhdGEucHVzaChkYXRhSW5mbyk7CiAgICAgIH0pOwogICAgICBoZWFkZXJDb2wudW5zaGlmdChuYW1lKTsKCiAgICAgIHZhciBsYXN0RGF0YUluZGV4ID0gXy5maW5kSW5kZXgodGhpcy50YWJsZURhdGEsIHsKICAgICAgICBuYW1lOiAn5ZCI6K6hJwogICAgICB9KTsKCiAgICAgIHZhciBsYXN0RGF0YSA9IHRoaXMudGFibGVEYXRhLnNwbGljZShsYXN0RGF0YUluZGV4LCAxKTsKICAgICAgdGFibGVEYXRhLnB1c2gobGFzdERhdGFbMF0pOwogICAgICBjb25zb2xlLmxvZygiY3JlYXRlVGFibGVEYXRhPT09bGFzdERhdGE+Pj4iICsgSlNPTi5zdHJpbmdpZnkobGFzdERhdGEpKTsKICAgICAgdGhpcy5jb2x1bW5zID0gaGVhZGVyQ29sOwogICAgICBjb25zb2xlLmxvZygiY3JlYXRlVGFibGVEYXRhPT09Pj4+IiArIEpTT04uc3RyaW5naWZ5KHRoaXMudGFibGVEYXRhKSk7IC8vIHJldHVybiB0aGlzLiRzdG9yZS5zdGF0ZS5zdGF0aXN0aWNzLnN0YXRIb21lIHx8IHt9OwoKICAgICAgdGhpcy4kc3RvcmUuY29tbWl0KCdzZXRTdGF0VGFibGVEYXRhJywgdGFibGVEYXRhKTsgLy8gcmV0dXJuIHRoYXQudGFibGVEYXRhOwogICAgfQogIH0sCiAgbW91bnRlZDogZnVuY3Rpb24gbW91bnRlZCgpIHsKICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTQoKSB7CiAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlNCQoX2NvbnRleHQ0KSB7CiAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQ0LnByZXYgPSBfY29udGV4dDQubmV4dCkgewogICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgX3RoaXMucXVlcnlTdGF0aXN0aWNzKCk7CgogICAgICAgICAgICBjYXNlIDE6CiAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0NC5zdG9wKCk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9LCBfY2FsbGVlNCk7CiAgICB9KSkoKTsKICB9Cn07"},{"version":3,"sources":["form.vue"],"names":[],"mappings":"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","sourcesContent":["<!-- 就餐统计数据 -->\n<template>\n  <div class=\"card\">\n    <Form inline ref=\"form\" :model=\"form\" label-colon>\n      <FormItem label=\"就餐日期\">\n        <DatePicker @keyup.enter.native=\"queryStatistics()\" @on-change=\"inputInterval($event, 'c_init')\" v-model=\"form.date\" type=\"daterange\" format=\"yyyy/MM/dd\" placeholder=\"就餐日期起止\" style=\"width: 200px\"></DatePicker>\n        <Input type=\"text\" v-show=\"false\" style=\"width: 1px;\"/>\n      </FormItem>\n      <FormItem>\n        <RadioGroup v-model=\"form.interval\" >\n          <Radio @click.native=\"inputInterval($event, 'c_day')\" label=\"c_day\"><Icon type=\"social-apple\"></Icon>当天</Radio>\n          <Radio @click.native=\"inputInterval($event, 'c_week')\" label=\"c_week\"><Icon type=\"social-apple\"></Icon>当周</Radio>\n          <Radio @click.native=\"inputInterval($event, 'c_month')\" label=\"c_month\"><Icon type=\"social-apple\"></Icon>当月</Radio>\n        </RadioGroup>\n      </FormItem>\n      <FormItem>\n        <RadioGroup v-model=\"form.type\" >\n          <Radio label=\"appointment\"><Icon type=\"social-apple\"></Icon>预约</Radio>\n          <Radio label=\"order\"><Icon type=\"social-apple\"></Icon>就餐</Radio>\n        </RadioGroup>\n      </FormItem>\n      <FormItem>\n        <Button type='primary' icon=\"md-search\" @click=\"queryStatistics()\">查询</Button>\n<!--        <Button class=\"margin-left-10\" type='primary' ghost icon=\"md-download\" @click=\"exportDinner\">导出EXCEL</Button>-->\n      </FormItem>\n\n    </Form>\n  </div>\n</template>\n<script>\nimport _ from 'underscore';\nimport moment from \"moment-timezone\";\n\nexport default {\n  name: 'searchForm',\n  data() {\n    return {\n      form: {\n        date: [moment().format('YYYY-MM-DD'), moment().format('YYYY-MM-DD')],\n        interval: 'c_day',\n        type: 'appointment',\n      },\n      export_excel_params: {},\n    };\n  },\n\n  computed: {\n    resultForm(){\n      let data = {\n        start_date: moment(this.form.date[0]).format('YYYY-MM-DD'),\n        end_date: moment(this.form.date[1]).format('YYYY-MM-DD'),\n        type: this.form.type,\n      }\n      return data;\n    },\n\n  },\n\n  methods: {\n    inputInterval($event, value) {\n      if (value == \"c_day\") {\n        this.form.date = [moment().format('YYYY-MM-DD'), moment().format('YYYY-MM-DD')];\n        this.form.interval = value;\n      }\n      if (value == \"c_week\") {\n        this.form.date = [moment().startOf('week').format(\"YYYY-MM-DD\"), moment().endOf('week').format(\"YYYY-MM-DD\")];\n        this.form.interval = value;\n      }\n      if (value == \"c_month\") {\n        this.form.date = [moment().startOf('month').format(\"YYYY-MM-DD\"), moment().endOf('month').format(\"YYYY-MM-DD\")];\n        this.form.interval = value;\n      }\n      if (value == \"c_init\") {\n        this.form.interval = undefined;\n      }\n    },\n\n    handleRadioClick($event, value) {\n      console.log(\"event check===value>>>\" + value);\n      console.log(\"event check===this.form.interval>>>\" + this.form.interval);\n      let now = +new Date();\n      if (now - this.evTimeStamp < 100) {\n        return;\n      }\n      this.evTimeStamp = now;\n      if (this.form.interval == value) {\n        this.form.interval = undefined;\n      } else {\n        this.form.interval = value;\n      }\n    },\n\n    queryStatistics: async function(page) {\n      this.$store.commit('TABLE_LOADING', true);\n      let startDate = this.resultForm.start_date || '';\n      let endDate = this.resultForm.end_date || '';\n      if (startDate == '' || startDate == 'Invalid date' || endDate == '' || endDate == 'Invalid date'){\n        this.$Message.error(\"请选择就餐统计日期起止！\");\n        this.$store.commit('TABLE_LOADING', false);\n        return;\n      }\n      this.$emit('getDate', this.resultForm);\n      // // this.$store.commit('setEmployeeListLoading', true);\n      let params = {\n        merchant_id: this.$store.state.user.curMerchantId,\n        ...this.resultForm\n      };\n      // console.log(\"queryStatistics===params>>>\" + JSON.stringify(params));\n      let res = await this.$store.dispatch('statisticsHome', params);\n      // console.log(\"queryStatistics===res>>>\" + JSON.stringify(res));\n      // console.log(\"queryStatistics===statHome>>>\" + JSON.stringify(this.$store.state.statistics.statHome));\n      // this.$refs['form'].resetFields();\n      // this.createTableData();\n    },\n\n    exportDinner: async function() {\n      let fileName = '就餐列表';\n      this.$store.commit('TABLE_LOADING', true);\n      let startDate = this.resultForm.start_date || '';\n      let endDate = this.resultForm.end_date || '';\n      if (startDate == '' || startDate == 'Invalid date' || endDate == '' || endDate == 'Invalid date'){\n        this.$Message.error(\"请选择就餐统计日期起止！\");\n        this.$store.commit('TABLE_LOADING', false);\n        return;\n      }\n      // this.$emit('getDate', this.resultForm);\n      let params = {\n        merchant_id: this.$store.state.user.curMerchantId,\n        ...this.resultForm\n      };\n      let queryArray = params.departments || '';\n      if (queryArray !== ''){\n        let stringResult = queryArray.split(',');\n        let departArray = buildChildDepartmentArray(stringResult,this.$store.state.user.departmentList);\n        let arrayResult = departArray.join(',');\n        params.departments = arrayResult;\n      }\n      let res = await this.$store.dispatch('statisticsDinnerExport', params);\n      if (res.return_code == 0){\n        let fileUrl = res.data.url;\n        this.download(fileUrl);\n      }\n      this.$store.commit('TABLE_LOADING', false);\n    },\n\n\n    // 下载文件\n    download(fileUrl) {\n      if (!fileUrl) {\n        return;\n      }\n\n      let link = document.createElement(\"a\");\n      link.style.display = \"none\";\n      link.href = fileUrl;\n      link.setAttribute(\"download\", fileUrl);\n      document.body.appendChild(link);\n      link.click();\n      // this.$Message.success(\"下载完成！\");\n    },\n\n    //数据导出\n    listResultExport: async function(pageSize) {\n      this.$store.commit('TABLE_LOADING', true);\n      let startDate = this.resultForm.start_date || '';\n      let endDate = this.resultForm.end_date || '';\n      if (startDate == '' || startDate == 'Invalid date' || endDate == '' || endDate == 'Invalid date'){\n        this.$Message.error(\"请选择就餐日期起止！\");\n        this.$store.commit('TABLE_LOADING', true);\n        return;\n      }\n\n      let maxPageSize = pageSize ? pageSize : this.$parent.page_size;\n      let params = {\n        merchant_id: this.$store.state.user.curMerchantId,\n        page: 1,\n        page_size: maxPageSize,\n        ...this.resultForm\n      };\n\n\n      let queryArray = params.departments || '';\n      if (queryArray !== ''){\n        let stringResult = queryArray.split(',');\n        let departArray = buildChildDepartmentArray(stringResult,this.$store.state.user.departmentList);\n        let arrayResult = departArray.join(',');\n        params.departments = arrayResult;\n      }\n\n      let res = await this.$store.dispatch('orderListExport', params);\n    },\n\n    //多选select\n    handleSelect(val, name){\n      if(_.indexOf(val, '-1') != -1){\n        this.form[name] = ['-1'];\n      }\n    },\n\n    createTableData(){\n      let that = this;\n      let tableData = [];\n      let statisticsResult = this.$store.state.statistics.statHome || {};\n      let data = {};\n      if (this.type == 'appointment'){\n        data = statisticsResult.appointment;\n      }\n      if (this.type == 'order'){\n        data = statisticsResult.order;\n      }\n      let headerCol = data.table_head_col;\n\n      let name = {\n        \"title\": \"餐种\",\n        \"key\": \"name\"\n      };\n\n      let headerRow = data.table_head_row;\n      let resultData = data.result;\n\n      headerRow.forEach(function (headerRowItem, headerRowIndex) {\n        let dataInfo = {\n          name: headerRowItem.title,\n        };\n        headerCol.forEach(function (headerColItem, headerColIndex) {\n          dataInfo[headerColItem.key] = resultData[0][headerColItem.key + '_' + headerRowItem.key];\n          // console.log(\"createTableData===dataInfo[\" + headerColItem.key + \"]>>>\" + JSON.stringify(dataInfo[headerColItem.key]));\n        });\n\n        tableData.push(dataInfo);\n\n      });\n\n      headerCol.unshift(name);\n\n      let lastDataIndex = _.findIndex(this.tableData, {name: '合计'});\n      let lastData = this.tableData.splice(lastDataIndex,1);\n      tableData.push(lastData[0]);\n      console.log(\"createTableData===lastData>>>\" + JSON.stringify(lastData));\n\n      this.columns = headerCol;\n      console.log(\"createTableData===>>>\" + JSON.stringify(this.tableData));\n      // return this.$store.state.statistics.statHome || {};\n      this.$store.commit('setStatTableData', tableData);\n      // return that.tableData;\n    },\n\n  },\n  async mounted() {\n    this.queryStatistics();\n  }\n}\n</script>\n<style lang='less' scoped>\n.card{\n  padding-bottom: 0 !important;\n  // min-height: 76px;\n  // max-height: 133px;\n}\n\n</style>\n"],"sourceRoot":"src/views/statistics/stat-home/components"}]}