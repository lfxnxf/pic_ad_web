{"remainingRequest":"/Users/zhang/工作/pic_ad/node_modules/babel-loader/lib/index.js!/Users/zhang/工作/pic_ad/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/zhang/工作/pic_ad/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/zhang/工作/pic_ad/src/views/setting/role-setting/components/add-role-goods-modal.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/zhang/工作/pic_ad/src/views/setting/role-setting/components/add-role-goods-modal.vue","mtime":1638516298176},{"path":"/Users/zhang/工作/pic_ad/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/zhang/工作/pic_ad/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/zhang/工作/pic_ad/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/zhang/工作/pic_ad/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIi9Vc2Vycy96aGFuZy9cdTVERTVcdTRGNUMvcGljX2FkL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hc3luY1RvR2VuZXJhdG9yIjsKaW1wb3J0IF9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyIGZyb20gIi9Vc2Vycy96aGFuZy9cdTVERTVcdTRGNUMvcGljX2FkL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyIjsKaW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUuanMiOwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwppbXBvcnQgKiBhcyBkYXRhQ29uZmlnIGZyb20gJy4uL2RhdGFDb25maWcnOwppbXBvcnQgbWQ1IGZyb20gJ2pzLW1kNSc7CmV4cG9ydCBkZWZhdWx0IHsKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgYnRuTG9hZGluZzogZmFsc2UsCiAgICAgIGlzRWRpdDogZmFsc2UsCiAgICAgIGNvbHVtbnM6IFtdLAogICAgICByb2xlX2lkOiAnJywKICAgICAgdGFibGVEYXRhOiBbXQogICAgfTsKICB9LAogIGNvbXBvbmVudHM6IHt9LAogIGNvbXB1dGVkOiB7CiAgICByb2xlR29vZHNNb2RhbDogewogICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHsKICAgICAgICByZXR1cm4gdGhpcy4kc3RvcmUuc3RhdGUucm9sZS5yb2xlR29vZHNNb2RhbDsKICAgICAgfSwKICAgICAgc2V0OiBmdW5jdGlvbiBzZXQodmFsKSB7CiAgICAgICAgdGhpcy4kc3RvcmUuY29tbWl0KCdzZXRSb2xlR29vZHNNb2RhbCcsIHZhbCk7CiAgICAgIH0KICAgIH0sCiAgICBjdXJyZW50Um9sZUdvb2RzRGF0YTogZnVuY3Rpb24gY3VycmVudFJvbGVHb29kc0RhdGEoKSB7CiAgICAgIHRoaXMudGFibGVEYXRhID0gdGhpcy4kc3RvcmUuc3RhdGUucm9sZS5jdXJyZW50Um9sZUdvb2RzRGF0YS5nb29kczsKICAgICAgdGhpcy5yb2xlX2lkID0gdGhpcy4kc3RvcmUuc3RhdGUucm9sZS5jdXJyZW50Um9sZUdvb2RzRGF0YS5yb2xlX2lkOwogICAgICByZXR1cm4gdGhpcy4kc3RvcmUuc3RhdGUucm9sZS5jdXJyZW50Um9sZUdvb2RzRGF0YTsKICAgIH0sCiAgICAvL+mkkOenjeWIl+ihqAogICAgR29vZHNMaXN0OiBmdW5jdGlvbiBHb29kc0xpc3QoKSB7CiAgICAgIHJldHVybiB0aGlzLiRzdG9yZS5zdGF0ZS5nb29kcy5nb29kc0xpc3Q7CiAgICB9CiAgfSwKICBtZXRob2RzOiB7CiAgICBpbml0RGF0YTogZnVuY3Rpb24gaW5pdERhdGEoKSB7CiAgICAgIHRoaXMuY29sdW1ucyA9IGRhdGFDb25maWcucm9sZUdvb2RzQ29sdW1uczsKICAgIH0sCiAgICBoYW5kbGVTYXZlOiBmdW5jdGlvbiBoYW5kbGVTYXZlKCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgdGhpcy5idG5Mb2FkaW5nID0gdHJ1ZTsKICAgICAgdmFyIHBhcmFtcyA9IFtdOwoKICAgICAgdmFyIF9pdGVyYXRvciA9IF9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyKHRoaXMudGFibGVEYXRhKSwKICAgICAgICAgIF9zdGVwOwoKICAgICAgdHJ5IHsKICAgICAgICBmb3IgKF9pdGVyYXRvci5zKCk7ICEoX3N0ZXAgPSBfaXRlcmF0b3IubigpKS5kb25lOykgewogICAgICAgICAgdmFyIGl0ZW0gPSBfc3RlcC52YWx1ZTsKCiAgICAgICAgICAvL+WmguaenOaYr+aWsOWinuaIluS/ruaUue+8jOWwhuacieaViOaVsOaNruWKoOWFpQogICAgICAgICAgaWYgKGl0ZW0ucm9sZV9zdGF0dXMpIHsKICAgICAgICAgICAgLy8gbGV0IHJlZyA9L1teXGRcLl0vOy9eKChbMS05XVxkezAsM30pfDApKFwuXGR7MCwyfSk/JC87CiAgICAgICAgICAgIHZhciByZWcgPSAvXigoWzEtOV1cZHswLDN9KXwwKShcLlxkezAsMn0pPyQvOwoKICAgICAgICAgICAgaWYgKCFyZWcudGVzdChpdGVtLnByaWNlKSkgewogICAgICAgICAgICAgIHRoaXMuJE1lc3NhZ2UuZXJyb3IoJ1snICsgaXRlbS5nb29kc19uYW1lICsgJ13ppJDnp43ku7fmoLzmoLzlvI/kuI3mraPnoa7vvIEnKTsKICAgICAgICAgICAgICB0aGlzLmJ0bkxvYWRpbmcgPSBmYWxzZTsKICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIHZhciBkYXRhSXRlbSA9IHsKICAgICAgICAgICAgICBtZXJjaGFudF9pZDogdGhpcy4kc3RvcmUuc3RhdGUudXNlci5jdXJNZXJjaGFudElkLAogICAgICAgICAgICAgIHJvbGVfaWQ6IHRoaXMucm9sZV9pZCwKICAgICAgICAgICAgICBnb29kc19pZDogaXRlbS5nb29kc19pZCwKICAgICAgICAgICAgICBwcmljZTogaXRlbS5wcmljZSwKICAgICAgICAgICAgICAvLyBtZW51X2lkOiBpdGVtLm1lbnVfaWQsCiAgICAgICAgICAgICAgaXNfZGVsOiAwCiAgICAgICAgICAgIH07CiAgICAgICAgICAgIHBhcmFtcy5wdXNoKGRhdGFJdGVtKTsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIC8v5aaC5p6c5piv5peg5pWI5pWw5o2u77yM5Yik5patbWVudV9pZOaYr+WQpuS4uuepuu+8jOS4jeS4uuepuuWwseaYr+WIoOmZpOaVsOaNrgogICAgICAgICAgICAvLyBpZiAoaXRlbS5tZW51X2lkICE9IG51bGwpewogICAgICAgICAgICB2YXIgX2RhdGFJdGVtID0gewogICAgICAgICAgICAgIG1lcmNoYW50X2lkOiB0aGlzLiRzdG9yZS5zdGF0ZS51c2VyLmN1ck1lcmNoYW50SWQsCiAgICAgICAgICAgICAgcm9sZV9pZDogdGhpcy5yb2xlX2lkLAogICAgICAgICAgICAgIGdvb2RzX2lkOiBpdGVtLmdvb2RzX2lkLAogICAgICAgICAgICAgIHByaWNlOiBpdGVtLnByaWNlLAogICAgICAgICAgICAgIC8vIG1lbnVfaWQ6IGl0ZW0ubWVudV9pZCwKICAgICAgICAgICAgICBpc19kZWw6IDEKICAgICAgICAgICAgfTsKICAgICAgICAgICAgcGFyYW1zLnB1c2goX2RhdGFJdGVtKTsgLy8gfQogICAgICAgICAgfQogICAgICAgIH0gLy8gY29uc29sZS5sb2coIj09PT5oYW5kbGVTYXZlPT09cGFyYW1zOiIgKyBKU09OLnN0cmluZ2lmeShwYXJhbXMpKTsKCiAgICAgIH0gY2F0Y2ggKGVycikgewogICAgICAgIF9pdGVyYXRvci5lKGVycik7CiAgICAgIH0gZmluYWxseSB7CiAgICAgICAgX2l0ZXJhdG9yLmYoKTsKICAgICAgfQoKICAgICAgdmFyIEJhc2U2NCA9IHJlcXVpcmUoJ2pzLWJhc2U2NCcpLkJhc2U2NDsKCiAgICAgIHZhciBwcmljZV9kZXRhaWwgPSBCYXNlNjQuZW5jb2RlKEpTT04uc3RyaW5naWZ5KHBhcmFtcykpOwogICAgICB2YXIgZGF0YSA9IHsKICAgICAgICBtZXJjaGFudF9pZDogdGhpcy4kc3RvcmUuc3RhdGUudXNlci5jdXJNZXJjaGFudElkLAogICAgICAgIHByaWNlX2RldGFpbDogcHJpY2VfZGV0YWlsCiAgICAgIH07IC8vIGxldCBzdHIxID0gQmFzZTY0LmRlY29kZShkYXRhKQoKICAgICAgdGhpcy4kc3RvcmUuZGlzcGF0Y2goJ3NldFJvbGVHb29kcycsIGRhdGEpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgIGlmIChyZXMucmV0dXJuX2NvZGUgPT0gMCkgewogICAgICAgICAgX3RoaXMuYnRuTG9hZGluZyA9IGZhbHNlOwoKICAgICAgICAgIF90aGlzLiRNZXNzYWdlLnN1Y2Nlc3MoJ+e8lui+keaIkOWKn++8gScpOwoKICAgICAgICAgIF90aGlzLiRzdG9yZS5jb21taXQoJ3NldFJvbGVHb29kc01vZGFsJywgZmFsc2UpOwoKICAgICAgICAgIF90aGlzLnF1ZXJ5Um9sZUdvb2RzTGlzdCgpOwogICAgICAgIH0KICAgICAgfSlbImNhdGNoIl0oZnVuY3Rpb24gKGVycikgewogICAgICAgIF90aGlzLmJ0bkxvYWRpbmcgPSBmYWxzZTsKICAgICAgfSk7CiAgICB9LAogICAgb25DaGFuZ2VJdGVtOiBmdW5jdGlvbiBvbkNoYW5nZUl0ZW0oZXZ0LCBnb29kc19pZCkgewogICAgICB2YXIgX2l0ZXJhdG9yMiA9IF9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyKHRoaXMudGFibGVEYXRhKSwKICAgICAgICAgIF9zdGVwMjsKCiAgICAgIHRyeSB7CiAgICAgICAgZm9yIChfaXRlcmF0b3IyLnMoKTsgIShfc3RlcDIgPSBfaXRlcmF0b3IyLm4oKSkuZG9uZTspIHsKICAgICAgICAgIHZhciBpdGVtID0gX3N0ZXAyLnZhbHVlOwoKICAgICAgICAgIGlmIChpdGVtLmdvb2RzX2lkID09IGdvb2RzX2lkKSB7CiAgICAgICAgICAgIGl0ZW0ucHJpY2UgPSBldnQudGFyZ2V0LnZhbHVlOwogICAgICAgICAgICBicmVhazsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0gY2F0Y2ggKGVycikgewogICAgICAgIF9pdGVyYXRvcjIuZShlcnIpOwogICAgICB9IGZpbmFsbHkgewogICAgICAgIF9pdGVyYXRvcjIuZigpOwogICAgICB9CiAgICB9LAogICAgb25TdGF0dXNDaGFuZ2U6IGZ1bmN0aW9uIG9uU3RhdHVzQ2hhbmdlKGV2dCwgZ29vZHNfaWQpIHsKICAgICAgdmFyIF9pdGVyYXRvcjMgPSBfY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlcih0aGlzLnRhYmxlRGF0YSksCiAgICAgICAgICBfc3RlcDM7CgogICAgICB0cnkgewogICAgICAgIGZvciAoX2l0ZXJhdG9yMy5zKCk7ICEoX3N0ZXAzID0gX2l0ZXJhdG9yMy5uKCkpLmRvbmU7KSB7CiAgICAgICAgICB2YXIgaXRlbSA9IF9zdGVwMy52YWx1ZTsKCiAgICAgICAgICBpZiAoaXRlbS5nb29kc19pZCA9PSBnb29kc19pZCkgewogICAgICAgICAgICBpdGVtLnJvbGVfc3RhdHVzID0gZXZ0OwogICAgICAgICAgICBicmVhazsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0gY2F0Y2ggKGVycikgewogICAgICAgIF9pdGVyYXRvcjMuZShlcnIpOwogICAgICB9IGZpbmFsbHkgewogICAgICAgIF9pdGVyYXRvcjMuZigpOwogICAgICB9CiAgICB9LAogICAgLy/ojrflj5bkurrlkZjnsbvlnovphY3nva7ppJDnp43liJfooagKICAgIHF1ZXJ5Um9sZUdvb2RzTGlzdDogZnVuY3Rpb24gcXVlcnlSb2xlR29vZHNMaXN0KHBhZ2UsIHBhZ2Vfc2l6ZSkgewogICAgICB2YXIgcGFyYW1zID0gewogICAgICAgIG1lcmNoYW50X2lkOiB0aGlzLiRzdG9yZS5zdGF0ZS51c2VyLmN1ck1lcmNoYW50SWQsCiAgICAgICAgLy8gcm9sZV9pZDogJycsCiAgICAgICAgcGFnZTogcGFnZSB8fCAxLAogICAgICAgIHBhZ2Vfc2l6ZTogcGFnZV9zaXplIHx8IHRoaXMuJHBhcmVudC5wYWdlX3NpemUKICAgICAgfTsKICAgICAgcmV0dXJuIHRoaXMuJHN0b3JlLmRpc3BhdGNoKCdnZXRSb2xlR29vZHNMaXN0JywgcGFyYW1zKTsKICAgIH0sCiAgICBnZXRHb29kc0xpc3Q6IGZ1bmN0aW9uICgpIHsKICAgICAgdmFyIF9nZXRHb29kc0xpc3QgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUocGFnZSwgcGFnZV9zaXplKSB7CiAgICAgICAgdmFyIHBhcmFtczsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBwYXJhbXMgPSB7CiAgICAgICAgICAgICAgICAgIG1lcmNoYW50X2lkOiB0aGlzLiRzdG9yZS5zdGF0ZS51c2VyLmN1ck1lcmNoYW50SWQsCiAgICAgICAgICAgICAgICAgIHBhZ2U6IDEsCiAgICAgICAgICAgICAgICAgIHBhZ2Vfc2l6ZTogMjAwMDAsCiAgICAgICAgICAgICAgICAgIGlzX2VuYWJsZTogMQogICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAzOwogICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuJHN0b3JlLmRpc3BhdGNoKCdnb29kc0xpc3QnLCBwYXJhbXMpOwoKICAgICAgICAgICAgICBjYXNlIDM6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlLCB0aGlzKTsKICAgICAgfSkpOwoKICAgICAgZnVuY3Rpb24gZ2V0R29vZHNMaXN0KF94LCBfeDIpIHsKICAgICAgICByZXR1cm4gX2dldEdvb2RzTGlzdC5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgICB9CgogICAgICByZXR1cm4gZ2V0R29vZHNMaXN0OwogICAgfSgpCiAgfSwKICBtb3VudGVkOiBmdW5jdGlvbiBtb3VudGVkKCkgewogICAgdGhpcy5pbml0RGF0YSgpOwogIH0sCiAgd2F0Y2g6IHsKICAgIHJvbGVHb29kc01vZGFsOiBmdW5jdGlvbiByb2xlR29vZHNNb2RhbCh2YWwpIHsKICAgICAgaWYgKHZhbCkgewogICAgICAgIHRoaXMuZ2V0R29vZHNMaXN0KCk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy5idG5Mb2FkaW5nID0gZmFsc2U7CiAgICAgIH0KICAgIH0KICB9Cn07"},{"version":3,"sources":["add-role-goods-modal.vue"],"names":[],"mappings":"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","sourcesContent":["<!-- 配置人员类型餐种 -->\n<template>\n  <Modal v-model=\"roleGoodsModal\" width=\"520px\" :footer-hide=\"true\">\n    <div>\n      <div>\n        <div class=\"margin-top-20 margin-bottom-15\">人员类型名称：<span class=\"font-blod\">{{currentRoleGoodsData.role_name}}</span></div>\n        <Table border :columns=\"columns\" :data=\"tableData\">\n          <template slot=\"role_status\" slot-scope=\"{ row }\">\n            <i-switch v-model=\"row.role_status\" size=\"large\" @on-change=\"onStatusChange($event, row.goods_id)\">\n              <span slot=\"1\">开启</span>\n              <span slot=\"0\">关闭</span>\n            </i-switch>\n          </template>\n          <template slot=\"parice\" slot-scope=\"{ row }\">\n            <Input v-model=\"row.price\" @on-change=\"onChangeItem($event, row.goods_id)\" :disabled=\"!row.role_status\"/>\n          </template>\n        </Table>\n        <div class=\"gray-bg border-top-0 text-center padding-top-10 padding-bottom-10\">\n          <Button class=\"margin-right-20\" @click=\"$store.commit('setRoleGoodsModal', false)\">返回</Button>\n          <Button type=\"primary\" :loading=\"btnLoading\" @click=\"handleSave\">提交</Button>\n        </div>\n      </div>\n    </div>\n  </Modal>\n</template>\n\n<script>\nimport * as dataConfig from '../dataConfig';\nimport md5 from 'js-md5';\nexport default {\n  data() {\n    return {\n      btnLoading: false,\n      isEdit: false,\n      columns: [],\n      role_id: '',\n      tableData:[]\n    };\n  },\n\n  components: {},\n\n  computed: {\n    roleGoodsModal:{\n      get(){\n        return this.$store.state.role.roleGoodsModal;\n      },\n      set(val){\n        this.$store.commit('setRoleGoodsModal', val)\n      }\n    },\n    currentRoleGoodsData(){\n      this.tableData = this.$store.state.role.currentRoleGoodsData.goods;\n      this.role_id = this.$store.state.role.currentRoleGoodsData.role_id;\n      return this.$store.state.role.currentRoleGoodsData;\n    },\n    //餐种列表\n    GoodsList() {\n      return this.$store.state.goods.goodsList;\n    },\n  },\n\n  methods: {\n    initData() {\n      this.columns = dataConfig.roleGoodsColumns;\n    },\n\n    handleSave(){\n      this.btnLoading = true;\n      let params = [];\n      for (let item of this.tableData){\n        //如果是新增或修改，将有效数据加入\n        if (item.role_status){\n          // let reg =/[^\\d\\.]/;/^(([1-9]\\d{0,3})|0)(\\.\\d{0,2})?$/;\n          let reg = /^(([1-9]\\d{0,3})|0)(\\.\\d{0,2})?$/;\n          if (!reg.test(item.price)){\n            this.$Message.error('[' + item.goods_name + ']餐种价格格式不正确！');\n            this.btnLoading = false;\n            return;\n          }\n          let dataItem = {\n            merchant_id: this.$store.state.user.curMerchantId,\n            role_id: this.role_id,\n            goods_id: item.goods_id,\n            price: item.price,\n            // menu_id: item.menu_id,\n            is_del: 0\n          }\n          params.push(dataItem);\n        }\n        else{//如果是无效数据，判断menu_id是否为空，不为空就是删除数据\n          // if (item.menu_id != null){\n            let dataItem = {\n              merchant_id: this.$store.state.user.curMerchantId,\n              role_id: this.role_id,\n              goods_id: item.goods_id,\n              price: item.price,\n              // menu_id: item.menu_id,\n              is_del: 1\n            }\n            params.push(dataItem);\n          // }\n        }\n      }\n\n      // console.log(\"===>handleSave===params:\" + JSON.stringify(params));\n      let Base64 = require('js-base64').Base64;\n      let price_detail = Base64.encode(JSON.stringify(params))\n\n      let data = {\n        merchant_id: this.$store.state.user.curMerchantId,\n        price_detail: price_detail,\n      };\n\n      // let str1 = Base64.decode(data)\n      this.$store.dispatch('setRoleGoods', data).then(res=>{\n        if(res.return_code==0){\n          this.btnLoading = false;\n          this.$Message.success('编辑成功！');\n          this.$store.commit('setRoleGoodsModal', false);\n          this.queryRoleGoodsList();\n        }\n      }).catch(err=>{\n        this.btnLoading = false;\n      });\n    },\n\n    onChangeItem(evt, goods_id){\n      for (let item of this.tableData){\n        if (item.goods_id == goods_id){\n          item.price = evt.target.value;\n          break;\n        }\n      }\n    },\n    onStatusChange(evt, goods_id){\n      for (let item of this.tableData){\n        if (item.goods_id == goods_id){\n          item.role_status = evt;\n          break;\n        }\n      }\n    },\n\n    //获取人员类型配置餐种列表\n    queryRoleGoodsList(page, page_size) {\n      let params = {\n        merchant_id: this.$store.state.user.curMerchantId,\n        // role_id: '',\n        page: page || 1,\n        page_size: page_size || this.$parent.page_size\n      };\n      return this.$store.dispatch('getRoleGoodsList', params);\n    },\n    getGoodsList: async function(page, page_size) {\n      let params = {\n        merchant_id: this.$store.state.user.curMerchantId,\n        page: 1,\n        page_size: 20000,\n        is_enable: 1\n      };\n      await this.$store.dispatch('goodsList', params);\n    },\n\n  },\n\n  mounted(){\n    this.initData();\n  },\n\n  watch: {\n    roleGoodsModal(val){\n      if(val){\n        this.getGoodsList();\n      }else{\n        this.btnLoading = false;\n      }\n    }\n  }\n};\n</script>\n<style lang='less' scoped>\n@import '../style';\n/deep/.ivu-input{\n  text-align: right;\n}\n\n</style>\n"],"sourceRoot":"src/views/setting/role-setting/components"}]}