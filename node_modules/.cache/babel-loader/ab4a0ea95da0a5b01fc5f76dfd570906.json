{"remainingRequest":"/Users/zhang/工作/pic_ad/node_modules/babel-loader/lib/index.js!/Users/zhang/工作/pic_ad/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/zhang/工作/pic_ad/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/zhang/工作/pic_ad/src/views/common/login/login.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/zhang/工作/pic_ad/src/views/common/login/login.vue","mtime":1644998572167},{"path":"/Users/zhang/工作/pic_ad/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/zhang/工作/pic_ad/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/zhang/工作/pic_ad/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/zhang/工作/pic_ad/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIi9Vc2Vycy96aGFuZy9cdTVERTVcdTRGNUMvcGljX2FkL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hc3luY1RvR2VuZXJhdG9yIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmZ1bmN0aW9uLm5hbWUuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5yZWdleHAuZXhlYy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5yZXBsYWNlLmpzIjsKaW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUuanMiOwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwppbXBvcnQgbG9naW5OYXYgZnJvbSAnQC9jb21wb25lbnRzL2xvZ2luLW5hdic7CmltcG9ydCBGb3JtQ29tcHV0ZXIgZnJvbSAnLi9jb21wb25lbnRzL2Zvcm0tY29tcHV0ZXInOwppbXBvcnQgXyBmcm9tICd1bmRlcnNjb3JlJzsKaW1wb3J0IHsgbG9jYWxTYXZlLCBsb2NhbFJlYWQsIHNldENvb2tpZXNJdGVtIH0gZnJvbSAnQC9saWJzL3V0aWwnOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogJ0xvZ2luJywKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgc3BpblNob3c6IGZhbHNlCiAgICB9OwogIH0sCiAgY29tcG9uZW50czogewogICAgbG9naW5OYXY6IGxvZ2luTmF2LAogICAgRm9ybUNvbXB1dGVyOiBGb3JtQ29tcHV0ZXIKICB9LAogIGNvbXB1dGVkOiB7fSwKICBtZXRob2RzOiB7CiAgICAvLyDkvb/nlKhpY2xvdWTnmoR0b2tlbuaNouWPlueUqOaIt+S4reW/g3Nlc3Npb25pZO+8jOi/meS4qumAu+i+keaciemXrumimO+8jOS4jeiDveeUqHRva2Vu5Zyod2Vi56uv55m75b2V77yM5YW35L2T5Y6f5Zug5Li677ya6I635Y+WaWNsb3VkIHRva2Vu77yMd2Vi5peg5rOV55u05o6l5LuO5LqR6Zeo5oi36YCa6L+HY29kZeaNouWPlnRva2Vu77yM5LqR6Zeo5oi35LiN5YWB6K646Leo5Z+f77yM6ZyA6KaB5pyN5Yqh56uv55SoY29kZeaNouWPlnRva2VuCiAgICBmZXRjaEljcEFjY2Vzc1Rva2VuOiBmdW5jdGlvbiAoKSB7CiAgICAgIHZhciBfZmV0Y2hJY3BBY2Nlc3NUb2tlbiA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZShjb2RlKSB7CiAgICAgICAgdmFyIHBhcmFtcywgdXNlckluZm87CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgcGFyYW1zID0gewogICAgICAgICAgICAgICAgICBjb2RlOiBjb2RlCiAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDM7CiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy4kc3RvcmUuZGlzcGF0Y2goJ2FkbWluTG9naW4nLCBwYXJhbXMpOwoKICAgICAgICAgICAgICBjYXNlIDM6CiAgICAgICAgICAgICAgICB1c2VySW5mbyA9IF9jb250ZXh0LnNlbnQ7CiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygiZmV0Y2hJY3BBY2Nlc3NUb2tlbi0tLS0tPj4+Pj4iICsgSlNPTi5zdHJpbmdpZnkodXNlckluZm8pKTsKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5hYnJ1cHQoInJldHVybiIsIHVzZXJJbmZvKTsKCiAgICAgICAgICAgICAgY2FzZSA2OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZSwgdGhpcyk7CiAgICAgIH0pKTsKCiAgICAgIGZ1bmN0aW9uIGZldGNoSWNwQWNjZXNzVG9rZW4oX3gpIHsKICAgICAgICByZXR1cm4gX2ZldGNoSWNwQWNjZXNzVG9rZW4uYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgICAgfQoKICAgICAgcmV0dXJuIGZldGNoSWNwQWNjZXNzVG9rZW47CiAgICB9KCksCiAgICAvLyDliKTmlq3mmK/lkKbkuLrnrKzkuInmlrnorqTor4Hlm57osIMKICAgIHRoaXJkQXV0aDogZnVuY3Rpb24gKCkgewogICAgICB2YXIgX3RoaXJkQXV0aCA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTIoYXJncykgewogICAgICAgIHZhciByZXN1bHQsIHN0YXRlLCBpY2xvdWRSZXM7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUyJChfY29udGV4dDIpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQyLnByZXYgPSBfY29udGV4dDIubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIHJlc3VsdCA9IHsKICAgICAgICAgICAgICAgICAgcG9zOiAwLAogICAgICAgICAgICAgICAgICAvLyAwLemdnuS4ieaWueiupOivge+8jDEgLSDkuInmlrnorqTor4HmiJDlip/vvIwtMSAtIOS4ieaWueiupOivgeWksei0pe+8jAogICAgICAgICAgICAgICAgICBtc2c6ICcnLAogICAgICAgICAgICAgICAgICBkYXRhOiB7fQogICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5wcmV2ID0gMTsKCiAgICAgICAgICAgICAgICBpZiAoISghXy5pc0VtcHR5KGFyZ3MpICYmIF8uaGFzKGFyZ3MsICdjb2RlJykpKSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gMTQ7CiAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIC8vIOagoemqjOWPguaVsOaYr+WQpuS4uuesrOS4ieaWueiupOivge+8jOS4lOWPguaVsOaYr+WQpuWQiOazlQogICAgICAgICAgICAgICAgcmVzdWx0LnBvcyA9IDE7CiAgICAgICAgICAgICAgICBzdGF0ZSA9IF8uaGFzKGFyZ3MsICdzdGF0ZScpICYmIE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChhcmdzLnN0YXRlKSA9PT0gJ1tvYmplY3QgU3RyaW5nXScgPyBKU09OLnBhcnNlKGFyZ3Muc3RhdGUpIDoge307CiAgICAgICAgICAgICAgICBfY29udGV4dDIudDAgPSBzdGF0ZS50eXBlOwogICAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSBfY29udGV4dDIudDAgPT09ICdpY2xvdWQnID8gOCA6IDEzOwogICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgIGNhc2UgODoKICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gMTA7CiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5mZXRjaEljcEFjY2Vzc1Rva2VuKGFyZ3MuY29kZSk7CgogICAgICAgICAgICAgIGNhc2UgMTA6CiAgICAgICAgICAgICAgICBpY2xvdWRSZXMgPSBfY29udGV4dDIuc2VudDsKICAgICAgICAgICAgICAgIHJlc3VsdC5kYXRhID0gaWNsb3VkUmVzOwogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5hYnJ1cHQoImJyZWFrIiwgMTQpOwoKICAgICAgICAgICAgICBjYXNlIDEzOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5hYnJ1cHQoImJyZWFrIiwgMTQpOwoKICAgICAgICAgICAgICBjYXNlIDE0OgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5hYnJ1cHQoInJldHVybiIsIHJlc3VsdCk7CgogICAgICAgICAgICAgIGNhc2UgMTc6CiAgICAgICAgICAgICAgICBfY29udGV4dDIucHJldiA9IDE3OwogICAgICAgICAgICAgICAgX2NvbnRleHQyLnQxID0gX2NvbnRleHQyWyJjYXRjaCJdKDEpOwogICAgICAgICAgICAgICAgcmVzdWx0LnBvcyA9IC0xOwogICAgICAgICAgICAgICAgY29uc29sZS5sb2coX2NvbnRleHQyLnQxKTsKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIuYWJydXB0KCJyZXR1cm4iLCByZXN1bHQpOwoKICAgICAgICAgICAgICBjYXNlIDIyOgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyLnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUyLCB0aGlzLCBbWzEsIDE3XV0pOwogICAgICB9KSk7CgogICAgICBmdW5jdGlvbiB0aGlyZEF1dGgoX3gyKSB7CiAgICAgICAgcmV0dXJuIF90aGlyZEF1dGguYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgICAgfQoKICAgICAgcmV0dXJuIHRoaXJkQXV0aDsKICAgIH0oKSwKICAgIC8vIOS/neWtmOacrOWcsOaVsOaNrgogICAgc2F2ZUxvY2FsOiBmdW5jdGlvbiAoKSB7CiAgICAgIHZhciBfc2F2ZUxvY2FsID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMyh1Y1JlcykgewogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMyQoX2NvbnRleHQzKSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0My5wcmV2ID0gX2NvbnRleHQzLm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICAvLyBjb25zb2xlLmxvZygic2F2ZUxvY2FsID09PT4gIiwgSlNPTi5zdHJpbmdpZnkodWNSZXMpKTsKICAgICAgICAgICAgICAgIHRoaXMuJHN0b3JlLmNvbW1pdCgnc2V0QWRtaW5Sb2xlJywgdWNSZXMuYWRtaW5fcm9sZSk7CiAgICAgICAgICAgICAgICB0aGlzLiRzdG9yZS5jb21taXQoJ3NldEN1ckRlcGFydG1lbnQnLCB1Y1Jlcy5kZXBhcnRtZW50KTsKICAgICAgICAgICAgICAgIHRoaXMuJHN0b3JlLmNvbW1pdCgnc2V0Q3VyRGVwYXJ0bWVudE5hbWUnLCB1Y1Jlcy5kZXBhcnRtZW50X25hbWUpOwogICAgICAgICAgICAgICAgdGhpcy4kc3RvcmUuY29tbWl0KCdzZXRDdXJFbXBJZCcsIHVjUmVzLmVtcF9pZCk7CiAgICAgICAgICAgICAgICB0aGlzLiRzdG9yZS5jb21taXQoJ3NldExhc3RMb2dpblRpbWUnLCB1Y1Jlcy5sYXN0X2xvZ2luX3RpbWUpOwogICAgICAgICAgICAgICAgdGhpcy4kc3RvcmUuY29tbWl0KCdzZXRDdXJVc2VyTmFtZScsIHVjUmVzLm5hbWUpOwogICAgICAgICAgICAgICAgdGhpcy4kc3RvcmUuY29tbWl0KCdzZXRDdXJPcmdJZCcsIHVjUmVzLm9yZ19pZCk7CiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygidWNSZXMub3JnX2lkID09PT4gIiwgdWNSZXMub3JnX2lkKTsKICAgICAgICAgICAgICAgIHRoaXMuJHN0b3JlLmNvbW1pdCgnc2V0Q3VyT3JnTmFtZScsIHVjUmVzLm9yZ19uYW1lKTsKICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCJ1Y1Jlcy5vcmdfbmFtZSA9PT0+ICIsIHVjUmVzLm9yZ19uYW1lKTsKICAgICAgICAgICAgICAgIHRoaXMuJHN0b3JlLmNvbW1pdCgnc2V0Q3VyVXNlckNvZGUnLCB1Y1Jlcy51c2VyY29kZSk7CiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygidWNSZXMudXNlcmNvZGUgPT09PiAiLCB1Y1Jlcy51c2VyY29kZSk7CiAgICAgICAgICAgICAgICB0aGlzLiRzdG9yZS5jb21taXQoJ3NldFRva2VuJywgdWNSZXMuc2Vzc2lvbmlkKTsKICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCJ1Y1Jlcy5zZXNzaW9uaWQgPT09PiAiLCB1Y1Jlcy5zZXNzaW9uaWQpOwogICAgICAgICAgICAgICAgdGhpcy4kc3RvcmUuY29tbWl0KCdzZXRFbXBVc2VyQ29kZScsIHVjUmVzLmNfdXNlcmNvZGUpOwogICAgICAgICAgICAgICAgY29uc29sZS5sb2coInVjUmVzLmNfdXNlcmNvZGUgPT09PiAiLCB1Y1Jlcy5jX3VzZXJjb2RlKTsKICAgICAgICAgICAgICAgIHRoaXMuJHN0b3JlLmNvbW1pdCgnc2V0Q3VyTWVyY2hhbnRJZCcsIHVjUmVzLm1lcmNoYW50X2lkKTsKICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCJ1Y1Jlcy5tZXJjaGFudF9pZCA9PT0+ICIsIHVjUmVzLm1lcmNoYW50X2lkKTsKICAgICAgICAgICAgICAgIHVjUmVzLm1lcmNoYW50X25hbWUgPSB1Y1Jlcy5tZXJjaGFudF9pZCA/IHVjUmVzLm1lcmNoYW50X25hbWUgOiAn566h55CG5ZGYJzsKICAgICAgICAgICAgICAgIHRoaXMuJHN0b3JlLmNvbW1pdCgnc2V0Q3VyTWVyY2hhbnROYW1lJywgdWNSZXMubWVyY2hhbnRfbmFtZSk7CiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygidWNSZXMubWVyY2hhbnRfbmFtZSA9PT0+ICIsIHVjUmVzLm1lcmNoYW50X25hbWUpOwogICAgICAgICAgICAgICAgdGhpcy4kc3RvcmUuY29tbWl0KCdzZXRDdXJNZXJjaGFudFVzZXJDb2RlJywgdWNSZXMubWVyY2hhbnRfY29kZSk7CiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygidWNSZXMubWVyY2hhbnRfdXNlcmNvZGUgPT09PiAiLCB1Y1Jlcy5tZXJjaGFudF9jb2RlKTsKCiAgICAgICAgICAgICAgY2FzZSAyMzoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0My5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlMywgdGhpcyk7CiAgICAgIH0pKTsKCiAgICAgIGZ1bmN0aW9uIHNhdmVMb2NhbChfeDMpIHsKICAgICAgICByZXR1cm4gX3NhdmVMb2NhbC5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgICB9CgogICAgICByZXR1cm4gc2F2ZUxvY2FsOwogICAgfSgpCiAgfSwKICBtb3VudGVkOiBmdW5jdGlvbiBtb3VudGVkKCkgewogICAgdmFyIF90aGlzID0gdGhpczsKCiAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlNCgpIHsKICAgICAgdmFyIGFyZ3MsIHRoaXJkQXV0aFJlcywgdWNSZXMsIG1zZywgaXNBZG1pbjsKICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWU0JChfY29udGV4dDQpIHsKICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgc3dpdGNoIChfY29udGV4dDQucHJldiA9IF9jb250ZXh0NC5uZXh0KSB7CiAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAvLyBjb25zb2xlLmxvZygndGhpcy4kcm91dGUucXVlcnkgPT09PT4gJywgdGhpcy4kcm91dGUucXVlcnkpCiAgICAgICAgICAgICAgYXJncyA9IF90aGlzLiRyb3V0ZS5xdWVyeTsKCiAgICAgICAgICAgICAgaWYgKCFfLmlzRW1wdHkoYXJncykpIHsKICAgICAgICAgICAgICAgIF9jb250ZXh0NC5uZXh0ID0gMzsKICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0NC5hYnJ1cHQoInJldHVybiIpOwoKICAgICAgICAgICAgY2FzZSAzOgogICAgICAgICAgICAgIF9jb250ZXh0NC5wcmV2ID0gMzsKICAgICAgICAgICAgICBfY29udGV4dDQubmV4dCA9IDY7CiAgICAgICAgICAgICAgcmV0dXJuIF90aGlzLnRoaXJkQXV0aChhcmdzKTsKCiAgICAgICAgICAgIGNhc2UgNjoKICAgICAgICAgICAgICB0aGlyZEF1dGhSZXMgPSBfY29udGV4dDQuc2VudDsKICAgICAgICAgICAgICB1Y1JlcyA9IHt9OwogICAgICAgICAgICAgIF9jb250ZXh0NC50MCA9IHRoaXJkQXV0aFJlcy5wb3M7CiAgICAgICAgICAgICAgX2NvbnRleHQ0Lm5leHQgPSBfY29udGV4dDQudDAgPT09IDEgPyAxMSA6IF9jb250ZXh0NC50MCA9PT0gLTEgPyAyMSA6IDI0OwogICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgY2FzZSAxMToKICAgICAgICAgICAgICBfdGhpcy5zcGluU2hvdyA9IHRydWU7CgogICAgICAgICAgICAgIGlmICh0aGlyZEF1dGhSZXMuZGF0YS5kYXRhID09PSAie30iKSB7CiAgICAgICAgICAgICAgICBtc2cgPSAn6K6k6K+B5byC5bi4JzsKCiAgICAgICAgICAgICAgICBfdGhpcy4kTWVzc2FnZS5lcnJvcih7CiAgICAgICAgICAgICAgICAgIGNvbnRlbnQ6IG1zZywKICAgICAgICAgICAgICAgICAgZHVyYXRpb246IDEwLAogICAgICAgICAgICAgICAgICBjbG9zYWJsZTogdHJ1ZQogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgICAgX3RoaXMuJHJvdXRlci5yZXBsYWNlKHsKICAgICAgICAgICAgICAgICAgcGF0aDogJy9sb2dpbicKICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgdWNSZXMgPSB0aGlyZEF1dGhSZXMuZGF0YS5kYXRhOwoKICAgICAgICAgICAgICBfdGhpcy5zYXZlTG9jYWwodWNSZXMpOwoKICAgICAgICAgICAgICBpc0FkbWluID0gZmFsc2U7CiAgICAgICAgICAgICAgX3RoaXMuc3BpblNob3cgPSBmYWxzZTsKCiAgICAgICAgICAgICAgaWYgKHVjUmVzLmFkbWluX3JvbGUgPT09ICJzdXBlcnZpc29yX2FkbWluIikgewogICAgICAgICAgICAgICAgaXNBZG1pbiA9IHRydWU7CgogICAgICAgICAgICAgICAgX3RoaXMuJE1lc3NhZ2Uuc3VjY2Vzcygn55m75b2V5oiQ5YqfJyk7CgogICAgICAgICAgICAgICAgX3RoaXMuc3BpblNob3cgPSBmYWxzZTsKCiAgICAgICAgICAgICAgICBfdGhpcy4kcm91dGVyLnB1c2goewogICAgICAgICAgICAgICAgICBwYXRoOiAnL2J1c2luZXNzLWluZm9ybWF0aW9uL2Jhc2ljLWluZm9ybWF0aW9uJwogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICBpZiAodWNSZXMuYWRtaW5fcm9sZSA9PT0gIm1lcmNoYW50X2FkbWluIikgewogICAgICAgICAgICAgICAgaXNBZG1pbiA9IHRydWU7CgogICAgICAgICAgICAgICAgX3RoaXMuJE1lc3NhZ2Uuc3VjY2Vzcygn55m75b2V5oiQ5YqfJyk7CgogICAgICAgICAgICAgICAgX3RoaXMuc3BpblNob3cgPSBmYWxzZTsKCiAgICAgICAgICAgICAgICBfdGhpcy4kcm91dGVyLnB1c2goewogICAgICAgICAgICAgICAgICBwYXRoOiAnL2J1c2luZXNzaW5mby9idXNpbmVzc2luZm8nCiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgIGlmICghaXNBZG1pbikgewogICAgICAgICAgICAgICAgX3RoaXMuc3BpblNob3cgPSBmYWxzZTsKCiAgICAgICAgICAgICAgICBfdGhpcy4kTWVzc2FnZS5zdWNjZXNzKCfnmbvlvZXlpLHotKUnKTsKCiAgICAgICAgICAgICAgICBfdGhpcy4kcm91dGVyLnJlcGxhY2UoewogICAgICAgICAgICAgICAgICBwYXRoOiAnL2xvZ2luJwogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ0LmFicnVwdCgiYnJlYWsiLCAyNyk7CgogICAgICAgICAgICBjYXNlIDIxOgogICAgICAgICAgICAgIF90aGlzLiRNZXNzYWdlLmVycm9yKCfnmbvlvZXlpLHotKUhIScpOwoKICAgICAgICAgICAgICBfdGhpcy4kcm91dGVyLnJlcGxhY2UoewogICAgICAgICAgICAgICAgcGF0aDogJy9sb2dpbicKICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0NC5hYnJ1cHQoImJyZWFrIiwgMjcpOwoKICAgICAgICAgICAgY2FzZSAyNDoKICAgICAgICAgICAgICBfdGhpcy4kTWVzc2FnZS5lcnJvcign55m75b2V5aSx6LSlIScpOwoKICAgICAgICAgICAgICBfdGhpcy4kcm91dGVyLnJlcGxhY2UoewogICAgICAgICAgICAgICAgcGF0aDogJy9sb2dpbicKICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0NC5hYnJ1cHQoImJyZWFrIiwgMjcpOwoKICAgICAgICAgICAgY2FzZSAyNzoKICAgICAgICAgICAgICBfY29udGV4dDQubmV4dCA9IDMyOwogICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgY2FzZSAyOToKICAgICAgICAgICAgICBfY29udGV4dDQucHJldiA9IDI5OwogICAgICAgICAgICAgIF9jb250ZXh0NC50MSA9IF9jb250ZXh0NFsiY2F0Y2giXSgzKTsKICAgICAgICAgICAgICBjb25zb2xlLmxvZyhfY29udGV4dDQudDEpOwoKICAgICAgICAgICAgY2FzZSAzMjoKICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ0LnN0b3AoKTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0sIF9jYWxsZWU0LCBudWxsLCBbWzMsIDI5XV0pOwogICAgfSkpKCk7CiAgfQp9Ow=="},{"version":3,"sources":["login.vue"],"names":[],"mappings":"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","sourcesContent":["<!--  -->\n<template>\n  <div class=\"login loginV2\">\n    <Spin class=\"login_spin\" size=\"large\" fix v-if=\"spinShow\">\n      <Icon type=\"ios-loading\" size=18 class=\"demo-spin-icon-load\"></Icon>\n      <div class=\"margin-top-10 font-size16\">登录中</div>\n    </Spin>\n    <login-nav></login-nav>\n    <div class=\"content\">\n      <div class=\"mask\"></div>\n      <div class=\"form_wrapper\">\n        <img src=\"@/assets/images/login_bg.jpg\" alt=\"\">\n        <form-computer class=\"form-computer\"></form-computer>\n      </div>\n    </div>\n  </div>\n</template>\n<script>\nimport loginNav from '@/components/login-nav';\nimport FormComputer from './components/form-computer';\nimport _ from 'underscore';\nimport { localSave, localRead, setCookiesItem } from '@/libs/util';\nexport default {\n  name: 'Login',\n  data() {\n    return {\n      spinShow: false\n    };\n  },\n\n  components: {\n    loginNav,\n    FormComputer,\n  },\n\n  computed: {},\n\n  methods: {\n    // 使用icloud的token换取用户中心sessionid，这个逻辑有问题，不能用token在web端登录，具体原因为：获取icloud token，web无法直接从云门户通过code换取token，云门户不允许跨域，需要服务端用code换取token\n    fetchIcpAccessToken: async function(code) {\n      let params = {\n        code: code,\n      };\n      let userInfo = await this.$store.dispatch('adminLogin', params);\n      console.log(\"fetchIcpAccessToken----->>>>>\" + JSON.stringify(userInfo))\n      return userInfo;\n    },\n\n    // 判断是否为第三方认证回调\n    thirdAuth: async function(args) {\n      let result = {\n        pos: 0, // 0-非三方认证，1 - 三方认证成功，-1 - 三方认证失败，\n        msg: '',\n        data: {}\n      };\n      try {\n        if (!_.isEmpty(args) && _.has(args, 'code')) {\n          // 校验参数是否为第三方认证，且参数是否合法\n          result.pos = 1;\n          let state = _.has(args, 'state') && Object.prototype.toString.call(args.state) === '[object String]' ? JSON.parse(args.state) : {};\n          switch (state.type) {\n            case 'icloud':\n              let icloudRes = await this.fetchIcpAccessToken(args.code);\n              result.data = icloudRes;\n              break;\n            default:\n              break;\n          }\n        }\n        return result;\n      } catch (e) {\n        result.pos = -1;\n        console.log(e);\n        return result;\n      }\n    },\n\n    // 保存本地数据\n    saveLocal: async function(ucRes) {\n      // console.log(\"saveLocal ===> \", JSON.stringify(ucRes));\n      this.$store.commit('setAdminRole', ucRes.admin_role);\n      this.$store.commit('setCurDepartment', ucRes.department);\n      this.$store.commit('setCurDepartmentName', ucRes.department_name);\n      this.$store.commit('setCurEmpId', ucRes.emp_id);\n      this.$store.commit('setLastLoginTime', ucRes.last_login_time);\n      this.$store.commit('setCurUserName', ucRes.name);\n      this.$store.commit('setCurOrgId', ucRes.org_id);\n      console.log(\"ucRes.org_id ===> \", ucRes.org_id);\n      this.$store.commit('setCurOrgName', ucRes.org_name);\n      console.log(\"ucRes.org_name ===> \", ucRes.org_name);\n      this.$store.commit('setCurUserCode', ucRes.usercode);\n      console.log(\"ucRes.usercode ===> \", ucRes.usercode);\n      this.$store.commit('setToken', ucRes.sessionid);\n      console.log(\"ucRes.sessionid ===> \", ucRes.sessionid);\n      this.$store.commit('setEmpUserCode', ucRes.c_usercode);\n      console.log(\"ucRes.c_usercode ===> \", ucRes.c_usercode);\n      this.$store.commit('setCurMerchantId', ucRes.merchant_id);\n      console.log(\"ucRes.merchant_id ===> \", ucRes.merchant_id);\n      ucRes.merchant_name = ucRes.merchant_id?ucRes.merchant_name:'管理员';\n      this.$store.commit('setCurMerchantName', ucRes.merchant_name);\n      console.log(\"ucRes.merchant_name ===> \", ucRes.merchant_name);\n      this.$store.commit('setCurMerchantUserCode', ucRes.merchant_code);\n      console.log(\"ucRes.merchant_usercode ===> \", ucRes.merchant_code);\n    },\n\n  },\n\n  async mounted() {\n    // console.log('this.$route.query ====> ', this.$route.query)\n    let args = this.$route.query;\n\n    if (_.isEmpty(args))\n      return;\n\n    try {\n      let thirdAuthRes = await this.thirdAuth(args);\n      let ucRes = {};\n\n      switch (thirdAuthRes.pos) {\n        case 1:\n          this.spinShow = true;\n          if (thirdAuthRes.data.data === \"{}\"){\n            let msg = '认证异常';\n            this.$Message.error({\n              content: msg,\n              duration: 10,\n              closable: true\n            });\n            this.$router.replace({path:'/login'});\n          }\n\n          ucRes = thirdAuthRes.data.data;\n          this.saveLocal(ucRes);\n\n          let isAdmin = false;\n          this.spinShow = false;\n          if (ucRes.admin_role === \"supervisor_admin\") {\n            isAdmin = true;\n            this.$Message.success('登录成功');\n            this.spinShow = false;\n            this.$router.push({path: '/business-information/basic-information'});\n          }\n          if (ucRes.admin_role === \"merchant_admin\") {\n            isAdmin = true;\n            this.$Message.success('登录成功');\n            this.spinShow = false;\n            this.$router.push({path: '/businessinfo/businessinfo'});\n          }\n\n          if (!isAdmin){\n            this.spinShow = false;\n            this.$Message.success('登录失败');\n            this.$router.replace({path: '/login'});\n          }\n          break;\n        case -1:\n          this.$Message.error('登录失败!!');\n          this.$router.replace({path: '/login'});\n          break;\n        default:\n          this.$Message.error('登录失败!');\n          this.$router.replace({path: '/login'});\n          break;\n      }\n\n    } catch (e) {\n      console.log(e);\n    }\n  }\n}\n</script>\n<style lang='less' scoped>\n@import './style';\n</style>\n"],"sourceRoot":"src/views/common/login"}]}