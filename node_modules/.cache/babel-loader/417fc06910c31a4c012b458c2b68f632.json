{"remainingRequest":"/Users/zhang/canteen_manage/node_modules/babel-loader/lib/index.js!/Users/zhang/canteen_manage/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/zhang/canteen_manage/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/zhang/canteen_manage/src/views/menu-management/week-menu/index.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/zhang/canteen_manage/src/views/menu-management/week-menu/index.vue","mtime":1645413908886},{"path":"/Users/zhang/canteen_manage/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/zhang/canteen_manage/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/zhang/canteen_manage/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/zhang/canteen_manage/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyIGZyb20gIi9Vc2Vycy96aGFuZy9jYW50ZWVuX21hbmFnZS9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlciI7CmltcG9ydCBfYXN5bmNUb0dlbmVyYXRvciBmcm9tICIvVXNlcnMvemhhbmcvY2FudGVlbl9tYW5hZ2Uvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2FzeW5jVG9HZW5lcmF0b3IiOwppbXBvcnQgInJlZ2VuZXJhdG9yLXJ1bnRpbWUvcnVudGltZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmRhdGUudG8tc3RyaW5nLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZm9yLWVhY2guanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy93ZWIuZG9tLWNvbGxlY3Rpb25zLmZvci1lYWNoLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmlsdGVyLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmluZGV4LW9mLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuc2xpY2UuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5maW5kLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMucmVnZXhwLmV4ZWMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcucmVwbGFjZS5qcyI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmltcG9ydCBzZWxlY3RGb29kIGZyb20gJy4vY29tcG9uZW50cy9zZWxlY3QtZm9vZC1tb2RhbCc7CmltcG9ydCBtb21lbnQgZnJvbSAnbW9tZW50LXRpbWV6b25lJzsKaW1wb3J0IF8gZnJvbSAndW5kZXJzY29yZSc7CmltcG9ydCAqIGFzIGRhdGFDb25maWcgZnJvbSAiLi9kYXRhQ29uZmlnIjsKaW1wb3J0IHsgZm9yRWFjaCB9IGZyb20gJy4uLy4uLy4uL2xpYnMvdG9vbHMnOwppbXBvcnQgKiBhcyBnb29kc19kYXRlIGZyb20gIkAvYXBpL2dvb2RzX2RhdGUiOwppbXBvcnQgeyBkYXRlVHlwZUxpc3QgfSBmcm9tICJAY29tcG9uZW50cy9jaGFuZ2UtZGF0ZS10eXBlL2RhdGFDb25maWciOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogIldlZWtNZW51IiwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgZGVjOiAn5Zyf6LGG5LiN6KaB5Zyf6LGG5LidJywKICAgICAgZGVjMjogJ+a0i+iKi+eykeeykScsCiAgICAgIG15RGF0ZTogbmV3IERhdGUoKSwKICAgICAgLy/lvZPlpKkKICAgICAgbXlEYXRlSW5kZXg6IDAsCiAgICAgIHRhYmxlX2xpc3Q6IFt7CiAgICAgICAgZGF0ZV9jb2x1bW5zOiBbewogICAgICAgICAgdGl0bGU6ICfml6XmnJ8nLAogICAgICAgICAgYWxpZ246ICdjZW50ZXInLAogICAgICAgICAga2V5OiAnZ29vZHNfbmFtZScsCiAgICAgICAgICB3aWR0aDogJzgwJywKICAgICAgICAgIGNsYXNzTmFtZTogJ2ZpcnN0LWNvbHVtbicsCiAgICAgICAgICByZW5kZXJIZWFkZXI6IGZ1bmN0aW9uIHJlbmRlckhlYWRlcihoLCBwYXJhbXMpIHsKICAgICAgICAgICAgcmV0dXJuIGgoJ2RpdicsIHsKICAgICAgICAgICAgICBzdHlsZTogewogICAgICAgICAgICAgICAgY3Vyc29yOiAncG9pbnRlcicKICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgIG9uOiB7CiAgICAgICAgICAgICAgICBjbGljazogZnVuY3Rpb24gY2xpY2soKSB7CiAgICAgICAgICAgICAgICAgIHZhciB0YWJsZXMgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndGFibGVzJyk7CiAgICAgICAgICAgICAgICAgIHZhciBjdXJfdGFibGUgPSB0YWJsZXMuY2hpbGRyZW5bMF07CiAgICAgICAgICAgICAgICAgIHZhciBjdXJfdGFibGVfYm9keSA9IGN1cl90YWJsZS5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCdpdnUtdGFibGUtYm9keScpWzBdOwogICAgICAgICAgICAgICAgICB2YXIgY3VyX2ljb24gPSBjdXJfdGFibGUuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgnaXZ1LWljb24tbWQtYXJyb3ctZHJvcGRvd24nKVswXTsKICAgICAgICAgICAgICAgICAgdmFyIGN1cl9ib2R5X2hlaWdodCA9IGN1cl90YWJsZV9ib2R5Lm9mZnNldEhlaWdodDsKICAgICAgICAgICAgICAgICAgdmFyIGRlZyA9ICcnOwoKICAgICAgICAgICAgICAgICAgaWYgKGN1cl9ib2R5X2hlaWdodCA9PSAwKSB7CiAgICAgICAgICAgICAgICAgICAgZGVnID0gJzBkZWcnOwogICAgICAgICAgICAgICAgICAgIGN1cl90YWJsZV9ib2R5LnN0eWxlLmhlaWdodCA9ICdhdXRvJzsKICAgICAgICAgICAgICAgICAgICBjdXJfaWNvbi5zdHlsZS50cmFuc2Zvcm0gPSAicm90YXRlKCIgKyBkZWcgKyAiKSI7CiAgICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgZGVnID0gJy05MGRlZyc7CiAgICAgICAgICAgICAgICAgICAgY3VyX3RhYmxlX2JvZHkuc3R5bGUuaGVpZ2h0ID0gJzAnOwogICAgICAgICAgICAgICAgICAgIGN1cl9pY29uLnN0eWxlLnRyYW5zZm9ybSA9ICJyb3RhdGUoIiArIGRlZyArICIpIjsKICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSwgW2goJ0ljb24nLCB7CiAgICAgICAgICAgICAgcHJvcHM6IHsKICAgICAgICAgICAgICAgIHR5cGU6ICdtZC1hcnJvdy1kcm9wZG93bicKICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgIHN0eWxlOiB7CiAgICAgICAgICAgICAgICBtYXJnaW5SaWdodDogJzVweCcsCiAgICAgICAgICAgICAgICBmb250U2l6ZTogJzIwcHgnLAogICAgICAgICAgICAgICAgdmVydGljYWxBbGlnbjogJ2JvdHRvbScsCiAgICAgICAgICAgICAgICB0cmFuc2l0aW9uOiAnYWxsIDMwMG1zJwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSksIGgoJ3NwYW4nLCB7fSwgJ+aXpeacnycpXSk7CiAgICAgICAgICB9CiAgICAgICAgfV0KICAgICAgfV0sCiAgICAgIHN0YXJ0X2RhdGU6ICcnLAogICAgICBlbmRfZGF0ZTogJycsCiAgICAgIHdlZWtfY29sdW1uczogW10sCiAgICAgIHdlZWtfZGF0YTogW3t9XSwKICAgICAgd2Vla3M6IDAsCiAgICAgIC8vIHRhYmxlRGF0YTogWwogICAgICAvLyAgIHsgcHJvOiAn5pep6aSQJywgdGltZV90eXBlOidicmVha2Zhc3QnIH0sCiAgICAgIC8vICAgeyBwcm86ICfljYjppJAnLCB0aW1lX3R5cGU6J25vb25pbmcnIH0sCiAgICAgIC8vICAgeyBwcm86ICfmmZrppJAnLCB0aW1lX3R5cGU6J2Rpbm5lcicgfQogICAgICAvLyBdLAogICAgICB0YWJsZURhdGE6IFtdLAogICAgICB0YWJsZV9zbG90X2xpc3Q6IFtdLAogICAgICBmb29kVHlwZUluZGV4OiAwLAogICAgICBmb29kRGF0ZUluZGV4OiAwLAogICAgICBmb29kTGlzdEluZGV4OiBbXSwKICAgICAgZm9vZExpc3REYXRhT2xkOiBbXSwKICAgICAgdXBkYXRlOiB0cnVlCiAgICB9OwogIH0sCiAgY29tcG9uZW50czogewogICAgc2VsZWN0Rm9vZDogc2VsZWN0Rm9vZAogIH0sCiAgY29tcHV0ZWQ6IHsKICAgIC8v6I+c6LCx5pWw5o2uCiAgICBtZW51TGlzdDogZnVuY3Rpb24gbWVudUxpc3QoKSB7CiAgICAgIHJldHVybiB0aGlzLiRzdG9yZS5zdGF0ZS5tZW51Lm1lbnVMaXN0LnJlc3VsdDsKICAgIH0sCiAgICAvL+mkkOenjeaVsOaNrgogICAgZ29vZHNMaXN0OiBmdW5jdGlvbiBnb29kc0xpc3QoKSB7CiAgICAgIHJldHVybiB0aGlzLiRzdG9yZS5zdGF0ZS5nb29kcy5nb29kc0xpc3QucmVzdWx0OwogICAgfSwKICAgIC8v6I+c5ZOB5pWw5o2uCiAgICBmb29kTGlzdDogZnVuY3Rpb24gZm9vZExpc3QoKSB7CiAgICAgIHJldHVybiB0aGlzLiRzdG9yZS5zdGF0ZS5mb29kLmZvb2RMaXN0LnJlc3VsdDsKICAgIH0KICB9LAogIG1ldGhvZHM6IHsKICAgIGdldFNlbGVjdGVkRm9vZExpc3Q6IGZ1bmN0aW9uIGdldFNlbGVjdGVkRm9vZExpc3QodmFsKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICB0aGlzLmZvb2RUeXBlSW5kZXggPSB2YWwuZm9vZFR5cGVJbmRleDsKICAgICAgdGhpcy5mb29kRGF0ZUluZGV4ID0gdmFsLmZvb2REYXRlSW5kZXg7CiAgICAgIHRoaXMuZm9vZExpc3RJbmRleCA9IHZhbC5mb29kTGlzdEluZGV4OwogICAgICB2YXIgbWVudUdvb2RzRm9vZHNJdGVtcyA9IFtdOwogICAgICB2YXIgZm9vZE5hbWVzID0gW107CiAgICAgIHZhciB0aGF0ID0gdGhpczsKICAgICAgdGhpcy5mb29kTGlzdEluZGV4LmZvckVhY2goZnVuY3Rpb24gKGZvb2RJdGVtLCBmb29kSW5kZXgpIHsKICAgICAgICB2YXIgZm9vZExpc3RJdGVtID0gXy5maWx0ZXIodGhhdC5mb29kTGlzdCwgZnVuY3Rpb24gKGN1cikgewogICAgICAgICAgcmV0dXJuIGN1ci5mb29kX2lkID09PSBmb29kSXRlbTsKICAgICAgICB9KTsKCiAgICAgICAgaWYgKGZvb2RMaXN0SXRlbSAhPSB1bmRlZmluZWQpIHsKICAgICAgICAgIHZhciBtZW51R29vZHNGb29kc0l0ZW1WYWx1ZSA9IHsKICAgICAgICAgICAgZm9vZF9pZDogZm9vZExpc3RJdGVtWzBdLmZvb2RfaWQgfHwgJycsCiAgICAgICAgICAgIGZvb2RfbmFtZTogZm9vZExpc3RJdGVtWzBdLmZvb2RfbmFtZSB8fCAnJywKICAgICAgICAgICAgZGVzYzogZm9vZExpc3RJdGVtWzBdLmRlc2MgfHwgJycKICAgICAgICAgIH07CiAgICAgICAgICBmb29kTmFtZXMucHVzaChmb29kTGlzdEl0ZW1bMF0uZm9vZF9uYW1lKTsKICAgICAgICAgIG1lbnVHb29kc0Zvb2RzSXRlbXMucHVzaChtZW51R29vZHNGb29kc0l0ZW1WYWx1ZSk7CiAgICAgICAgfQogICAgICB9KTsKICAgICAgdmFyIGRhdGVJbmZvSXRlbSA9IHsKICAgICAgICBmb29kTGlzdDogbWVudUdvb2RzRm9vZHNJdGVtcywKICAgICAgICBkZXNjOiBmb29kTmFtZXMudG9TdHJpbmcoKQogICAgICB9OwogICAgICB0aGlzLnRhYmxlRGF0YVt0aGlzLmZvb2RUeXBlSW5kZXhdLmRhdGVfaW5mb1t0aGlzLnRhYmxlX3Nsb3RfbGlzdFt0aGlzLmZvb2REYXRlSW5kZXhdXSA9IGRhdGVJbmZvSXRlbTsgLy8gdGhpcy4kZm9yY2VVcGRhdGUoKTsKICAgICAgLy8g56e76Zmk57uE5Lu2CgogICAgICB0aGlzLnVwZGF0ZSA9IGZhbHNlOyAvLyDlnKjnu4Tku7bnp7vpmaTlkI7vvIzph43mlrDmuLLmn5Pnu4Tku7YKICAgICAgLy8gdGhpcy4kbmV4dFRpY2vlj6/lrp7njrDlnKhET00g54q25oCB5pu05paw5ZCO77yM5omn6KGM5Lyg5YWl55qE5pa55rOV44CCCgogICAgICB0aGlzLiRuZXh0VGljayhmdW5jdGlvbiAoKSB7CiAgICAgICAgX3RoaXMudXBkYXRlID0gdHJ1ZTsKICAgICAgfSk7CiAgICB9LAogICAgY29uZmlnRm9vZDogZnVuY3Rpb24gY29uZmlnRm9vZChmb29kVHlwZUluZGV4LCBmb29kRGF0ZUluZGV4KSB7CiAgICAgIHRoaXMuZm9vZFR5cGVJbmRleCA9IGZvb2RUeXBlSW5kZXg7CiAgICAgIHRoaXMuZm9vZERhdGVJbmRleCA9IGZvb2REYXRlSW5kZXg7CiAgICAgIHRoaXMuZm9vZExpc3REYXRhT2xkID0gW107CiAgICAgIHZhciB0aGF0ID0gdGhpczsKICAgICAgdmFyIGZvb2REYXRlSXRlbSA9IHRoaXMudGFibGVEYXRhW2Zvb2RUeXBlSW5kZXhdLmRhdGVfaW5mb1t0aGlzLnRhYmxlX3Nsb3RfbGlzdFtmb29kRGF0ZUluZGV4XV07CgogICAgICBpZiAoZm9vZERhdGVJdGVtICE9ICd7fScgJiYgZm9vZERhdGVJdGVtICE9IHVuZGVmaW5lZCkgewogICAgICAgIGlmIChmb29kRGF0ZUl0ZW0uZm9vZExpc3QgIT0gdW5kZWZpbmVkKSB7CiAgICAgICAgICB2YXIgZm9vZExpc3QgPSBmb29kRGF0ZUl0ZW0uZm9vZExpc3Q7CiAgICAgICAgICBmb29kTGlzdC5mb3JFYWNoKGZ1bmN0aW9uIChmb29kSXRlbSwgZm9vZEluZGV4KSB7CiAgICAgICAgICAgIHRoYXQuZm9vZExpc3REYXRhT2xkLnB1c2goZm9vZEl0ZW0uZm9vZF9pZCk7CiAgICAgICAgICB9KTsKICAgICAgICB9CiAgICAgIH0KCiAgICAgIHRoaXMuJHN0b3JlLmNvbW1pdCgnc2V0U2VsZWN0Rm9vZE1vZGFsJywgdHJ1ZSk7CiAgICB9LAogICAgLy/ojrflj5boj5zljZXkv6Hmga/liJfooagKICAgIGdldE1lbnVEYXRhOiBmdW5jdGlvbiAoKSB7CiAgICAgIHZhciBfZ2V0TWVudURhdGEgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoKSB7CiAgICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgICAgIHZhciBwYXJhbXMsIHRoYXQsIHRhYmxlRGF0YU5ldywgX2l0ZXJhdG9yLCBfc3RlcCwgdGFibGVEYXRhSXRlbSwgX2l0ZXJhdG9yMiwgX3N0ZXAyLCBmb29kRGF0ZSwgZGF5czsKCiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgcGFyYW1zID0gewogICAgICAgICAgICAgICAgICBtZXJjaGFudF9pZDogdGhpcy4kc3RvcmUuc3RhdGUudXNlci5jdXJNZXJjaGFudElkLAogICAgICAgICAgICAgICAgICAvLyBzdGFydF9kYXRlOiAnMjAyMS0xMi0wNicsCiAgICAgICAgICAgICAgICAgIHN0YXJ0X2RhdGU6IHRoaXMuc3RhcnRfZGF0ZSwKICAgICAgICAgICAgICAgICAgZW5kX2RhdGU6ICcnLAogICAgICAgICAgICAgICAgICBwYWdlX3NpemU6IDEwMDAwCiAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgICAgdGhhdCA9IHRoaXM7CiAgICAgICAgICAgICAgICB0YWJsZURhdGFOZXcgPSBbXTsKICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSA1OwogICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuJHN0b3JlLmRpc3BhdGNoKCdtZW51TGlzdCcsIHBhcmFtcykudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgICAgICAgICAgIHZhciBtZW51UmVzdWx0ID0gcmVzLmRhdGEucmVzdWx0OwoKICAgICAgICAgICAgICAgICAgaWYgKCFfLmlzRW1wdHkobWVudVJlc3VsdCkpIHsKICAgICAgICAgICAgICAgICAgICBfdGhpczIuZ29vZHNMaXN0LmZvckVhY2goZnVuY3Rpb24gKGdvb2RzSXRlbSwgZ29vZHNJbmRleCkgewogICAgICAgICAgICAgICAgICAgICAgdmFyIGluZm8gPSBnb29kc0l0ZW07CiAgICAgICAgICAgICAgICAgICAgICB2YXIgZGF0ZUluZm8gPSB7fTsKICAgICAgICAgICAgICAgICAgICAgIGluZm8uZGF0ZV9pbmZvID0ge307CiAgICAgICAgICAgICAgICAgICAgICBtZW51UmVzdWx0LmZvckVhY2goZnVuY3Rpb24gKG1lbnVJdGVtLCBtZW51SW5kZXgpIHsKICAgICAgICAgICAgICAgICAgICAgICAgdGhhdC5lbmRfZGF0ZSA9IG1lbnVJdGVtLmRhdGUgPiB0aGF0LmVuZF9kYXRlID8gbWVudUl0ZW0uZGF0ZSA6IHRoYXQuZW5kX2RhdGU7CiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBtZW51R29vZHMgPSBtZW51SXRlbS5nb29kczsKICAgICAgICAgICAgICAgICAgICAgICAgbWVudUdvb2RzLmZvckVhY2goZnVuY3Rpb24gKG1lbnVHb29kc0l0ZW0sIG1lbnVHb29kc0luZGV4KSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGdvb2RzSXRlbS5nb29kc19pZCA9PSBtZW51R29vZHNJdGVtLmdvb2RzX2lkKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgbWVudUdvb2RzRm9vZHMgPSBtZW51R29vZHNJdGVtLmZvb2RzOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG1lbnVHb29kc0Zvb2RzSXRlbXMgPSBbXTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBmb29kTmFtZXMgPSBbXTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lbnVHb29kc0Zvb2RzLmZvckVhY2goZnVuY3Rpb24gKG1lbnVHb29kc0Zvb2RzSXRlbSwgbWVudUdvb2RzRm9vZHNJbmRleCkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgbWVudUdvb2RzRm9vZHNJdGVtVmFsdWUgPSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9vZF9pZDogbWVudUdvb2RzRm9vZHNJdGVtLmZvb2RfaWQgfHwgJycsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9vZF9uYW1lOiBtZW51R29vZHNGb29kc0l0ZW0uZm9vZF9uYW1lIHx8ICcnLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlc2M6IG1lbnVHb29kc0Zvb2RzSXRlbS5kZXNjIHx8ICcnCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvb2ROYW1lcy5wdXNoKG1lbnVHb29kc0Zvb2RzSXRlbS5mb29kX25hbWUpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZW51R29vZHNGb29kc0l0ZW1zLnB1c2gobWVudUdvb2RzRm9vZHNJdGVtVmFsdWUpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgZGF0ZUluZm9JdGVtID0gewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb29kTGlzdDogbWVudUdvb2RzRm9vZHNJdGVtcywKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVzYzogZm9vZE5hbWVzLnRvU3RyaW5nKCkKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbmZvLmRhdGVfaW5mb1ttZW51SXRlbS5kYXRlXSA9IGRhdGVJbmZvSXRlbTsKICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgICAgICB0YWJsZURhdGFOZXcucHVzaChpbmZvKTsKICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICBfdGhpczIuZ29vZHNMaXN0LmZvckVhY2goZnVuY3Rpb24gKGdvb2RzSXRlbSwgZ29vZHNJbmRleCkgewogICAgICAgICAgICAgICAgICAgICAgdmFyIGluZm8gPSBnb29kc0l0ZW07CiAgICAgICAgICAgICAgICAgICAgICB2YXIgZGF0ZUluZm8gPSB7fTsKICAgICAgICAgICAgICAgICAgICAgIGluZm8uZGF0ZV9pbmZvID0ge307CiAgICAgICAgICAgICAgICAgICAgICB0YWJsZURhdGFOZXcucHVzaChpbmZvKTsKICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIGNhc2UgNToKICAgICAgICAgICAgICAgIGlmICh0aGlzLnRhYmxlX3Nsb3RfbGlzdC5sZW5ndGggPiAwKSB7CiAgICAgICAgICAgICAgICAgIF9pdGVyYXRvciA9IF9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyKHRhYmxlRGF0YU5ldyk7CgogICAgICAgICAgICAgICAgICB0cnkgewogICAgICAgICAgICAgICAgICAgIGZvciAoX2l0ZXJhdG9yLnMoKTsgIShfc3RlcCA9IF9pdGVyYXRvci5uKCkpLmRvbmU7KSB7CiAgICAgICAgICAgICAgICAgICAgICB0YWJsZURhdGFJdGVtID0gX3N0ZXAudmFsdWU7CiAgICAgICAgICAgICAgICAgICAgICBfaXRlcmF0b3IyID0gX2NyZWF0ZUZvck9mSXRlcmF0b3JIZWxwZXIodGhpcy50YWJsZV9zbG90X2xpc3QpOwoKICAgICAgICAgICAgICAgICAgICAgIHRyeSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAoX2l0ZXJhdG9yMi5zKCk7ICEoX3N0ZXAyID0gX2l0ZXJhdG9yMi5uKCkpLmRvbmU7KSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgZm9vZERhdGUgPSBfc3RlcDIudmFsdWU7CiAgICAgICAgICAgICAgICAgICAgICAgICAgdGFibGVEYXRhSXRlbS5kYXRlX2luZm9bZm9vZERhdGVdID0gdGFibGVEYXRhSXRlbS5kYXRlX2luZm9bZm9vZERhdGVdID8gdGFibGVEYXRhSXRlbS5kYXRlX2luZm9bZm9vZERhdGVdIDoge307CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGVycikgewogICAgICAgICAgICAgICAgICAgICAgICBfaXRlcmF0b3IyLmUoZXJyKTsKICAgICAgICAgICAgICAgICAgICAgIH0gZmluYWxseSB7CiAgICAgICAgICAgICAgICAgICAgICAgIF9pdGVyYXRvcjIuZigpOwogICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgfSBjYXRjaCAoZXJyKSB7CiAgICAgICAgICAgICAgICAgICAgX2l0ZXJhdG9yLmUoZXJyKTsKICAgICAgICAgICAgICAgICAgfSBmaW5hbGx5IHsKICAgICAgICAgICAgICAgICAgICBfaXRlcmF0b3IuZigpOwogICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgaWYgKHRhYmxlRGF0YU5ldy5sZW5ndGggPiAwKSB7CiAgICAgICAgICAgICAgICAgIHRoaXMudGFibGVEYXRhID0gdGFibGVEYXRhTmV3OwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIGRheXMgPSBtb21lbnQodGhpcy5lbmRfZGF0ZSkuZGlmZihtb21lbnQodGhpcy5zdGFydF9kYXRlKSwgJ2RheXMnKTsKICAgICAgICAgICAgICAgIHRoaXMud2Vla3MgPSBNYXRoLmZsb29yKGRheXMgLyA3KTsKCiAgICAgICAgICAgICAgY2FzZSA5OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZSwgdGhpcyk7CiAgICAgIH0pKTsKCiAgICAgIGZ1bmN0aW9uIGdldE1lbnVEYXRhKCkgewogICAgICAgIHJldHVybiBfZ2V0TWVudURhdGEuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgICAgfQoKICAgICAgcmV0dXJuIGdldE1lbnVEYXRhOwogICAgfSgpLAogICAgLy/ojrflj5boj5zlk4HliJfooagKICAgIGdldEZvb2REYXRhOiBmdW5jdGlvbiAoKSB7CiAgICAgIHZhciBfZ2V0Rm9vZERhdGEgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUyKCkgewogICAgICAgIHZhciBwYXJhbXM7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUyJChfY29udGV4dDIpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQyLnByZXYgPSBfY29udGV4dDIubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIHBhcmFtcyA9IHsKICAgICAgICAgICAgICAgICAgbWVyY2hhbnRfaWQ6IHRoaXMuJHN0b3JlLnN0YXRlLnVzZXIuY3VyTWVyY2hhbnRJZCwKICAgICAgICAgICAgICAgICAgaXNfZW5hYmxlOiAxLAogICAgICAgICAgICAgICAgICBwYWdlX3NpemU6IDEwMDAwIC8vIHRpbWVfdHlwZTogdmFsLAoKICAgICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDM7CiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy4kc3RvcmUuZGlzcGF0Y2goJ2Zvb2RMaXN0JywgcGFyYW1zKTsKCiAgICAgICAgICAgICAgY2FzZSAzOgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyLnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUyLCB0aGlzKTsKICAgICAgfSkpOwoKICAgICAgZnVuY3Rpb24gZ2V0Rm9vZERhdGEoKSB7CiAgICAgICAgcmV0dXJuIF9nZXRGb29kRGF0YS5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgICB9CgogICAgICByZXR1cm4gZ2V0Rm9vZERhdGE7CiAgICB9KCksCiAgICAvL+iOt+WPlumkkOenjeWIl+ihqAogICAgZ2V0R29vZHNEYXRhOiBmdW5jdGlvbiAoKSB7CiAgICAgIHZhciBfZ2V0R29vZHNEYXRhID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMygpIHsKICAgICAgICB2YXIgcGFyYW1zOwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMyQoX2NvbnRleHQzKSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0My5wcmV2ID0gX2NvbnRleHQzLm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBwYXJhbXMgPSB7CiAgICAgICAgICAgICAgICAgIG1lcmNoYW50X2lkOiB0aGlzLiRzdG9yZS5zdGF0ZS51c2VyLmN1ck1lcmNoYW50SWQsCiAgICAgICAgICAgICAgICAgIGlzX2VuYWJsZTogMSwKICAgICAgICAgICAgICAgICAgcGFnZV9zaXplOiAxMDAwMCAvLyB0aW1lX3R5cGU6IHZhbCwKCiAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgICAgX2NvbnRleHQzLm5leHQgPSAzOwogICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuJHN0b3JlLmRpc3BhdGNoKCdnb29kc0xpc3QnLCBwYXJhbXMpOwoKICAgICAgICAgICAgICBjYXNlIDM6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDMuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTMsIHRoaXMpOwogICAgICB9KSk7CgogICAgICBmdW5jdGlvbiBnZXRHb29kc0RhdGEoKSB7CiAgICAgICAgcmV0dXJuIF9nZXRHb29kc0RhdGEuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgICAgfQoKICAgICAgcmV0dXJuIGdldEdvb2RzRGF0YTsKICAgIH0oKSwKICAgIGluaXQ6IGZ1bmN0aW9uICgpIHsKICAgICAgdmFyIF9pbml0ID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlNCgpIHsKICAgICAgICB2YXIgbXlXZWVrLCB3ZWVrOwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlNCQoX2NvbnRleHQ0KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0NC5wcmV2ID0gX2NvbnRleHQ0Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBteVdlZWsgPSB0aGlzLm15RGF0ZS5nZXREYXkoKTsKICAgICAgICAgICAgICAgIHRoaXMuc3RhcnRfZGF0ZSA9IG1vbWVudCgpLnN1YnRyYWN0KG15V2VlaywgJ2RheXMnKS5mb3JtYXQoJ1lZWVktTU0tREQnKTsKICAgICAgICAgICAgICAgIHRoaXMuZW5kX2RhdGUgPSBtb21lbnQoKS5hZGQoNiAtIG15V2VlaywgJ2RheXMnKS5mb3JtYXQoJ1lZWVktTU0tREQnKTsKICAgICAgICAgICAgICAgIHRoaXMud2Vla19jb2x1bW5zID0gZGF0YUNvbmZpZy53ZWVrX2NvbHVtbnM7CiAgICAgICAgICAgICAgICB0aGlzLndlZWtfZGF0YSA9IGRhdGFDb25maWcud2Vla19kYXRhOwogICAgICAgICAgICAgICAgX2NvbnRleHQ0Lm5leHQgPSA3OwogICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuZ2V0Rm9vZERhdGEoKTsKCiAgICAgICAgICAgICAgY2FzZSA3OgogICAgICAgICAgICAgICAgX2NvbnRleHQ0Lm5leHQgPSA5OwogICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuZ2V0R29vZHNEYXRhKCk7CgogICAgICAgICAgICAgIGNhc2UgOToKICAgICAgICAgICAgICAgIF9jb250ZXh0NC5uZXh0ID0gMTE7CiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5nZXRNZW51RGF0YSgpOwoKICAgICAgICAgICAgICBjYXNlIDExOgogICAgICAgICAgICAgICAgdGhpcy5pbml0RGF0ZVRhYmxlKDApOwoKICAgICAgICAgICAgICAgIGZvciAod2VlayA9IDE7IHdlZWsgPD0gdGhpcy53ZWVrczsgd2VlaysrKSB7CiAgICAgICAgICAgICAgICAgIHRoaXMuYWRkUm93KHdlZWspOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICBjYXNlIDEzOgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ0LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWU0LCB0aGlzKTsKICAgICAgfSkpOwoKICAgICAgZnVuY3Rpb24gaW5pdCgpIHsKICAgICAgICByZXR1cm4gX2luaXQuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgICAgfQoKICAgICAgcmV0dXJuIGluaXQ7CiAgICB9KCksCiAgICAvLyDliJ3lp4vljJboj5zljZXml6XljoYKICAgIGluaXREYXRlVGFibGU6IGZ1bmN0aW9uIGluaXREYXRlVGFibGUoaW5kZXgpIHsKICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPD0gNjsgaSsrKSB7CiAgICAgICAgdmFyIHRtcCA9IHsKICAgICAgICAgIHNsb3Q6IG1vbWVudCh0aGlzLnN0YXJ0X2RhdGUpLmFkZChpICsgaW5kZXggKiA3LCAnZGF5cycpLmZvcm1hdCgnWVlZWS1NTS1ERCcpLAogICAgICAgICAgdGl0bGU6IG1vbWVudCh0aGlzLnN0YXJ0X2RhdGUpLmFkZChpICsgaW5kZXggKiA3LCAnZGF5cycpLmZvcm1hdCgnWVlZWS1NTS1ERCcpLAogICAgICAgICAgYWxpZ246ICdjZW50ZXInCiAgICAgICAgfTsKICAgICAgICB0aGlzLnRhYmxlX2xpc3RbaW5kZXhdLmRhdGVfY29sdW1ucy5wdXNoKHRtcCk7CiAgICAgICAgdGhpcy50YWJsZV9zbG90X2xpc3QucHVzaCh0bXAuc2xvdCk7CiAgICAgIH0KCiAgICAgIDsKICAgICAgdGhpcy5teURhdGVJbmRleCA9IF8uaW5kZXhPZih0aGlzLnRhYmxlX3Nsb3RfbGlzdCwgbW9tZW50KCkuZm9ybWF0KCdZWVlZLU1NLUREJykpOwogICAgICB2YXIgZGVsID0gewogICAgICAgIHRpdGxlOiAn5riF6ZmkJywKICAgICAgICBhbGlnbjogJ2NlbnRlcicsCiAgICAgICAgc2xvdDogJ2RlbCcsCiAgICAgICAgd2lkdGg6ICc2MCcKICAgICAgfTsKICAgICAgdGhpcy50YWJsZV9saXN0W2luZGV4XS5kYXRlX2NvbHVtbnMucHVzaChkZWwpOwogICAgICB2YXIgbmV3X3RhYmxlX3Nsb3RfbGlzdCA9IHRoaXMudGFibGVfc2xvdF9saXN0LnNsaWNlKGluZGV4ICogNyk7CgogICAgICB2YXIgX2l0ZXJhdG9yMyA9IF9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyKHRoaXMudGFibGVEYXRhKSwKICAgICAgICAgIF9zdGVwMzsKCiAgICAgIHRyeSB7CiAgICAgICAgZm9yIChfaXRlcmF0b3IzLnMoKTsgIShfc3RlcDMgPSBfaXRlcmF0b3IzLm4oKSkuZG9uZTspIHsKICAgICAgICAgIHZhciBpdGVtID0gX3N0ZXAzLnZhbHVlOwoKICAgICAgICAgIHZhciBfaXRlcmF0b3I0ID0gX2NyZWF0ZUZvck9mSXRlcmF0b3JIZWxwZXIobmV3X3RhYmxlX3Nsb3RfbGlzdCksCiAgICAgICAgICAgICAgX3N0ZXA0OwoKICAgICAgICAgIHRyeSB7CiAgICAgICAgICAgIGZvciAoX2l0ZXJhdG9yNC5zKCk7ICEoX3N0ZXA0ID0gX2l0ZXJhdG9yNC5uKCkpLmRvbmU7KSB7CiAgICAgICAgICAgICAgdmFyIGVsZSA9IF9zdGVwNC52YWx1ZTsKICAgICAgICAgICAgICBpdGVtLmRhdGVfaW5mb1tlbGVdID0gaXRlbS5kYXRlX2luZm9bZWxlXSA/IGl0ZW0uZGF0ZV9pbmZvW2VsZV0gOiB7fTsKICAgICAgICAgICAgfQogICAgICAgICAgfSBjYXRjaCAoZXJyKSB7CiAgICAgICAgICAgIF9pdGVyYXRvcjQuZShlcnIpOwogICAgICAgICAgfSBmaW5hbGx5IHsKICAgICAgICAgICAgX2l0ZXJhdG9yNC5mKCk7CiAgICAgICAgICB9CgogICAgICAgICAgOwogICAgICAgIH0KICAgICAgfSBjYXRjaCAoZXJyKSB7CiAgICAgICAgX2l0ZXJhdG9yMy5lKGVycik7CiAgICAgIH0gZmluYWxseSB7CiAgICAgICAgX2l0ZXJhdG9yMy5mKCk7CiAgICAgIH0KCiAgICAgIDsKICAgIH0sCiAgICAvLyDpgInmi6noj5zlk4EKICAgIHNlbGVjdGVkRm9vZDogZnVuY3Rpb24gc2VsZWN0ZWRGb29kKGV2ZW50LCBpbmRleCwgaSkgewogICAgICB2YXIgX3RoaXMzID0gdGhpczsKCiAgICAgIGlmIChldmVudCkgewogICAgICAgIHZhciByZXN1bHQgPSBfLmZpbmQodGhpcy5mb29kTGlzdCwgZnVuY3Rpb24gKGN1cikgewogICAgICAgICAgcmV0dXJuIGN1ci5mb29kX2lkID09IF90aGlzMy50YWJsZURhdGFbaW5kZXhdLmRhdGVfaW5mb1tfdGhpczMudGFibGVfc2xvdF9saXN0W2ldXS5mb29kaWQ7CiAgICAgICAgfSk7CgogICAgICAgIHZhciBmb29kSW5mbyA9IHsKICAgICAgICAgIGZvb2RfaWQ6IHJlc3VsdC5mb29kX2lkLAogICAgICAgICAgZm9vZF9uYW1lOiByZXN1bHQuZm9vZF9uYW1lLAogICAgICAgICAgZGVzYzogcmVzdWx0LmRlc2MgPyByZXN1bHQuZGVzYy5yZXBsYWNlKC88W14+XSs+L2csICIiKS5yZXBsYWNlKCImbmJzcDsiLCAiICIpIDogJ+elneaCqOeUqOmkkOaEieW/qycKICAgICAgICB9OwoKICAgICAgICBpZiAodGhpcy50YWJsZURhdGFbaW5kZXhdLmRhdGVfaW5mb1t0aGlzLnRhYmxlX3Nsb3RfbGlzdFtpXV0uZm9vZExpc3QgPT0gdW5kZWZpbmVkKSB7CiAgICAgICAgICB0aGlzLnRhYmxlRGF0YVtpbmRleF0uZGF0ZV9pbmZvW3RoaXMudGFibGVfc2xvdF9saXN0W2ldXS5mb29kTGlzdCA9IFtdOwogICAgICAgIH0KCiAgICAgICAgdGhpcy50YWJsZURhdGFbaW5kZXhdLmRhdGVfaW5mb1t0aGlzLnRhYmxlX3Nsb3RfbGlzdFtpXV0uZm9vZExpc3QucHVzaChmb29kSW5mbyk7CiAgICAgICAgdGhpcy50YWJsZURhdGFbaW5kZXhdLmRhdGVfaW5mb1t0aGlzLnRhYmxlX3Nsb3RfbGlzdFtpXV0uZGVzYyA9IHRoaXMudGFibGVEYXRhW2luZGV4XS5kYXRlX2luZm9bdGhpcy50YWJsZV9zbG90X2xpc3RbaV1dLmRlc2MgPyB0aGlzLnRhYmxlRGF0YVtpbmRleF0uZGF0ZV9pbmZvW3RoaXMudGFibGVfc2xvdF9saXN0W2ldXS5kZXNjIDogJycgKyAnLCcgKyBmb29kSW5mby5mb29kX25hbWU7CiAgICAgIH0KCiAgICAgIDsKICAgIH0sCiAgICAvLyDmt7vliqDkuIvlkajoj5zljZUKICAgIGFkZFJvdzogZnVuY3Rpb24gYWRkUm93KHdlZWspIHsKICAgICAgdmFyIGN1ciA9IFt7CiAgICAgICAgdGl0bGU6ICfml6XmnJ8nLAogICAgICAgIGFsaWduOiAnY2VudGVyJywKICAgICAgICBrZXk6ICdnb29kc19uYW1lJywKICAgICAgICB3aWR0aDogJzgwJywKICAgICAgICBjbGFzc05hbWU6ICdmaXJzdC1jb2x1bW4nLAogICAgICAgIHJlbmRlckhlYWRlcjogZnVuY3Rpb24gcmVuZGVySGVhZGVyKGgsIHBhcmFtcykgewogICAgICAgICAgcmV0dXJuIGgoJ2RpdicsIHsKICAgICAgICAgICAgc3R5bGU6IHsKICAgICAgICAgICAgICBjdXJzb3I6ICdwb2ludGVyJwogICAgICAgICAgICB9LAogICAgICAgICAgICBvbjogewogICAgICAgICAgICAgIGNsaWNrOiBmdW5jdGlvbiBjbGljaygpIHsKICAgICAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKHdlZWspOwogICAgICAgICAgICAgICAgdmFyIHRhYmxlcyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd0YWJsZXMnKTsKICAgICAgICAgICAgICAgIHZhciBjdXJfdGFibGUgPSB0YWJsZXMuY2hpbGRyZW5bd2Vla107CiAgICAgICAgICAgICAgICB2YXIgY3VyX3RhYmxlX2JvZHkgPSBjdXJfdGFibGUuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgnaXZ1LXRhYmxlLWJvZHknKVswXTsKICAgICAgICAgICAgICAgIHZhciBjdXJfaWNvbiA9IGN1cl90YWJsZS5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCdpdnUtaWNvbi1tZC1hcnJvdy1kcm9wZG93bicpWzBdOwogICAgICAgICAgICAgICAgdmFyIGN1cl9ib2R5X2hlaWdodCA9IGN1cl90YWJsZV9ib2R5Lm9mZnNldEhlaWdodDsKICAgICAgICAgICAgICAgIHZhciBkZWcgPSAnJzsKCiAgICAgICAgICAgICAgICBpZiAoY3VyX2JvZHlfaGVpZ2h0ID09IDApIHsKICAgICAgICAgICAgICAgICAgZGVnID0gJzBkZWcnOwogICAgICAgICAgICAgICAgICBjdXJfdGFibGVfYm9keS5zdHlsZS5oZWlnaHQgPSAnYXV0byc7CiAgICAgICAgICAgICAgICAgIGN1cl9pY29uLnN0eWxlLnRyYW5zZm9ybSA9ICJyb3RhdGUoIiArIGRlZyArICIpIjsKICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgIGRlZyA9ICctOTBkZWcnOwogICAgICAgICAgICAgICAgICBjdXJfdGFibGVfYm9keS5zdHlsZS5oZWlnaHQgPSAnMCc7CiAgICAgICAgICAgICAgICAgIGN1cl9pY29uLnN0eWxlLnRyYW5zZm9ybSA9ICJyb3RhdGUoIiArIGRlZyArICIpIjsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgIH0sIFtoKCdJY29uJywgewogICAgICAgICAgICBwcm9wczogewogICAgICAgICAgICAgIHR5cGU6ICdtZC1hcnJvdy1kcm9wZG93bicKICAgICAgICAgICAgfSwKICAgICAgICAgICAgc3R5bGU6IHsKICAgICAgICAgICAgICBtYXJnaW5SaWdodDogJzVweCcsCiAgICAgICAgICAgICAgZm9udFNpemU6ICcyMHB4JywKICAgICAgICAgICAgICB2ZXJ0aWNhbEFsaWduOiAnYm90dG9tJywKICAgICAgICAgICAgICB0cmFuc2l0aW9uOiAnYWxsIDMwMG1zJwogICAgICAgICAgICB9CiAgICAgICAgICB9KSwgaCgnc3BhbicsIHt9LCAn5pel5pyfJyldKTsKICAgICAgICB9CiAgICAgIH1dOwogICAgICB0aGlzLnRhYmxlX2xpc3QucHVzaCh7CiAgICAgICAgZGF0ZV9jb2x1bW5zOiBjdXIKICAgICAgfSk7CiAgICAgIHRoaXMuaW5pdERhdGVUYWJsZSh0aGlzLnRhYmxlX2xpc3QubGVuZ3RoIC0gMSk7CiAgICB9LAogICAgLy/ngrnlh7vmuIXpmaQKICAgIGRlbFJvdzogZnVuY3Rpb24gZGVsUm93KGluZGV4LCBpKSB7CiAgICAgIHZhciBvYmogPSB0aGlzLnRhYmxlRGF0YVtpbmRleF0uZGF0ZV9pbmZvOwoKICAgICAgZm9yICh2YXIgbnVtID0gMDsgbnVtIDwgNzsgbnVtKyspIHsKICAgICAgICBpZiAoaSAqIDcgKyBudW0gPj0gdGhpcy5teURhdGVJbmRleCkgewogICAgICAgICAgLy8gb2JqW3RoaXMudGFibGVfc2xvdF9saXN0W2kqNytudW1dXSA9IHt9OwogICAgICAgICAgb2JqW3RoaXMudGFibGVfc2xvdF9saXN0W2kgKiA3ICsgbnVtXV0uZm9vZExpc3QgPSBbXTsKICAgICAgICAgIG9ialt0aGlzLnRhYmxlX3Nsb3RfbGlzdFtpICogNyArIG51bV1dLmRlc2MgPSAnJzsKICAgICAgICB9CiAgICAgIH0KICAgIH0sCiAgICBoYW5kbGVDb21taXQ6IGZ1bmN0aW9uIGhhbmRsZUNvbW1pdCgpIHsKICAgICAgdmFyIF90aGlzNCA9IHRoaXM7CgogICAgICB2YXIgcGFyYW1zID0gW107CgogICAgICB2YXIgX2l0ZXJhdG9yNSA9IF9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyKHRoaXMudGFibGVEYXRhKSwKICAgICAgICAgIF9zdGVwNTsKCiAgICAgIHRyeSB7CiAgICAgICAgZm9yIChfaXRlcmF0b3I1LnMoKTsgIShfc3RlcDUgPSBfaXRlcmF0b3I1Lm4oKSkuZG9uZTspIHsKICAgICAgICAgIHZhciBpdGVtID0gX3N0ZXA1LnZhbHVlOwoKICAgICAgICAgIGZvciAodmFyIGtleSBpbiBpdGVtLmRhdGVfaW5mbykgewogICAgICAgICAgICBpZiAoSlNPTi5zdHJpbmdpZnkoaXRlbS5kYXRlX2luZm9ba2V5XSkgPT0gInt9IikgewogICAgICAgICAgICAgIGNvbnRpbnVlOwogICAgICAgICAgICB9CgogICAgICAgICAgICB2YXIgX2l0ZXJhdG9yNiA9IF9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyKGl0ZW0uZGF0ZV9pbmZvW2tleV0uZm9vZExpc3QpLAogICAgICAgICAgICAgICAgX3N0ZXA2OwoKICAgICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgICBmb3IgKF9pdGVyYXRvcjYucygpOyAhKF9zdGVwNiA9IF9pdGVyYXRvcjYubigpKS5kb25lOykgewogICAgICAgICAgICAgICAgdmFyIGZvb2RMaXN0SXRlbSA9IF9zdGVwNi52YWx1ZTsKICAgICAgICAgICAgICAgIHZhciB0bXAgPSB7fTsKICAgICAgICAgICAgICAgIHRtcC5tZXJjaGFudF9pZCA9IHRoaXMuJHN0b3JlLnN0YXRlLnVzZXIuY3VyTWVyY2hhbnRJZDsKICAgICAgICAgICAgICAgIHRtcC5nb29kc19pZCA9IGl0ZW0uZ29vZHNfaWQ7CiAgICAgICAgICAgICAgICB0bXAuZGF0ZSA9IGtleTsKICAgICAgICAgICAgICAgIHRtcC5mb29kX2lkID0gZm9vZExpc3RJdGVtLmZvb2RfaWQ7CiAgICAgICAgICAgICAgICBwYXJhbXMucHVzaCh0bXApOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSBjYXRjaCAoZXJyKSB7CiAgICAgICAgICAgICAgX2l0ZXJhdG9yNi5lKGVycik7CiAgICAgICAgICAgIH0gZmluYWxseSB7CiAgICAgICAgICAgICAgX2l0ZXJhdG9yNi5mKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0gY2F0Y2ggKGVycikgewogICAgICAgIF9pdGVyYXRvcjUuZShlcnIpOwogICAgICB9IGZpbmFsbHkgewogICAgICAgIF9pdGVyYXRvcjUuZigpOwogICAgICB9CgogICAgICBwYXJhbXMgPSBfLmZpbHRlcihwYXJhbXMsIGZ1bmN0aW9uIChjdXIpIHsKICAgICAgICByZXR1cm4gY3VyLmZvb2RfaWQgIT0gJyc7CiAgICAgIH0pOwoKICAgICAgdmFyIEJhc2U2NCA9IHJlcXVpcmUoJ2pzLWJhc2U2NCcpLkJhc2U2NDsKCiAgICAgIHZhciBnb29kc19kZXRhaWwgPSBCYXNlNjQuZW5jb2RlKEpTT04uc3RyaW5naWZ5KHBhcmFtcykpOwogICAgICB2YXIgZGV0YWlsID0gewogICAgICAgIGdvb2RzX2RldGFpbDogZ29vZHNfZGV0YWlsCiAgICAgIH07IC8vIHRoaXMuJHN0b3JlLmRpc3BhdGNoKCdnb29kc0RhdGVFZGl0TmV3JywgZGV0YWlsKS50aGVuKHJlcz0+ewoKICAgICAgdGhpcy4kc3RvcmUuZGlzcGF0Y2goJ21lbnVFZGl0JywgZGV0YWlsKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICBpZiAocmVzLnJldHVybl9jb2RlID09IDApIHsKICAgICAgICAgIF90aGlzNC4kTWVzc2FnZS5zdWNjZXNzKCfmj5DkuqTmiJDlip/vvIEnKTsKCiAgICAgICAgICBfdGhpczQuZ2V0TWVudURhdGEoKTsKICAgICAgICB9CiAgICAgIH0pOwogICAgfSwKICAgIGhhbmRsZUNvbW1pdE1lbnU6IGZ1bmN0aW9uIGhhbmRsZUNvbW1pdE1lbnUoKSB7CiAgICAgIHZhciBfdGhpczUgPSB0aGlzOwoKICAgICAgdmFyIHBhcmFtcyA9IFtdOwoKICAgICAgdmFyIF9pdGVyYXRvcjcgPSBfY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlcih0aGlzLnRhYmxlRGF0YSksCiAgICAgICAgICBfc3RlcDc7CgogICAgICB0cnkgewogICAgICAgIGZvciAoX2l0ZXJhdG9yNy5zKCk7ICEoX3N0ZXA3ID0gX2l0ZXJhdG9yNy5uKCkpLmRvbmU7KSB7CiAgICAgICAgICB2YXIgaXRlbSA9IF9zdGVwNy52YWx1ZTsKCiAgICAgICAgICBmb3IgKHZhciBrZXkgaW4gaXRlbS5kYXRlX2luZm8pIHsKICAgICAgICAgICAgaWYgKEpTT04uc3RyaW5naWZ5KGl0ZW0uZGF0ZV9pbmZvW2tleV0pID09ICJ7fSIpIHsKICAgICAgICAgICAgICBjb250aW51ZTsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgdmFyIG1lbnVJbmZvSXRlbSA9IHsKICAgICAgICAgICAgICBtZXJjaGFudF9pZDogdGhpcy4kc3RvcmUuc3RhdGUudXNlci5jdXJNZXJjaGFudElkLAogICAgICAgICAgICAgIGdvb2RzX2lkOiBpdGVtLmdvb2RzX2lkLAogICAgICAgICAgICAgIGRhdGU6IGtleSwKICAgICAgICAgICAgICBmb29kczogW10KICAgICAgICAgICAgfTsKCiAgICAgICAgICAgIHZhciBfaXRlcmF0b3I4ID0gX2NyZWF0ZUZvck9mSXRlcmF0b3JIZWxwZXIoaXRlbS5kYXRlX2luZm9ba2V5XS5mb29kTGlzdCksCiAgICAgICAgICAgICAgICBfc3RlcDg7CgogICAgICAgICAgICB0cnkgewogICAgICAgICAgICAgIGZvciAoX2l0ZXJhdG9yOC5zKCk7ICEoX3N0ZXA4ID0gX2l0ZXJhdG9yOC5uKCkpLmRvbmU7KSB7CiAgICAgICAgICAgICAgICB2YXIgZm9vZExpc3RJdGVtID0gX3N0ZXA4LnZhbHVlOwogICAgICAgICAgICAgICAgbWVudUluZm9JdGVtLmZvb2RzLnB1c2goZm9vZExpc3RJdGVtLmZvb2RfaWQpOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSBjYXRjaCAoZXJyKSB7CiAgICAgICAgICAgICAgX2l0ZXJhdG9yOC5lKGVycik7CiAgICAgICAgICAgIH0gZmluYWxseSB7CiAgICAgICAgICAgICAgX2l0ZXJhdG9yOC5mKCk7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIHBhcmFtcy5wdXNoKG1lbnVJbmZvSXRlbSk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9IGNhdGNoIChlcnIpIHsKICAgICAgICBfaXRlcmF0b3I3LmUoZXJyKTsKICAgICAgfSBmaW5hbGx5IHsKICAgICAgICBfaXRlcmF0b3I3LmYoKTsKICAgICAgfQoKICAgICAgdmFyIEJhc2U2NCA9IHJlcXVpcmUoJ2pzLWJhc2U2NCcpLkJhc2U2NDsKCiAgICAgIHZhciBnb29kc19kZXRhaWwgPSBCYXNlNjQuZW5jb2RlKEpTT04uc3RyaW5naWZ5KHBhcmFtcykpOwogICAgICB2YXIgZGV0YWlsID0gewogICAgICAgIGdvb2RzX2RldGFpbDogZ29vZHNfZGV0YWlsCiAgICAgIH07CiAgICAgIHRoaXMuJHN0b3JlLmRpc3BhdGNoKCdtZW51RWRpdFYyJywgZGV0YWlsKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICBpZiAocmVzLnJldHVybl9jb2RlID09IDApIHsKICAgICAgICAgIF90aGlzNS4kTWVzc2FnZS5zdWNjZXNzKCfmj5DkuqTmiJDlip/vvIEnKTsKCiAgICAgICAgICBfdGhpczUuZ2V0TWVudURhdGEoKTsKICAgICAgICB9CiAgICAgIH0pOwogICAgfQogIH0sCiAgbW91bnRlZDogZnVuY3Rpb24gbW91bnRlZCgpIHsKICAgIHRoaXMuaW5pdCgpOwogIH0KfTs="},null]}