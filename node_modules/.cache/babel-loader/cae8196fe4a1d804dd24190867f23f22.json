{"remainingRequest":"/Users/zhang/canteen_manage/node_modules/babel-loader/lib/index.js!/Users/zhang/canteen_manage/src/libs/device.js","dependencies":[{"path":"/Users/zhang/canteen_manage/src/libs/device.js","mtime":1638355006756},{"path":"/Users/zhang/canteen_manage/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/zhang/canteen_manage/node_modules/babel-loader/lib/index.js","mtime":315532800000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF90eXBlb2YgZnJvbSAiL1VzZXJzL3poYW5nL2NhbnRlZW5fbWFuYWdlL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS90eXBlb2YiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5pbmRleC1vZi5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnJlZ2V4cC5leGVjLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLm1hdGNoLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZGF0ZS50by1zdHJpbmcuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcucmVwbGFjZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC50by1zdHJpbmcuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5yZWdleHAudG8tc3RyaW5nLmpzIjsKdmFyIGJyb3dzZXJUeXBlID0gewogIHd4OiAnd3gnLAogIGFsaTogJ2FsaScsCiAgcXE6ICdxcScsCiAgd2VpYm86ICd3YicsCiAgb3RoZXI6ICdvdGhlcicKfTsKdmFyIF9icm93c2VyID0gewogIHZlcnNpb25zOiBmdW5jdGlvbiB2ZXJzaW9ucygpIHsKICAgIHZhciB1ID0gbmF2aWdhdG9yLnVzZXJBZ2VudDsgLy8gbGV0IGFwcCA9IG5hdmlnYXRvci5hcHBWZXJzaW9uCgogICAgcmV0dXJuIHsKICAgICAgLy8g56e75Yqo57uI56uv5rWP6KeI5Zmo54mI5pys5L+h5oGvCiAgICAgIHRyaWRlbnQ6IHUuaW5kZXhPZignVHJpZGVudCcpID4gLTEsCiAgICAgIC8vIElF5YaF5qC4CiAgICAgIHByZXN0bzogdS5pbmRleE9mKCdQcmVzdG8nKSA+IC0xLAogICAgICAvLyBvcGVyYeWGheaguAogICAgICB3ZWJLaXQ6IHUuaW5kZXhPZignQXBwbGVXZWJLaXQnKSA+IC0xLAogICAgICAvLyDoi7nmnpzjgIHosLfmrYzlhoXmoLgKICAgICAgZ2Vja286IHUuaW5kZXhPZignR2Vja28nKSA+IC0xICYmIHUuaW5kZXhPZignS0hUTUwnKSA9PT0gLTEsCiAgICAgIC8vIOeBq+eLkOWGheaguAogICAgICBtb2JpbGU6ICEhdS5tYXRjaCgvQXBwbGVXZWJLaXQuKk1vYmlsZS4qLyksCiAgICAgIC8vIOaYr+WQpuS4uuenu+WKqOe7iOerrwogICAgICBpT1M6ICEhdS5tYXRjaCgvXChpW147XSs7KCBVOyk/IENQVS4rTWFjIE9TIFgvKSwKICAgICAgLy8gaW9z57uI56uvCiAgICAgIEFuZHJvaWQ6IHUuaW5kZXhPZignQW5kcm9pZCcpID4gLTEgfHwgdS5pbmRleE9mKCdMaW51eCcpID4gLTEsCiAgICAgIC8vIGFuZHJvaWTnu4jnq6/miJZ1Y+a1j+iniOWZqAogICAgICBpUGhvbmU6IHUuaW5kZXhPZignaVBob25lJykgPiAtMSwKICAgICAgLy8g5piv5ZCm5Li6aVBob25l5oiW6ICFUVFIROa1j+iniOWZqAogICAgICBpUGFkOiB1LmluZGV4T2YoJ2lQYWQnKSA+IC0xLAogICAgICAvLyDmmK/lkKZpUGFkCiAgICAgIHdlYkFwcDogdS5pbmRleE9mKCdTYWZhcmknKSA9PT0gLTEgLy8g5piv5ZCmd2Vi5bqU6K+l56iL5bqP77yM5rKh5pyJ5aS06YOo5LiO5bqV6YOoCgogICAgfTsKICB9LAogIGxhbmd1YWdlOiAobmF2aWdhdG9yLmJyb3dzZXJMYW5ndWFnZSB8fCBuYXZpZ2F0b3IubGFuZ3VhZ2UpLnRvTG93ZXJDYXNlKCkKfTsKCnZhciBVVUlEID0gZnVuY3Rpb24gVVVJRCgpIHsKICB2YXIgZCA9IG5ldyBEYXRlKCkuZ2V0VGltZSgpOwogIHZhciB1dWlkID0gJ3h4eHh4eHh4LXh4eHgtNHh4eC15eHh4LXh4eHh4eHh4eHh4eCcucmVwbGFjZSgvW3h5XS9nLCBmdW5jdGlvbiAoYykgewogICAgdmFyIHIgPSAoZCArIE1hdGgucmFuZG9tKCkgKiAxNikgJSAxNiB8IDA7CiAgICBkID0gTWF0aC5mbG9vcihkIC8gMTYpOwogICAgcmV0dXJuIChjID09PSAneCcgPyByIDogciAmIDB4NyB8IDB4OCkudG9TdHJpbmcoMTYpOwogIH0pOwogIHJldHVybiB1dWlkOwp9OwoKdmFyIGRldmljZSA9IHsKICBicm93c2VyVHlwZTogYnJvd3NlclR5cGUsCiAgZGV2aWNlSWQ6IGZ1bmN0aW9uIGRldmljZUlkKCkgewogICAgdmFyIGRldmljZUlkID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2RldmljZScpOyAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgdmFsaWQtdHlwZW9mCgogICAgaWYgKGRldmljZUlkID09PSBudWxsIHx8IF90eXBlb2YoZGV2aWNlSWQpID09PSB1bmRlZmluZWQpIHsKICAgICAgZGV2aWNlSWQgPSBVVUlEKCk7CiAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCdkZXZpY2UnLCBkZXZpY2VJZCk7CiAgICB9CgogICAgcmV0dXJuIGRldmljZUlkOwogIH0sCiAgdWE6IGZ1bmN0aW9uIHVhKCkgewogICAgcmV0dXJuIG5hdmlnYXRvci51c2VyQWdlbnQudG9Mb3dlckNhc2UoKTsKICB9LAogIGJyb3dzZXI6IGZ1bmN0aW9uIGJyb3dzZXIoKSB7CiAgICB2YXIgdWEgPSB0aGlzLnVhKCk7CgogICAgaWYgKF9icm93c2VyLnZlcnNpb25zKCkubW9iaWxlKSB7CiAgICAgIGlmICh1YS5tYXRjaCgvTWljcm9NZXNzZW5nZXIvaSkgPT09ICdtaWNyb21lc3NlbmdlcicpIHsKICAgICAgICAvLyDlnKjlvq7kv6HkuK3miZPlvIAKICAgICAgICByZXR1cm4gYnJvd3NlclR5cGUud3g7CiAgICAgIH0KCiAgICAgIGlmICh1YS5tYXRjaCgvV2VpQm8vaSkgPT09ICd3ZWlibycpIHsKICAgICAgICAvLyDlnKjmlrDmtarlvq7ljZrlrqLmiLfnq6/miZPlvIAKICAgICAgICByZXR1cm4gYnJvd3NlclR5cGUud2VpYm87CiAgICAgIH0KCiAgICAgIGlmICh1YS5tYXRjaCgvUVEvaSkgPT09ICdxcScpIHsKICAgICAgICAvLyDlnKhRUeepuumXtOaJk+W8gAogICAgICAgIHJldHVybiBicm93c2VyVHlwZS5xcTsKICAgICAgfQoKICAgICAgaWYgKHVhLm1hdGNoKC9hbGlwYXlkZWZpbmVkL2kpID09PSAnYWxpcGF5ZGVmaW5lZCcgfHwgdWEubWF0Y2goL2FsaWFwcC9pKSA9PT0gJ2FsaWFwcCcgfHwgdWEubWF0Y2goL2FsaXBheWNsaWVudC9pKSA9PT0gJ2FsaXBheWNsaWVudCcpIHsKICAgICAgICAvLyDlnKjmlK/ku5jlrp3kuK3miZPlvIAKICAgICAgICByZXR1cm4gYnJvd3NlclR5cGUuYWxpOwogICAgICB9CgogICAgICByZXR1cm4gYnJvd3NlclR5cGUub3RoZXI7CiAgICB9CgogICAgcmV0dXJuICdwYyc7CiAgfQp9OwpleHBvcnQgZGVmYXVsdCBkZXZpY2U7"},{"version":3,"sources":["/Users/zhang/canteen_manage/src/libs/device.js"],"names":["browserType","wx","ali","qq","weibo","other","browser","versions","u","navigator","userAgent","trident","indexOf","presto","webKit","gecko","mobile","match","iOS","Android","iPhone","iPad","webApp","language","browserLanguage","toLowerCase","UUID","d","Date","getTime","uuid","replace","c","r","Math","random","floor","toString","device","deviceId","localStorage","getItem","undefined","setItem","ua"],"mappings":"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","sourcesContent":["const browserType = {\n  wx: 'wx',\n  ali: 'ali',\n  qq: 'qq',\n  weibo: 'wb',\n  other: 'other'\n}\n\nconst browser = {\n  versions () {\n    const u = navigator.userAgent\n    // let app = navigator.appVersion\n    return { // 移动终端浏览器版本信息\n      trident: u.indexOf('Trident') > -1, // IE内核\n      presto: u.indexOf('Presto') > -1, // opera内核\n      webKit: u.indexOf('AppleWebKit') > -1, // 苹果、谷歌内核\n      gecko: u.indexOf('Gecko') > -1 && u.indexOf('KHTML') === -1, // 火狐内核\n      mobile: !!u.match(/AppleWebKit.*Mobile.*/), // 是否为移动终端\n      iOS: !!u.match(/\\(i[^;]+;( U;)? CPU.+Mac OS X/), // ios终端\n      Android: u.indexOf('Android') > -1 || u.indexOf('Linux') > -1, // android终端或uc浏览器\n      iPhone: u.indexOf('iPhone') > -1, // 是否为iPhone或者QQHD浏览器\n      iPad: u.indexOf('iPad') > -1, // 是否iPad\n      webApp: u.indexOf('Safari') === -1 // 是否web应该程序，没有头部与底部\n    }\n  },\n  language: (navigator.browserLanguage || navigator.language).toLowerCase()\n}\n\nconst UUID = () => {\n  var d = new Date().getTime()\n  var uuid = 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, (c) => {\n    var r = (d + Math.random() * 16) % 16 | 0\n    d = Math.floor(d / 16)\n    return (c === 'x' ? r : (r & 0x7 | 0x8)).toString(16)\n  })\n  return uuid\n}\n\nconst device = {\n  browserType: browserType,\n  deviceId () {\n    let deviceId = localStorage.getItem('device')\n    // eslint-disable-next-line valid-typeof\n    if (deviceId === null || typeof deviceId === undefined) {\n      deviceId = UUID()\n      localStorage.setItem('device', deviceId)\n    }\n    return deviceId\n  },\n  ua () {\n    return navigator.userAgent.toLowerCase()\n  },\n  browser () {\n    const ua = this.ua()\n    if (browser.versions().mobile) {\n      if (ua.match(/MicroMessenger/i) === 'micromessenger') {\n        // 在微信中打开\n        return browserType.wx\n      }\n      if (ua.match(/WeiBo/i) === 'weibo') {\n        // 在新浪微博客户端打开\n        return browserType.weibo\n      }\n\n      if (ua.match(/QQ/i) === 'qq') {\n        // 在QQ空间打开\n        return browserType.qq\n      }\n\n      if (ua.match(/alipaydefined/i) === 'alipaydefined' || ua.match(/aliapp/i) === 'aliapp' ||\n          ua.match(/alipayclient/i) === 'alipayclient') {\n        // 在支付宝中打开\n        return browserType.ali\n      }\n\n      return browserType.other\n    }\n    return 'pc'\n  }\n}\n\nexport default device\n"]}]}