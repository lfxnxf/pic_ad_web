{"remainingRequest":"/Users/zhang/工作/pic_ad/node_modules/babel-loader/lib/index.js!/Users/zhang/工作/pic_ad/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/zhang/工作/pic_ad/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/zhang/工作/pic_ad/src/components/enterprise-main/components/side-menu/side-menu.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/zhang/工作/pic_ad/src/components/enterprise-main/components/side-menu/side-menu.vue","mtime":1638355006727},{"path":"/Users/zhang/工作/pic_ad/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/zhang/工作/pic_ad/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/zhang/工作/pic_ad/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/zhang/工作/pic_ad/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMubnVtYmVyLmNvbnN0cnVjdG9yLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmlsdGVyLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkubWFwLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZnVuY3Rpb24ubmFtZS5qcyI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmltcG9ydCBTaWRlTWVudUl0ZW0gZnJvbSAnLi9zaWRlLW1lbnUtaXRlbS52dWUnOwppbXBvcnQgQ29sbGFwc2VkTWVudSBmcm9tICcuL2NvbGxhcHNlZC1tZW51LnZ1ZSc7CmltcG9ydCB7IGdldFVuaW9uIH0gZnJvbSAnQC9saWJzL3Rvb2xzJzsKaW1wb3J0IG1peGluIGZyb20gJy4vbWl4aW4nOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogJ1NpZGVNZW51JywKICBtaXhpbnM6IFttaXhpbl0sCiAgY29tcG9uZW50czogewogICAgU2lkZU1lbnVJdGVtOiBTaWRlTWVudUl0ZW0sCiAgICBDb2xsYXBzZWRNZW51OiBDb2xsYXBzZWRNZW51CiAgfSwKICBwcm9wczogewogICAgbWVudUxpc3Q6IHsKICAgICAgdHlwZTogQXJyYXksCiAgICAgICJkZWZhdWx0IjogZnVuY3Rpb24gX2RlZmF1bHQoKSB7CiAgICAgICAgcmV0dXJuIFtdOwogICAgICB9CiAgICB9LAogICAgY29sbGFwc2VkOiB7CiAgICAgIHR5cGU6IEJvb2xlYW4KICAgIH0sCiAgICB0aGVtZTogewogICAgICB0eXBlOiBTdHJpbmcsCiAgICAgICJkZWZhdWx0IjogJ2xpZ2h0JwogICAgfSwKICAgIHJvb3RJY29uU2l6ZTogewogICAgICB0eXBlOiBOdW1iZXIsCiAgICAgICJkZWZhdWx0IjogMjAKICAgIH0sCiAgICBpY29uU2l6ZTogewogICAgICB0eXBlOiBOdW1iZXIsCiAgICAgICJkZWZhdWx0IjogMTYKICAgIH0sCiAgICBhY2NvcmRpb246IEJvb2xlYW4sCiAgICBhY3RpdmVOYW1lOiB7CiAgICAgIHR5cGU6IFN0cmluZywKICAgICAgImRlZmF1bHQiOiAnJwogICAgfSwKICAgIG9wZW5OYW1lczogewogICAgICB0eXBlOiBBcnJheSwKICAgICAgImRlZmF1bHQiOiBmdW5jdGlvbiBfZGVmYXVsdCgpIHsKICAgICAgICByZXR1cm4gW107CiAgICAgIH0KICAgIH0KICB9LAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBvcGVuZWROYW1lczogW10KICAgIH07CiAgfSwKICBtZXRob2RzOiB7CiAgICBoYW5kbGVTZWxlY3Q6IGZ1bmN0aW9uIGhhbmRsZVNlbGVjdChuYW1lKSB7CiAgICAgIHRoaXMuJGVtaXQoJ29uLXNlbGVjdCcsIG5hbWUpOwogICAgfSwKICAgIGdldE9wZW5lZE5hbWVzQnlBY3RpdmVOYW1lOiBmdW5jdGlvbiBnZXRPcGVuZWROYW1lc0J5QWN0aXZlTmFtZShuYW1lKSB7CiAgICAgIHJldHVybiB0aGlzLiRyb3V0ZS5tYXRjaGVkLm1hcChmdW5jdGlvbiAoaXRlbSkgewogICAgICAgIHJldHVybiBpdGVtLm5hbWU7CiAgICAgIH0pLmZpbHRlcihmdW5jdGlvbiAoaXRlbSkgewogICAgICAgIHJldHVybiBpdGVtICE9PSBuYW1lOwogICAgICB9KTsKICAgIH0sCiAgICB1cGRhdGVPcGVuTmFtZTogZnVuY3Rpb24gdXBkYXRlT3Blbk5hbWUobmFtZSkgewogICAgICBpZiAobmFtZSA9PT0gJ2hvbWUnKSB0aGlzLm9wZW5lZE5hbWVzID0gW107ZWxzZSB0aGlzLm9wZW5lZE5hbWVzID0gdGhpcy5nZXRPcGVuZWROYW1lc0J5QWN0aXZlTmFtZShuYW1lKTsKICAgIH0KICB9LAogIGNvbXB1dGVkOiB7CiAgICB0ZXh0Q29sb3I6IGZ1bmN0aW9uIHRleHRDb2xvcigpIHsKICAgICAgcmV0dXJuICcjNDk1MDYwJzsKICAgIH0KICB9LAogIHdhdGNoOiB7CiAgICBhY3RpdmVOYW1lOiBmdW5jdGlvbiBhY3RpdmVOYW1lKG5hbWUpIHsKICAgICAgaWYgKHRoaXMuYWNjb3JkaW9uKSB0aGlzLm9wZW5lZE5hbWVzID0gdGhpcy5nZXRPcGVuZWROYW1lc0J5QWN0aXZlTmFtZShuYW1lKTtlbHNlIHRoaXMub3BlbmVkTmFtZXMgPSBnZXRVbmlvbih0aGlzLm9wZW5lZE5hbWVzLCB0aGlzLmdldE9wZW5lZE5hbWVzQnlBY3RpdmVOYW1lKG5hbWUpKTsKICAgIH0sCiAgICBvcGVuTmFtZXM6IGZ1bmN0aW9uIG9wZW5OYW1lcyhuZXdOYW1lcykgewogICAgICB0aGlzLm9wZW5lZE5hbWVzID0gbmV3TmFtZXM7CiAgICB9LAogICAgb3BlbmVkTmFtZXM6IGZ1bmN0aW9uIG9wZW5lZE5hbWVzKCkgewogICAgICB0aGlzLiRuZXh0VGljayhmdW5jdGlvbiAoKSB7Ly8gdGhpcy4kcmVmcy5tZW51LnVwZGF0ZU9wZW5lZCgpOwogICAgICB9KTsKICAgIH0KICB9LAogIG1vdW50ZWQ6IGZ1bmN0aW9uIG1vdW50ZWQoKSB7CiAgICB0aGlzLm9wZW5lZE5hbWVzID0gZ2V0VW5pb24odGhpcy5vcGVuZWROYW1lcywgdGhpcy5nZXRPcGVuZWROYW1lc0J5QWN0aXZlTmFtZShuYW1lKSk7CiAgfQp9Ow=="},{"version":3,"sources":["side-menu.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA2EA,OAAA,YAAA,MAAA,sBAAA;AACA,OAAA,aAAA,MAAA,sBAAA;AACA,SAAA,QAAA,QAAA,cAAA;AACA,OAAA,KAAA,MAAA,SAAA;AAEA,eAAA;AACA,EAAA,IAAA,EAAA,UADA;AAEA,EAAA,MAAA,EAAA,CAAA,KAAA,CAFA;AAGA,EAAA,UAAA,EAAA;AACA,IAAA,YAAA,EAAA,YADA;AAEA,IAAA,aAAA,EAAA;AAFA,GAHA;AAOA,EAAA,KAAA,EAAA;AACA,IAAA,QAAA,EAAA;AACA,MAAA,IAAA,EAAA,KADA;AAAA,qCAEA;AACA,eAAA,EAAA;AACA;AAJA,KADA;AAOA,IAAA,SAAA,EAAA;AACA,MAAA,IAAA,EAAA;AADA,KAPA;AAUA,IAAA,KAAA,EAAA;AACA,MAAA,IAAA,EAAA,MADA;AAEA,iBAAA;AAFA,KAVA;AAcA,IAAA,YAAA,EAAA;AACA,MAAA,IAAA,EAAA,MADA;AAEA,iBAAA;AAFA,KAdA;AAkBA,IAAA,QAAA,EAAA;AACA,MAAA,IAAA,EAAA,MADA;AAEA,iBAAA;AAFA,KAlBA;AAsBA,IAAA,SAAA,EAAA,OAtBA;AAuBA,IAAA,UAAA,EAAA;AACA,MAAA,IAAA,EAAA,MADA;AAEA,iBAAA;AAFA,KAvBA;AA2BA,IAAA,SAAA,EAAA;AACA,MAAA,IAAA,EAAA,KADA;AAEA,iBAAA;AAAA,eAAA,EAAA;AAAA;AAFA;AA3BA,GAPA;AAuCA,EAAA,IAvCA,kBAuCA;AACA,WAAA;AACA,MAAA,WAAA,EAAA;AADA,KAAA;AAGA,GA3CA;AA4CA,EAAA,OAAA,EAAA;AACA,IAAA,YADA,wBACA,IADA,EACA;AACA,WAAA,KAAA,CAAA,WAAA,EAAA,IAAA;AACA,KAHA;AAIA,IAAA,0BAJA,sCAIA,IAJA,EAIA;AACA,aAAA,KAAA,MAAA,CAAA,OAAA,CAAA,GAAA,CAAA,UAAA,IAAA;AAAA,eAAA,IAAA,CAAA,IAAA;AAAA,OAAA,EAAA,MAAA,CAAA,UAAA,IAAA;AAAA,eAAA,IAAA,KAAA,IAAA;AAAA,OAAA,CAAA;AACA,KANA;AAOA,IAAA,cAPA,0BAOA,IAPA,EAOA;AACA,UAAA,IAAA,KAAA,MAAA,EAAA,KAAA,WAAA,GAAA,EAAA,CAAA,KACA,KAAA,WAAA,GAAA,KAAA,0BAAA,CAAA,IAAA,CAAA;AACA;AAVA,GA5CA;AAwDA,EAAA,QAAA,EAAA;AACA,IAAA,SADA,uBACA;AACA,aAAA,SAAA;AACA;AAHA,GAxDA;AA6DA,EAAA,KAAA,EAAA;AACA,IAAA,UADA,sBACA,IADA,EACA;AACA,UAAA,KAAA,SAAA,EAAA,KAAA,WAAA,GAAA,KAAA,0BAAA,CAAA,IAAA,CAAA,CAAA,KACA,KAAA,WAAA,GAAA,QAAA,CAAA,KAAA,WAAA,EAAA,KAAA,0BAAA,CAAA,IAAA,CAAA,CAAA;AACA,KAJA;AAKA,IAAA,SALA,qBAKA,QALA,EAKA;AACA,WAAA,WAAA,GAAA,QAAA;AACA,KAPA;AAQA,IAAA,WARA,yBAQA;AACA,WAAA,SAAA,CAAA,YAAA,CACA;AACA,OAFA;AAGA;AAZA,GA7DA;AA2EA,EAAA,OA3EA,qBA2EA;AACA,SAAA,WAAA,GAAA,QAAA,CAAA,KAAA,WAAA,EAAA,KAAA,0BAAA,CAAA,IAAA,CAAA,CAAA;AACA;AA7EA,CAAA","sourcesContent":["<template>\n  <div class=\"side-menu-wrapper\">\n    <slot></slot>\n    <Menu\n      ref=\"menu\"\n      v-show=\"!collapsed\"\n      :active-name=\"activeName\"\n      :open-names=\"openedNames\"\n      :accordion=\"accordion\"\n      :theme=\"theme\"\n      width=\"auto\"\n      @on-select=\"handleSelect\"\n    >\n      <template v-for=\"item in menuList\">\n        <template v-if=\"item.children && item.children.length === 1\">\n          <side-menu-item\n            v-if=\"showChildren(item)\"\n            :key=\"`menu-${item.name}`\"\n            :parent-item=\"item\"\n          ></side-menu-item>\n          <menu-item v-else :name=\"getNameOrHref(item, true)\" :key=\"`menu-${item.children[0].name}`\"\n            ><common-icon :type=\"item.children[0].icon || ''\" /><span>{{\n              showTitle(item.children[0])\n            }}</span></menu-item\n          >\n        </template>\n        <template v-else>\n          <side-menu-item\n            v-if=\"showChildren(item)\"\n            :key=\"`menu-${item.name}`\"\n            :parent-item=\"item\"\n          ></side-menu-item>\n          <menu-item v-else :name=\"getNameOrHref(item)\" :key=\"`menu-${item.name}`\">\n            <common-icon :type=\"item.icon || ''\" /><span>{{ showTitle(item) }}</span>\n          </menu-item>\n        </template>\n      </template>\n    </Menu>\n    <div class=\"menu-collapsed\" v-show=\"collapsed\" :list=\"menuList\">\n      <template v-for=\"(item, index) in menuList\">\n        <collapsed-menu\n          v-if=\"item.children && item.children.length > 1\"\n          @on-click=\"handleSelect\"\n          hide-title\n          :root-icon-size=\"rootIconSize\"\n          :icon-size=\"iconSize\"\n          :theme=\"theme\"\n          :parent-item=\"item\"\n          :key=\"`drop-menu-${index}`\"\n        ></collapsed-menu>\n        <Tooltip\n          transfer\n          v-else\n          :content=\"\n            (item.meta && item.meta.title) ||\n              (item.children && item.children[0] && item.children[0].meta.title)\n          \"\n          placement=\"right\"\n          :key=\"`drop-menu-${index}`\"\n        >\n          <a\n            @click=\"handleSelect(getNameOrHref(item, true))\"\n            class=\"drop-menu-a\"\n            :style=\"{ textAlign: 'center' }\"\n            ><common-icon\n              :size=\"rootIconSize\"\n              :color=\"textColor\"\n              :type=\"item.icon || (item.children && item.children[0].icon)\"\n          /></a>\n        </Tooltip>\n      </template>\n    </div>\n  </div>\n</template>\n<script>\nimport SideMenuItem from './side-menu-item.vue';\nimport CollapsedMenu from './collapsed-menu.vue';\nimport { getUnion } from '@/libs/tools';\nimport mixin from './mixin';\n\nexport default {\n  name: 'SideMenu',\n  mixins: [mixin],\n  components: {\n    SideMenuItem,\n    CollapsedMenu,\n  },\n  props: {\n    menuList: {\n      type: Array,\n      default() {\n        return [];\n      },\n    },\n    collapsed: {\n      type: Boolean,\n    },\n    theme: {\n      type: String,\n      default: 'light',\n    },\n    rootIconSize: {\n      type: Number,\n      default: 20,\n    },\n    iconSize: {\n      type: Number,\n      default: 16,\n    },\n    accordion: Boolean,\n    activeName: {\n      type: String,\n      default: '',\n    },\n    openNames: {\n      type: Array,\n      default: () => [],\n    },\n  },\n  data() {\n    return {\n      openedNames: [],\n    };\n  },\n  methods: {\n    handleSelect(name) {\n      this.$emit('on-select', name);\n    },\n    getOpenedNamesByActiveName(name) {\n      return this.$route.matched.map((item) => item.name).filter((item) => item !== name);\n    },\n    updateOpenName(name) {\n      if (name === 'home') this.openedNames = [];\n      else this.openedNames = this.getOpenedNamesByActiveName(name);\n    },\n  },\n  computed: {\n    textColor() {\n      return '#495060';\n    },\n  },\n  watch: {\n    activeName(name) {\n      if (this.accordion) this.openedNames = this.getOpenedNamesByActiveName(name);\n      else this.openedNames = getUnion(this.openedNames, this.getOpenedNamesByActiveName(name));\n    },\n    openNames(newNames) {\n      this.openedNames = newNames;\n    },\n    openedNames() {\n      this.$nextTick(() => {\n        // this.$refs.menu.updateOpened();\n      });\n    },\n  },\n  mounted() {\n    this.openedNames = getUnion(this.openedNames, this.getOpenedNamesByActiveName(name));\n  },\n};\n</script>\n<style lang=\"less\" scoped>\n@import './side-menu.less';\n</style>\n"],"sourceRoot":"src/components/enterprise-main/components/side-menu"}]}