{"remainingRequest":"/Users/zhang/canteen_manage/node_modules/babel-loader/lib/index.js!/Users/zhang/canteen_manage/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/zhang/canteen_manage/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/zhang/canteen_manage/src/views/food-management/components/modal.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/zhang/canteen_manage/src/views/food-management/components/modal.vue","mtime":1638355006793},{"path":"/Users/zhang/canteen_manage/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/zhang/canteen_manage/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/zhang/canteen_manage/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/zhang/canteen_manage/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9vYmplY3RTcHJlYWQgZnJvbSAiL1VzZXJzL3poYW5nL2NhbnRlZW5fbWFuYWdlL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9vYmplY3RTcHJlYWQyIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3ltYm9sLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3ltYm9sLmRlc2NyaXB0aW9uLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMucmVnZXhwLmV4ZWMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcucmVwbGFjZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LnNwbGljZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmRhdGUudG8tc3RyaW5nLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnJlZ2V4cC50by1zdHJpbmcuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5udW1iZXIudG8tZml4ZWQuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5wYXJzZS1mbG9hdC5qcyI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmV4cG9ydCBkZWZhdWx0IHsKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgaXNFZGl0OiBmYWxzZSwKICAgICAgZm9vZFN0YXR1czogdHJ1ZSwKICAgICAgdXBsb2FkVHlwZTogWydqcGcnLCAnanBlZycsICdwbmcnLCAnZ2l0J10sCiAgICAgIHByb2dyZXNzOiBmYWxzZSwKICAgICAgdXBsb2FkVXJsOiByZXF1aXJlKCdAL2Fzc2V0cy9pbWFnZXMvY3VwLnBuZycpLAogICAgICB1cGxvYWRUaXRsZTogdHJ1ZSwKICAgICAgZm9ybTogewogICAgICAgIGdvb2RzX25hbWU6ICcnLAogICAgICAgIGRlc2NyaXB0aW9uOiAnJywKICAgICAgICB0aW1lX3R5cGU6ICcnLAogICAgICAgIHN0YXR1czogJycsCiAgICAgICAgcHJpY2U6ICcnLAogICAgICAgIGRlZmF1bHRfaW1hZ2U6ICcnLAogICAgICAgIGNyZWF0ZWRfYXQ6ICcnLAogICAgICAgIHVwZGF0ZWRfYXQ6ICcnCiAgICAgIH0KICAgIH07CiAgfSwKICBjb21wb25lbnRzOiB7fSwKICBjb21wdXRlZDogewogICAgZGV0YWlsc01vZGFsOiB7CiAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkgewogICAgICAgIHJldHVybiB0aGlzLiRzdG9yZS5zdGF0ZS5nb29kcy5kZXRhaWxzTW9kYWw7CiAgICAgIH0sCiAgICAgIHNldDogZnVuY3Rpb24gc2V0KHZhbCkgewogICAgICAgIHRoaXMuJHN0b3JlLmNvbW1pdCgnc2V0RGV0YWlsc01vZGFsJywgdmFsKTsKICAgICAgfQogICAgfSwKICAgIGdvb2RzRGV0YWlsOiBmdW5jdGlvbiBnb29kc0RldGFpbCgpIHsKICAgICAgcmV0dXJuIHRoaXMuJHN0b3JlLnN0YXRlLmdvb2RzLmRldGFpbDsKICAgIH0KICB9LAogIG1ldGhvZHM6IHsKICAgIG1vZGlmeUZvb2Q6IGZ1bmN0aW9uIG1vZGlmeUZvb2QoKSB7CiAgICAgIHRoaXMuaXNFZGl0ID0gdHJ1ZTsKICAgICAgdGhpcy5mb3JtID0gdGhpcy5nb29kc0RldGFpbDsKICAgICAgdGhpcy5mb3JtLmRlc2NyaXB0aW9uID0gdGhpcy5nb29kc0RldGFpbC5kZXNjcmlwdGlvbi5yZXBsYWNlKC88W14+XSs+L2csICIiKS5yZXBsYWNlKCImbmJzcDsiLCAiICIpOwogICAgICB0aGlzLmZvcm0uc3RhdHVzID0gdGhpcy5nb29kc0RldGFpbC5zdGF0dXMgKyAnJzsKICAgIH0sCiAgICB1cGxvYWRQcm9ncmVzczogZnVuY3Rpb24gdXBsb2FkUHJvZ3Jlc3MoZXZlbnQsIGZpbGUsIGZpbGVMaXN0KSB7CiAgICAgIHRoaXMucHJvZ3Jlc3MgPSB0cnVlOwoKICAgICAgaWYgKGZpbGVMaXN0Lmxlbmd0aCA+IDEpIHsKICAgICAgICBmaWxlTGlzdCA9IGZpbGVMaXN0LnNwbGljZSgwLCAxKTsKICAgICAgfQogICAgfSwKICAgIHVwbG9hZFN1Y2Nlc3M6IGZ1bmN0aW9uIHVwbG9hZFN1Y2Nlc3MocmVzcG9uc2UsIGZpbGUsIGZpbGVMaXN0KSB7CiAgICAgIHRoaXMuZm9ybS5kZWZhdWx0X2ltYWdlID0gcmVzcG9uc2UudXJsOwogICAgICB0aGlzLnByb2dyZXNzID0gZmFsc2U7CiAgICAgIHRoaXMudXBsb2FkVGl0bGUgPSBmYWxzZTsKICAgIH0sCiAgICB1cGxvYWRFcnJvcjogZnVuY3Rpb24gdXBsb2FkRXJyb3IoZXJyb3IsIGZpbGUsIGZpbGVMaXN0KSB7CiAgICAgIHRoaXMuJE1lc3NhZ2UuZXJyb3IoZXJyb3IpOwogICAgfSwKICAgIGV4Y2VlZGVkU2l6ZTogZnVuY3Rpb24gZXhjZWVkZWRTaXplKGZpbGUsIGZpbGVMaXN0KSB7CiAgICAgIHRoaXMuJE1lc3NhZ2UuZXJyb3IoJ+ivt+S4iuS8oOS4jei2hei/hzVNQueahOWbvueJhycpOwogICAgfSwKICAgIGhhbmRsZVNhdmU6IGZ1bmN0aW9uIGhhbmRsZVNhdmUoKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICB0aGlzLmZvcm0ucHJpY2UgPSBwYXJzZUZsb2F0KHRoaXMuZm9ybS5wcmljZSkudG9GaXhlZCgyKS50b1N0cmluZygpLnJlcGxhY2UoL14tP1xkKy9nLCBmdW5jdGlvbiAobSkgewogICAgICAgIHJldHVybiBtLnJlcGxhY2UoLyg/PSg/IVxiKShcZHszfSkrJCkvZywgIiwiKTsKICAgICAgfSk7CgogICAgICB2YXIgcGFyYW1zID0gX29iamVjdFNwcmVhZCh7CiAgICAgICAgZ29vZHNfaWQ6IHRoaXMuZ29vZHNEZXRhaWwuZ29vZHNfaWQKICAgICAgfSwgdGhpcy5mb3JtKTsKCiAgICAgIHRoaXMuJHN0b3JlLmRpc3BhdGNoKCdnb29kc0VkaXQnLCBwYXJhbXMpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgIGlmIChyZXMucmV0dXJuX2NvZGUgPT0gMCkgewogICAgICAgICAgX3RoaXMuJE1lc3NhZ2Uuc3VjY2Vzcygn5L+u5pS55oiQ5Yqf77yBJyk7CgogICAgICAgICAgX3RoaXMuJHN0b3JlLmNvbW1pdCgnc2V0RGV0YWlsc01vZGFsJywgZmFsc2UpOwoKICAgICAgICAgIHZhciBhcmcgPSB7CiAgICAgICAgICAgIG1lcmNoYW50X2lkOiBfdGhpcy4kc3RvcmUuc3RhdGUudXNlci5jdXJNZXJjaGFudElkLAogICAgICAgICAgICBwYWdlOiAwLAogICAgICAgICAgICBwYWdlX3NpemU6IDUwCiAgICAgICAgICB9OwoKICAgICAgICAgIF90aGlzLiRzdG9yZS5kaXNwYXRjaCgnZ29vZHNMaXN0JywgYXJnKTsKICAgICAgICB9CiAgICAgIH0pOwogICAgfQogIH0sCiAgd2F0Y2g6IHsKICAgIGRldGFpbHNNb2RhbDogZnVuY3Rpb24gZGV0YWlsc01vZGFsKHZhbCkgewogICAgICBpZiAoIXZhbCkgewogICAgICAgIHRoaXMuaXNFZGl0ID0gZmFsc2U7CiAgICAgICAgdGhpcy5mb3JtID0ge307CiAgICAgIH0KICAgIH0KICB9Cn07"},{"version":3,"sources":["modal.vue"],"names":[],"mappings":"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","sourcesContent":["<!--  -->\n<template>\n  <Modal class=\"detailsModal\" v-model=\"detailsModal\" width=\"820px\" :footer-hide=\"true\" :mask-closable=\"false\">\n    <div>\n      <div>\n        <div class=\"gray-bg\" v-if=\"!isEdit\">\n          <template>\n            <Tag v-if=\"goodsDetail.time_type=='breakfast'\" color=\"red\">早餐</Tag>\n            <Tag v-else-if=\"goodsDetail.time_type=='nooning'\" color=\"success\">午餐</Tag>\n            <Tag v-else color=\"blue\">晚餐</Tag>\n          </template>\n          <span class=\"font-blod padding-left-5\">{{goodsDetail.goods_name}}</span>\n          <!-- <i-switch  size=\"large\" class=\"pull-right\" v-model=\"foodStatus\">\n            <span slot=\"open\">正常</span>\n            <span slot=\"close\">下架</span>\n          </i-switch> -->\n        </div>\n        <div v-else>\n          <Row class=\"border\">\n            <Col span=\"17\">\n              <Row class=\"name-row\">\n                <Col span=\"5\" >\n                  <span>菜品名称</span>\n                </Col>\n                <Col span=\"19\" class=\"border-l\">\n                  <Input v-model=\"form.goods_name\" placeholder=\"输入菜品名称\" />\n                </Col>\n              </Row>\n            </Col>\n          </Row>\n        </div>\n        <Row>\n          <Col span=\"17\">\n            <Row class=\"list\">\n              <Col span=\"24\" style=\"min-height: 80px;\">\n                <Input v-if=\"isEdit\" v-model=\"form.description\" type=\"textarea\" :rows=\"3\" placeholder=\"输入菜品描述\" />\n                <span v-else v-html=\"goodsDetail.description\"></span>\n              </Col>\n\n              <Col span=\"5\" class=\"border-l\">\n                <span>菜品类型</span>\n              </Col>\n              <Col span=\"7\">\n                <Select v-if=\"isEdit\" v-model=\"form.time_type\" placeholder=\"选择菜品类型\">\n                  <Option value=\"breakfast\">早餐</Option>\n                  <Option value=\"nooning\">午餐</Option>\n                  <Option value=\"dinner\">晚餐</Option>\n                </Select>\n                <span v-else>{{goodsDetail.time_type | filtTimeType}}</span>\n              </Col>\n\n              <Col span=\"5\" >\n                <span>状态</span>\n              </Col>\n              <Col span=\"7\">\n                <Select v-if=\"isEdit\" v-model=\"form.status\" placeholder=\"选择菜品状态\">\n                  <Option value='1'>正常</Option>\n                  <Option value='0'>下架</Option>\n                </Select>\n                <span v-else>{{goodsDetail.status==1?'正常':'下架'}}</span>\n              </Col>\n\n              <Col span=\"5\" class=\"border-l\">\n                <span>售价</span>\n              </Col>\n              <Col span=\"19\">\n                <Input v-if=\"isEdit\" v-model=\"form.price\" type=\"number\"/>\n                <span v-else>{{goodsDetail.price}}</span>\n              </Col>\n\n              <Col span=\"5\" class=\"border-l\">\n                <span>创建时间</span>\n              </Col>\n              <Col span=\"7\">\n                <Input v-if=\"isEdit\" v-model=\"form.created_at\" disabled />\n                <span v-else>{{goodsDetail.created_at}}</span>\n              </Col>\n              <Col span=\"5\">\n                <span>更新时间</span>\n              </Col>\n              <Col span=\"7\">\n                <Input v-if=\"isEdit\" v-model=\"form.updated_at\" disabled/>\n                <span v-else>{{goodsDetail.updated_at}}</span>\n              </Col>\n\n              <Col span=\"5\" class=\"border-l\">\n                <span>备注</span>\n              </Col>\n              <Col span=\"19\">\n                <Input v-if=\"isEdit\" v-model=\"form.remark\"/>\n                <span v-else>{{goodsDetail.remark}}</span>\n              </Col>\n            </Row>\n          </Col>\n          <Col span=\"7\" >\n            <div v-if='isEdit' class=\"upload_wrapper\">\n              <Upload\n                :class=\"progress?'opcity':''\"\n                type=\"drag\"\n                :paste=\"true\"\n                :format=\"uploadType\"\n                :max-size=\"5120\"\n                :on-progress=\"uploadProgress\"\n                :on-success='uploadSuccess'\n                :on-error='uploadError'\n                :on-exceeded-size=\"exceededSize\"\n                name='file'\n                action=\"/upload\">\n                  <div class=\"upload-container\">\n                    <div class=\"bg\">\n                      <p class=\"cursor\">+</p>\n                      <img class=\"upload-img width-full\" v-show=\"!progress\" :src=\"form.default_image\" alt=\"\">\n                      <div class=\"mark\"></div>\n                      <p v-show=\"uploadTitle\" class=\"star\">\n                        <Icon type=\"ios-star\" class=\"margin-right-5\"/>\n                        默认图片\n                      </p>\n                    </div>\n                  </div>\n              </Upload>\n              <p class=\"req\">大小不超过5MB，推荐尺寸[212*212]<br/>格式支持JPG，JPEG，PNG，GIT</p>\n            </div>\n\n            <div v-else class=\"img-wrapper\">\n              <img class=\"width-full\" style=\"height: 211px;\" :src=\"goodsDetail.default_image\" alt=\"\">\n            </div>\n          </Col>\n        </Row>\n\n        <div class=\"gray-bg border-top-0\">\n          <Button v-if=\"isEdit\" type=\"primary\" icon=\"md-checkmark\" @click=\"handleSave\">保存修改</Button>\n          <Button v-else  type=\"primary\" icon=\"ios-build\" @click=\"modifyFood\">修改菜品信息</Button>\n\n        </div>\n      </div>\n    </div>\n  </Modal>\n</template>\n\n<script>\nexport default {\n  data() {\n    return {\n      isEdit: false,\n      foodStatus: true,\n      uploadType: ['jpg','jpeg','png','git'],\n      progress: false,\n      uploadUrl: require('@/assets/images/cup.png'),\n      uploadTitle: true,\n      form: {\n        goods_name: '',\n        description: '',\n        time_type: '',\n        status: '',\n        price: '',\n        default_image: '',\n        created_at: '',\n        updated_at: ''\n      }\n    };\n  },\n\n  components: {},\n\n  computed: {\n    detailsModal:{\n      get(){\n        return this.$store.state.goods.detailsModal;\n      },\n      set(val){\n        this.$store.commit('setDetailsModal', val)\n      }\n    },\n    goodsDetail(){\n      return this.$store.state.goods.detail;\n    }\n  },\n\n  methods: {\n    modifyFood(){\n      this.isEdit = true;\n      this.form = this.goodsDetail;\n      this.form.description = this.goodsDetail.description.replace(/<[^>]+>/g,\"\").replace(\"&nbsp;\", \" \")\n      this.form.status = this.goodsDetail.status+'';\n\n    },\n    uploadProgress(event, file, fileList){\n      this.progress = true;\n      if(fileList.length>1){\n        fileList = fileList.splice(0,1);\n      }\n    },\n    uploadSuccess(response, file, fileList) {\n      this.form.default_image = response.url;\n      this.progress = false;\n      this.uploadTitle = false;\n    },\n\n    uploadError(error, file, fileList) {\n      this.$Message.error(error)\n    },\n    exceededSize(file, fileList){\n      this.$Message.error('请上传不超过5MB的图片');\n    },\n    handleSave(){\n      this.form.price = parseFloat(this.form.price).toFixed(2).toString().replace(/^-?\\d+/g, m => m.replace(/(?=(?!\\b)(\\d{3})+$)/g, \",\"))\n      let params = {\n        goods_id: this.goodsDetail.goods_id,\n        ...this.form\n      }\n      this.$store.dispatch('goodsEdit', params).then(res=>{\n        if(res.return_code==0){\n          this.$Message.success('修改成功！');\n          this.$store.commit('setDetailsModal', false);\n          let arg = {\n            merchant_id: this.$store.state.user.curMerchantId,\n            page: 0,\n            page_size: 50\n          };\n          this.$store.dispatch('goodsList', arg);\n        }\n      });\n\n    }\n  },\n  watch: {\n    detailsModal(val){\n      if(!val){\n        this.isEdit = false;\n        this.form = {}\n      }\n    }\n  }\n};\n</script>\n<style lang='less' scoped>\n  @import '../style';\n  /deep/.ivu-modal-body{\n    padding-top: 45px !important;\n  }\n</style>\n"],"sourceRoot":"src/views/food-management/components"}]}