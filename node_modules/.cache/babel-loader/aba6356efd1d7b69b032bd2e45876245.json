{"remainingRequest":"/Users/zhang/工作/pic_ad/node_modules/babel-loader/lib/index.js!/Users/zhang/工作/pic_ad/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/zhang/工作/pic_ad/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/zhang/工作/pic_ad/src/views/setting/role-setting/components/table.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/zhang/工作/pic_ad/src/views/setting/role-setting/components/table.vue","mtime":1638516298157},{"path":"/Users/zhang/工作/pic_ad/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/zhang/工作/pic_ad/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/zhang/工作/pic_ad/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/zhang/工作/pic_ad/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyIGZyb20gIi9Vc2Vycy96aGFuZy9cdTVERTVcdTRGNUMvcGljX2FkL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyIjsKaW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIi9Vc2Vycy96aGFuZy9cdTVERTVcdTRGNUMvcGljX2FkL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hc3luY1RvR2VuZXJhdG9yIjsKaW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5maWx0ZXIuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5mdW5jdGlvbi5uYW1lLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZGF0ZS50by1zdHJpbmcuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QudG8tc3RyaW5nLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMucmVnZXhwLnRvLXN0cmluZy5qcyI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmltcG9ydCAqIGFzIGRhdGFDb25maWcgZnJvbSAnLi4vZGF0YUNvbmZpZyc7CmltcG9ydCBfIGZyb20gInVuZGVyc2NvcmUiOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogJ1NlYXJjaFRhYmxlJywKICAvLyBwcm9wczogewogIC8vICAgdmFsdWU6IEFycmF5CiAgLy8gfSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgY29sdW1uczogW10KICAgIH07CiAgfSwKICBjb21wb25lbnRzOiB7fSwKICBjb21wdXRlZDogewogICAgY3VyTWVyY2hhbnRJZDogZnVuY3Rpb24gY3VyTWVyY2hhbnRJZCgpIHsKICAgICAgcmV0dXJuIHRoaXMuJHN0b3JlLnN0YXRlLnVzZXIuY3VyTWVyY2hhbnRJZDsKICAgIH0sCiAgICByb2xlTGlzdDogZnVuY3Rpb24gcm9sZUxpc3QoKSB7CiAgICAgIHJldHVybiB0aGlzLiRzdG9yZS5zdGF0ZS5yb2xlLnJvbGVMaXN0OwogICAgfSwKICAgIGxvYWRpbmc6IGZ1bmN0aW9uIGxvYWRpbmcoKSB7CiAgICAgIHJldHVybiB0aGlzLiRzdG9yZS5zdGF0ZS5hcHAudGFibGVMb2FkaW5nOwogICAgfSwKICAgIEdvb2RzTGlzdDogZnVuY3Rpb24gR29vZHNMaXN0KCkgewogICAgICByZXR1cm4gXy5maWx0ZXIodGhpcy4kc3RvcmUuc3RhdGUuZ29vZHMuZ29vZHNMaXN0LnJlc3VsdCwgZnVuY3Rpb24gKGN1cikgewogICAgICAgIHJldHVybiBjdXIuaXNfZW5hYmxlID09PSAxOwogICAgICB9KTsKICAgIH0sCiAgICBSb2xlR29vZHNMaXN0OiBmdW5jdGlvbiBSb2xlR29vZHNMaXN0KCkgewogICAgICByZXR1cm4gdGhpcy4kc3RvcmUuc3RhdGUucm9sZS5yb2xlR29vZHNMaXN0LnJlc3VsdDsKICAgIH0KICB9LAogIG1vdW50ZWQ6IGZ1bmN0aW9uIG1vdW50ZWQoKSB7CiAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoKSB7CiAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICBfdGhpcy5pbml0KCk7CgogICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAzOwogICAgICAgICAgICAgIHJldHVybiBfdGhpcy5xdWVyeUdvb2RzTGlzdCgpOwoKICAgICAgICAgICAgY2FzZSAzOgogICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSA1OwogICAgICAgICAgICAgIHJldHVybiBfdGhpcy5xdWVyeVJvbGVHb29kc0xpc3QoKTsKCiAgICAgICAgICAgIGNhc2UgNToKICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSwgX2NhbGxlZSk7CiAgICB9KSkoKTsKICB9LAogIG1ldGhvZHM6IHsKICAgIGluaXQ6IGZ1bmN0aW9uIGluaXQoKSB7CiAgICAgIHRoaXMuY29sdW1ucyA9IGRhdGFDb25maWcuY29sdW1uczsKICAgIH0sCiAgICBoYW5kbGVFZGl0OiBmdW5jdGlvbiBoYW5kbGVFZGl0KHJvdykgewogICAgICB2YXIgZGF0YSA9IHsKICAgICAgICByb2xlX2lkOiByb3cucm9sZV9pZCwKICAgICAgICBuYW1lOiByb3cubmFtZSwKICAgICAgICBpc19lbmFibGU6IHJvdy5pc19lbmFibGUudG9TdHJpbmcoKQogICAgICB9OwogICAgICB0aGlzLiRzdG9yZS5jb21taXQoJ3NldEVkaXRSb2xlTW9kYWwnLCB0cnVlKTsKICAgICAgdGhpcy4kc3RvcmUuY29tbWl0KCdTRVRST0xFQ1VSUkVOVERBVEEnLCBkYXRhKTsKICAgIH0sCiAgICBoYW5kbGVSb2xlR29vZHM6IGZ1bmN0aW9uIGhhbmRsZVJvbGVHb29kcyhyb3cpIHsKICAgICAgdmFyIGRhdGEgPSB7CiAgICAgICAgcm9sZV9pZDogcm93LnJvbGVfaWQsCiAgICAgICAgcm9sZV9uYW1lOiByb3cubmFtZSwKICAgICAgICBnb29kczogW10KICAgICAgfTsgLy8gY29uc29sZS5sb2coImhhbmRsZVJvbGVHb29kcz09PW91dD4+PiIgKyBKU09OLnN0cmluZ2lmeSh0aGlzLmdldEN1cnJlbnRSb2xlR29vZHMoZGF0YS5yb2xlX2lkKSkpCiAgICAgIC8vIOWkhOeQhuS6uuWRmOexu+Wei+mFjee9ruiPnOWNlQoKICAgICAgaWYgKEpTT04uc3RyaW5naWZ5KHRoaXMuZ2V0Q3VycmVudFJvbGVHb29kcyhkYXRhLnJvbGVfaWQpKSA9PSAnW10nKSB7CiAgICAgICAgY29uc29sZS5sb2coImhhbmRsZVJvbGVHb29kcz09PT4+PiIgKyBKU09OLnN0cmluZ2lmeSh0aGlzLmdldEN1cnJlbnRSb2xlR29vZHMoZGF0YS5yb2xlX2lkKSkpOwoKICAgICAgICB2YXIgX2l0ZXJhdG9yID0gX2NyZWF0ZUZvck9mSXRlcmF0b3JIZWxwZXIodGhpcy5Hb29kc0xpc3QpLAogICAgICAgICAgICBfc3RlcDsKCiAgICAgICAgdHJ5IHsKICAgICAgICAgIGZvciAoX2l0ZXJhdG9yLnMoKTsgIShfc3RlcCA9IF9pdGVyYXRvci5uKCkpLmRvbmU7KSB7CiAgICAgICAgICAgIHZhciBpdGVtID0gX3N0ZXAudmFsdWU7CiAgICAgICAgICAgIHZhciBkYXRhSXRlbSA9IHsKICAgICAgICAgICAgICAvLyBtZW51X2lkOiBudWxsLAogICAgICAgICAgICAgIGdvb2RzX2lkOiBudWxsLAogICAgICAgICAgICAgIGdvb2RzX25hbWU6ICcnLAogICAgICAgICAgICAgIHByaWNlOiAnJywKICAgICAgICAgICAgICByb2xlX3N0YXR1czogZmFsc2UKICAgICAgICAgICAgfTsKICAgICAgICAgICAgZGF0YUl0ZW0uZ29vZHNfaWQgPSBpdGVtLmdvb2RzX2lkOwogICAgICAgICAgICBkYXRhSXRlbS5nb29kc19uYW1lID0gaXRlbS5nb29kc19uYW1lOwogICAgICAgICAgICBkYXRhLmdvb2RzLnB1c2goZGF0YUl0ZW0pOwogICAgICAgICAgfQogICAgICAgIH0gY2F0Y2ggKGVycikgewogICAgICAgICAgX2l0ZXJhdG9yLmUoZXJyKTsKICAgICAgICB9IGZpbmFsbHkgewogICAgICAgICAgX2l0ZXJhdG9yLmYoKTsKICAgICAgICB9CgogICAgICAgIDsKICAgICAgfSBlbHNlIHsKICAgICAgICAvL+WmguaenOW9k+WJjeS6uuWRmOexu+Wei+aciemFjee9ruWwsemkkOS/oeaBr++8jOWImeWIneWni+WMluS8oOmAgei/h+WOu+eahOaVsOaNrgogICAgICAgIHZhciByb2xlR29vZHMgPSB0aGlzLmdldEN1cnJlbnRSb2xlR29vZHMoZGF0YS5yb2xlX2lkKTsgLy8gY29uc29sZS5sb2coIj09PT5yb2xlR29vZHM9PT1yb2xlR29vZHM6IiArIEpTT04uc3RyaW5naWZ5KHJvbGVHb29kcykpOwoKICAgICAgICB2YXIgaXNGaW5kID0gMDsKCiAgICAgICAgdmFyIF9pdGVyYXRvcjIgPSBfY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlcih0aGlzLkdvb2RzTGlzdCksCiAgICAgICAgICAgIF9zdGVwMjsKCiAgICAgICAgdHJ5IHsKICAgICAgICAgIGZvciAoX2l0ZXJhdG9yMi5zKCk7ICEoX3N0ZXAyID0gX2l0ZXJhdG9yMi5uKCkpLmRvbmU7KSB7CiAgICAgICAgICAgIHZhciBfaXRlbSA9IF9zdGVwMi52YWx1ZTsKICAgICAgICAgICAgLy8gY29uc29sZS5sb2coIj09PT5Hb29kc0xpc3Q9PT1nb29kczoiICsgSlNPTi5zdHJpbmdpZnkodGhpcy5Hb29kc0xpc3QpKTsKICAgICAgICAgICAgLy8gY29uc29sZS5sb2coIj09PT5Hb29kc0xpc3Q9PT1nb29kaWQ6IiArIGl0ZW0uZ29vZHNfaWQgKyAiLCBnb29kc25hbWU6IiArIGl0ZW0uZ29vZHNfbmFtZSk7CiAgICAgICAgICAgIGlzRmluZCA9IGZhbHNlOwoKICAgICAgICAgICAgdmFyIF9pdGVyYXRvcjMgPSBfY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlcihyb2xlR29vZHMpLAogICAgICAgICAgICAgICAgX3N0ZXAzOwoKICAgICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgICBmb3IgKF9pdGVyYXRvcjMucygpOyAhKF9zdGVwMyA9IF9pdGVyYXRvcjMubigpKS5kb25lOykgewogICAgICAgICAgICAgICAgdmFyIHJvbGVHb29kc0l0ZW0gPSBfc3RlcDMudmFsdWU7CgogICAgICAgICAgICAgICAgLy8gY29uc29sZS5sb2coIj09PT5yb2xlR29vZHNJdGVtPT09Z29vZGlkOiIgKyByb2xlR29vZHNJdGVtLmdvb2RzX2lkICsgIiwgZ29vZHNuYW1lOiIgKyByb2xlR29vZHNJdGVtLmdvb2RzX25hbWUpOwogICAgICAgICAgICAgICAgaWYgKF9pdGVtLmdvb2RzX2lkID09IHJvbGVHb29kc0l0ZW0uZ29vZHNfaWQpIHsKICAgICAgICAgICAgICAgICAgaXNGaW5kID0gdHJ1ZTsKICAgICAgICAgICAgICAgICAgdmFyIF9kYXRhSXRlbTIgPSB7CiAgICAgICAgICAgICAgICAgICAgLy8gbWVudV9pZDogbnVsbCwKICAgICAgICAgICAgICAgICAgICBnb29kc19pZDogJycsCiAgICAgICAgICAgICAgICAgICAgZ29vZHNfbmFtZTogJycsCiAgICAgICAgICAgICAgICAgICAgcHJpY2U6ICcnLAogICAgICAgICAgICAgICAgICAgIHJvbGVfc3RhdHVzOiBmYWxzZQogICAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgICAgICBfZGF0YUl0ZW0yID0gcm9sZUdvb2RzSXRlbTsKICAgICAgICAgICAgICAgICAgX2RhdGFJdGVtMi5yb2xlX3N0YXR1cyA9IHRydWU7CiAgICAgICAgICAgICAgICAgIGRhdGEuZ29vZHMucHVzaChfZGF0YUl0ZW0yKTsgLy8gcm9sZUdvb2RzSXRlbVsncm9sZV9zdGF0dXMnXSA9ICIxIjsKICAgICAgICAgICAgICAgICAgLy8gT2JqZWN0LmFzc2lnbihyb2xlR29vZHNJdGVtLCB7J3JvbGVfc3RhdHVzJyA6ICIxIn0pCgogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0gY2F0Y2ggKGVycikgewogICAgICAgICAgICAgIF9pdGVyYXRvcjMuZShlcnIpOwogICAgICAgICAgICB9IGZpbmFsbHkgewogICAgICAgICAgICAgIF9pdGVyYXRvcjMuZigpOwogICAgICAgICAgICB9CgogICAgICAgICAgICBpZiAoIWlzRmluZCkgewogICAgICAgICAgICAgIHZhciBfZGF0YUl0ZW0gPSB7CiAgICAgICAgICAgICAgICAvLyBtZW51X2lkOiBudWxsLAogICAgICAgICAgICAgICAgZ29vZHNfaWQ6ICcnLAogICAgICAgICAgICAgICAgZ29vZHNfbmFtZTogJycsCiAgICAgICAgICAgICAgICBwcmljZTogJycsCiAgICAgICAgICAgICAgICByb2xlX3N0YXR1czogZmFsc2UKICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgIF9kYXRhSXRlbS5nb29kc19pZCA9IF9pdGVtLmdvb2RzX2lkOwogICAgICAgICAgICAgIF9kYXRhSXRlbS5nb29kc19uYW1lID0gX2l0ZW0uZ29vZHNfbmFtZTsKICAgICAgICAgICAgICBkYXRhLmdvb2RzLnB1c2goX2RhdGFJdGVtKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0gY2F0Y2ggKGVycikgewogICAgICAgICAgX2l0ZXJhdG9yMi5lKGVycik7CiAgICAgICAgfSBmaW5hbGx5IHsKICAgICAgICAgIF9pdGVyYXRvcjIuZigpOwogICAgICAgIH0KCiAgICAgICAgOwogICAgICB9CgogICAgICB0aGlzLiRzdG9yZS5jb21taXQoJ3NldFJvbGVHb29kc01vZGFsJywgdHJ1ZSk7CiAgICAgIHRoaXMuJHN0b3JlLmNvbW1pdCgnU0VUUk9MRUdPT0RTQ1VSUkVOVERBVEEnLCBkYXRhKTsKICAgIH0sCiAgICAvLyDojrflj5blvZPliY3kurrlkZjnsbvlnovoj5zlk4EKICAgIGdldEN1cnJlbnRSb2xlR29vZHM6IGZ1bmN0aW9uIGdldEN1cnJlbnRSb2xlR29vZHMocm9sZUlkKSB7CiAgICAgIHJldHVybiBfLmZpbHRlcih0aGlzLlJvbGVHb29kc0xpc3QsIGZ1bmN0aW9uIChjdXIpIHsKICAgICAgICByZXR1cm4gY3VyLnJvbGVfaWQgPT0gcm9sZUlkOwogICAgICB9KTsKICAgIH0sCiAgICAvL+iOt+WPluS6uuWRmOexu+Wei+mFjee9rumcgOimgeeahOmkkOenjeWIl+ihqAogICAgcXVlcnlHb29kc0xpc3Q6IGZ1bmN0aW9uICgpIHsKICAgICAgdmFyIF9xdWVyeUdvb2RzTGlzdCA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTIocGFnZSwgcGFnZV9zaXplKSB7CiAgICAgICAgdmFyIHBhcmFtczsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTIkKF9jb250ZXh0MikgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDIucHJldiA9IF9jb250ZXh0Mi5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgcGFyYW1zID0gewogICAgICAgICAgICAgICAgICBtZXJjaGFudF9pZDogdGhpcy5jdXJNZXJjaGFudElkLAogICAgICAgICAgICAgICAgICBpc19lbmFibGU6IDEsCiAgICAgICAgICAgICAgICAgIHBhZ2U6IHBhZ2UgfHwgMSwKICAgICAgICAgICAgICAgICAgcGFnZV9zaXplOiBwYWdlX3NpemUgfHwgdGhpcy4kcGFyZW50LnBhZ2Vfc2l6ZQogICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gMzsKICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLiRzdG9yZS5kaXNwYXRjaCgnZ29vZHNMaXN0JywgcGFyYW1zKTsKCiAgICAgICAgICAgICAgY2FzZSAzOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5hYnJ1cHQoInJldHVybiIsIF9jb250ZXh0Mi5zZW50KTsKCiAgICAgICAgICAgICAgY2FzZSA0OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyLnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUyLCB0aGlzKTsKICAgICAgfSkpOwoKICAgICAgZnVuY3Rpb24gcXVlcnlHb29kc0xpc3QoX3gsIF94MikgewogICAgICAgIHJldHVybiBfcXVlcnlHb29kc0xpc3QuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgICAgfQoKICAgICAgcmV0dXJuIHF1ZXJ5R29vZHNMaXN0OwogICAgfSgpLAogICAgLy/ojrflj5bkurrlkZjnsbvlnovphY3nva7ppJDnp43liJfooagKICAgIHF1ZXJ5Um9sZUdvb2RzTGlzdDogZnVuY3Rpb24gcXVlcnlSb2xlR29vZHNMaXN0KHBhZ2UsIHBhZ2Vfc2l6ZSkgewogICAgICB2YXIgX3RoaXMyID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUzKCkgewogICAgICAgIHZhciBwYXJhbXM7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUzJChfY29udGV4dDMpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQzLnByZXYgPSBfY29udGV4dDMubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIHBhcmFtcyA9IHsKICAgICAgICAgICAgICAgICAgbWVyY2hhbnRfaWQ6IF90aGlzMi5jdXJNZXJjaGFudElkLAogICAgICAgICAgICAgICAgICAvLyByb2xlX2lkOiAnJywKICAgICAgICAgICAgICAgICAgcGFnZTogcGFnZSB8fCAxLAogICAgICAgICAgICAgICAgICBwYWdlX3NpemU6IHBhZ2Vfc2l6ZSB8fCBfdGhpczIuJHBhcmVudC5wYWdlX3NpemUKICAgICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgICBfY29udGV4dDMubmV4dCA9IDM7CiAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMyLiRzdG9yZS5kaXNwYXRjaCgnZ2V0Um9sZUdvb2RzTGlzdCcsIHBhcmFtcyk7CgogICAgICAgICAgICAgIGNhc2UgMzoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDMuYWJydXB0KCJyZXR1cm4iLCBfY29udGV4dDMuc2VudCk7CgogICAgICAgICAgICAgIGNhc2UgNDoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0My5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlMyk7CiAgICAgIH0pKSgpOwogICAgfQogIH0KfTs="},{"version":3,"sources":["table.vue"],"names":[],"mappings":"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","sourcesContent":["<!-- 人员类型列表 -->\n<template>\n  <div class=\"card\">\n    <Table border stripe :columns='columns' :data='roleList.result' :loading=\"loading\">\n      <template slot=\"is_enable\" slot-scope=\"{ row }\">\n        <Tag :color=\"row.is_enable==1?'green':'volcano'\">{{row.is_enable==1?'有效':'无效'}}</Tag>\n      </template>\n      <template slot=\"handle\" slot-scope=\"{ row }\">\n        <Button type=\"primary\" ghost size=\"small\" icon=\"md-build\" style=\"border:0;\" @click=\"handleRoleGoods(row)\">配置餐种</Button>\n        <Button type=\"primary\" ghost size=\"small\" icon=\"md-create\" style=\"border:0;\" @click=\"handleEdit(row)\">修改人员类型</Button>\n      </template>\n    </Table>\n  </div>\n</template>\n<script>\nimport * as dataConfig from '../dataConfig';\nimport _ from \"underscore\";\n\nexport default {\n  name: 'SearchTable',\n  // props: {\n  //   value: Array\n  // },\n  data() {\n    return {\n      columns: [],\n\n    };\n  },\n\n  components: {},\n\n  computed: {\n    curMerchantId(){\n      return this.$store.state.user.curMerchantId;\n    },\n    roleList() {\n      return this.$store.state.role.roleList;\n    },\n    loading() {\n      return this.$store.state.app.tableLoading;\n    },\n    GoodsList() {\n      return _.filter(this.$store.state.goods.goodsList.result, cur => {return cur.is_enable === 1;});\n    },\n    RoleGoodsList() {\n      return this.$store.state.role.roleGoodsList.result;\n    },\n\n  },\n\n  async mounted() {\n    this.init();\n    await this.queryGoodsList();\n    await this.queryRoleGoodsList();\n  },\n\n  methods: {\n    init() {\n      this.columns = dataConfig.columns;\n    },\n    handleEdit(row){\n      let data = {\n        role_id: row.role_id,\n        name: row.name,\n        is_enable: row.is_enable.toString(),\n      }\n      this.$store.commit('setEditRoleModal', true);\n      this.$store.commit('SETROLECURRENTDATA', data);\n    },\n\n    handleRoleGoods(row){\n      let data = {\n        role_id: row.role_id,\n        role_name: row.name,\n        goods: [],\n      };\n\n      // console.log(\"handleRoleGoods===out>>>\" + JSON.stringify(this.getCurrentRoleGoods(data.role_id)))\n      // 处理人员类型配置菜单\n      if (JSON.stringify(this.getCurrentRoleGoods(data.role_id)) == '[]'){\n        console.log(\"handleRoleGoods===>>>\" + JSON.stringify(this.getCurrentRoleGoods(data.role_id)))\n        for (let item of this.GoodsList){\n          let dataItem = {\n            // menu_id: null,\n            goods_id: null,\n            goods_name: '',\n            price: '',\n            role_status: false\n          };\n          dataItem.goods_id = item.goods_id;\n          dataItem.goods_name = item.goods_name;\n\n          data.goods.push(dataItem);\n        };\n      }\n      else{\n        //如果当前人员类型有配置就餐信息，则初始化传送过去的数据\n        let roleGoods = this.getCurrentRoleGoods(data.role_id);\n\n        // console.log(\"===>roleGoods===roleGoods:\" + JSON.stringify(roleGoods));\n        let isFind = 0;\n\n        for (let item of this.GoodsList)\n        {\n          // console.log(\"===>GoodsList===goods:\" + JSON.stringify(this.GoodsList));\n          // console.log(\"===>GoodsList===goodid:\" + item.goods_id + \", goodsname:\" + item.goods_name);\n          isFind = false;\n          for (let roleGoodsItem of roleGoods){\n            // console.log(\"===>roleGoodsItem===goodid:\" + roleGoodsItem.goods_id + \", goodsname:\" + roleGoodsItem.goods_name);\n            if (item.goods_id == roleGoodsItem.goods_id){\n              isFind = true;\n\n              let dataItem = {\n                // menu_id: null,\n                goods_id: '',\n                goods_name: '',\n                price: '',\n                role_status: false\n              };\n\n              dataItem = roleGoodsItem;\n              dataItem.role_status = true;\n              data.goods.push(dataItem);\n              // roleGoodsItem['role_status'] = \"1\";\n              // Object.assign(roleGoodsItem, {'role_status' : \"1\"})\n              break;\n            }\n          }\n          if (!isFind){\n            let dataItem = {\n              // menu_id: null,\n              goods_id: '',\n              goods_name: '',\n              price: '',\n              role_status: false\n            };\n            dataItem.goods_id = item.goods_id;\n            dataItem.goods_name = item.goods_name;\n\n            data.goods.push(dataItem);\n          }\n        };\n      }\n\n      this.$store.commit('setRoleGoodsModal', true);\n      this.$store.commit('SETROLEGOODSCURRENTDATA', data);\n    },\n\n    // 获取当前人员类型菜品\n    getCurrentRoleGoods(roleId) {\n      return _.filter(this.RoleGoodsList, cur => {return cur.role_id == roleId });\n    },\n\n    //获取人员类型配置需要的餐种列表\n    queryGoodsList: async function(page, page_size) {\n      let params = {\n        merchant_id: this.curMerchantId,\n        is_enable: 1,\n        page: page || 1,\n        page_size: page_size || this.$parent.page_size\n      };\n      return await this.$store.dispatch('goodsList', params);\n    },\n    //获取人员类型配置餐种列表\n    async queryRoleGoodsList(page, page_size) {\n      let params = {\n        merchant_id: this.curMerchantId,\n        // role_id: '',\n        page: page || 1,\n        page_size: page_size || this.$parent.page_size\n      };\n      return await this.$store.dispatch('getRoleGoodsList', params);\n    },\n  }\n}\n</script>\n<style lang='less' scoped>\n</style>\n"],"sourceRoot":"src/views/setting/role-setting/components"}]}