{"remainingRequest":"/Users/zhang/工作/pic_ad/node_modules/babel-loader/lib/index.js!/Users/zhang/工作/pic_ad/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/zhang/工作/pic_ad/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/zhang/工作/pic_ad/src/views/staff-management/dining-staff/components/add-employee.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/zhang/工作/pic_ad/src/views/staff-management/dining-staff/components/add-employee.vue","mtime":1639449930006},{"path":"/Users/zhang/工作/pic_ad/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/zhang/工作/pic_ad/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/zhang/工作/pic_ad/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/zhang/工作/pic_ad/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyIGZyb20gIi9Vc2Vycy96aGFuZy9cdTVERTVcdTRGNUMvcGljX2FkL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyIjsKaW1wb3J0IF9vYmplY3RTcHJlYWQgZnJvbSAiL1VzZXJzL3poYW5nL1x1NURFNVx1NEY1Qy9waWNfYWQvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL29iamVjdFNwcmVhZDIiOwppbXBvcnQgX2FzeW5jVG9HZW5lcmF0b3IgZnJvbSAiL1VzZXJzL3poYW5nL1x1NURFNVx1NEY1Qy9waWNfYWQvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2FzeW5jVG9HZW5lcmF0b3IiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5mdW5jdGlvbi5uYW1lLmpzIjsKaW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUuanMiOwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwppbXBvcnQgKiBhcyBkYXRhQ29uZmlnIGZyb20gJy4uL2RhdGFDb25maWcnOwppbXBvcnQgbWQ1IGZyb20gJ2pzLW1kNSc7CmltcG9ydCBfIGZyb20gJ3VuZGVyc2NvcmUnOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogJ2VtcGxveWVlTW9kYWwnLAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBsb2FkaW5nOiBmYWxzZSwKICAgICAgYWRkVGV4dDogIua3u+WKoCIsCiAgICAgIGNvbHVtbnM6IFtdLAogICAgICB0YWJsZURhdGE6IFtdLAogICAgICBmb3JtVmFsaWRhdGU6IHsKICAgICAgICBxdWVyeTogJycsCiAgICAgICAgcm9sZV9pZDogdW5kZWZpbmVkCiAgICAgIH0KICAgIH07CiAgfSwKICAvLyBjcmVhdGVkKCkgewogIC8vICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoImtleWRvd24iLCB0aGlzLmhhbmRsZUtleURvd24sIHRydWUpOyAvL+W8gOWQr+ebkeWQrOmUruebmOaMieS4i+S6i+S7tgogIC8vIH0sCiAgY29tcG9uZW50czoge30sCiAgY29tcHV0ZWQ6IHsKICAgIGN1cnJlbnRPcmdJZDogZnVuY3Rpb24gY3VycmVudE9yZ0lkKCkgewogICAgICByZXR1cm4gdGhpcy4kc3RvcmUuc3RhdGUudXNlci5jdXJPcmdJZDsKICAgIH0sCiAgICBzZXNzaW9uSWQ6IGZ1bmN0aW9uIHNlc3Npb25JZCgpIHsKICAgICAgcmV0dXJuIHRoaXMuJHN0b3JlLnN0YXRlLnVzZXIudG9rZW47CiAgICB9LAogICAgZW1wVXNlckNvZGU6IGZ1bmN0aW9uIGVtcFVzZXJDb2RlKCkgewogICAgICByZXR1cm4gdGhpcy4kc3RvcmUuc3RhdGUudXNlci5lbXBVc2VyQ29kZTsKICAgIH0sCiAgICBjdXJyZW50TWVyY2hhbnRJZDogZnVuY3Rpb24gY3VycmVudE1lcmNoYW50SWQoKSB7CiAgICAgIHJldHVybiB0aGlzLiRzdG9yZS5zdGF0ZS51c2VyLmN1ck1lcmNoYW50SWQ7CiAgICB9LAogICAgY3VycmVudE1lcmNoYW50TmFtZTogZnVuY3Rpb24gY3VycmVudE1lcmNoYW50TmFtZSgpIHsKICAgICAgcmV0dXJuIHRoaXMuJHN0b3JlLnN0YXRlLnVzZXIuY3VyTWVyY2hhbnROYW1lOwogICAgfSwKICAgIHJvbGVMaXN0OiBmdW5jdGlvbiByb2xlTGlzdCgpIHsKICAgICAgcmV0dXJuIHRoaXMuJHN0b3JlLnN0YXRlLnJvbGUucm9sZUxpc3QucmVzdWx0OwogICAgfQogIH0sCiAgbWV0aG9kczogewogICAgaGFuZGxlS2V5RG93bjogZnVuY3Rpb24gaGFuZGxlS2V5RG93bihlKSB7CiAgICAgIHZhciBrZXkgPSBudWxsOwoKICAgICAgaWYgKHdpbmRvdy5ldmVudCA9PT0gdW5kZWZpbmVkKSB7CiAgICAgICAga2V5ID0gZS5rZXlDb2RlOwogICAgICB9IGVsc2UgewogICAgICAgIGtleSA9IHdpbmRvdy5ldmVudC5rZXlDb2RlOwogICAgICB9CgogICAgICBpZiAoa2V5ID09PSAxMykgewogICAgICAgIGNvbnNvbGUubG9nKCJFbnRlcj09PT0+Pj4+Pj4iKTsgLy/op6blj5HnmoTkuovku7YKCiAgICAgICAgdGhpcy5xdWVyeUVtcGxveWVlTGlzdCgpOwogICAgICB9CiAgICB9LAogICAgLy/mn6Xor6LkvIHkuJrlkZjlt6Xkv6Hmga8KICAgIHF1ZXJ5RW1wbG95ZWVMaXN0OiBmdW5jdGlvbiAoKSB7CiAgICAgIHZhciBfcXVlcnlFbXBsb3llZUxpc3QgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoKSB7CiAgICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgICAgdmFyIGFkbWlubmFtZSwgcGFyYW1zOwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCI9PT09PXF1ZXJ5RW1wbG95ZWVMaXN0PT09PT0iKTsKICAgICAgICAgICAgICAgIGFkbWlubmFtZSA9IHRoaXMuZm9ybVZhbGlkYXRlLnF1ZXJ5IHx8ICcnOwoKICAgICAgICAgICAgICAgIGlmICghKGFkbWlubmFtZS5sZW5ndGggPT0gMCkpIHsKICAgICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDU7CiAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIHRoaXMuJE1lc3NhZ2UuZXJyb3IoJ+ivt+i+k+WFpeimgeafpeivouS6uuWRmOWnk+WQjeaIluaJi+acuuWPt+S/oeaBr++8gScpOwogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LmFicnVwdCgicmV0dXJuIik7CgogICAgICAgICAgICAgIGNhc2UgNToKICAgICAgICAgICAgICAgIHRoaXMubG9hZGluZyA9IHRydWU7CiAgICAgICAgICAgICAgICBwYXJhbXMgPSBfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoe30sIHRoaXMuZm9ybVZhbGlkYXRlKSwge30sIHsKICAgICAgICAgICAgICAgICAgc2Vzc2lvbmlkOiB0aGlzLnNlc3Npb25JZCwKICAgICAgICAgICAgICAgICAgb3JnX2lkOiB0aGlzLmN1cnJlbnRPcmdJZCwKICAgICAgICAgICAgICAgICAgdXNlcmNvZGU6IHRoaXMuZW1wVXNlckNvZGUsCiAgICAgICAgICAgICAgICAgIHN0YXR1czogMSwKICAgICAgICAgICAgICAgICAgbGltaXQ6IDEwMDAKICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDk7CiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy4kc3RvcmUuZGlzcGF0Y2goJ2VtcGxveWVlTGlzdCcsIHBhcmFtcykudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgICAgICAgICAgIF90aGlzLmxvYWRpbmcgPSBmYWxzZTsKICAgICAgICAgICAgICAgICAgX3RoaXMudGFibGVEYXRhID0gW107CgogICAgICAgICAgICAgICAgICB2YXIgX2l0ZXJhdG9yID0gX2NyZWF0ZUZvck9mSXRlcmF0b3JIZWxwZXIocmVzLnJvd3MpLAogICAgICAgICAgICAgICAgICAgICAgX3N0ZXA7CgogICAgICAgICAgICAgICAgICB0cnkgewogICAgICAgICAgICAgICAgICAgIGZvciAoX2l0ZXJhdG9yLnMoKTsgIShfc3RlcCA9IF9pdGVyYXRvci5uKCkpLmRvbmU7KSB7CiAgICAgICAgICAgICAgICAgICAgICB2YXIgaXRlbSA9IF9zdGVwLnZhbHVlOwogICAgICAgICAgICAgICAgICAgICAgaXRlbVsncm9sZV9pZCddID0gMDsKCiAgICAgICAgICAgICAgICAgICAgICBfdGhpcy50YWJsZURhdGEucHVzaChpdGVtKTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGVycikgewogICAgICAgICAgICAgICAgICAgIF9pdGVyYXRvci5lKGVycik7CiAgICAgICAgICAgICAgICAgIH0gZmluYWxseSB7CiAgICAgICAgICAgICAgICAgICAgX2l0ZXJhdG9yLmYoKTsKICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSlbImNhdGNoIl0oZnVuY3Rpb24gKGVycikgewogICAgICAgICAgICAgICAgICBfdGhpcy5sb2FkaW5nID0gZmFsc2U7CiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgY2FzZSA5OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZSwgdGhpcyk7CiAgICAgIH0pKTsKCiAgICAgIGZ1bmN0aW9uIHF1ZXJ5RW1wbG95ZWVMaXN0KCkgewogICAgICAgIHJldHVybiBfcXVlcnlFbXBsb3llZUxpc3QuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgICAgfQoKICAgICAgcmV0dXJuIHF1ZXJ5RW1wbG95ZWVMaXN0OwogICAgfSgpLAogICAgaW5pdDogZnVuY3Rpb24gaW5pdCgpIHsKICAgICAgdGhpcy5jb2x1bW5zID0gZGF0YUNvbmZpZy5lbXBsb3llZUNvbHVtbnM7CiAgICB9LAogICAgYWRkRW1wbG95ZWVUb1VzZXI6IGZ1bmN0aW9uICgpIHsKICAgICAgdmFyIF9hZGRFbXBsb3llZVRvVXNlciA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTIoZW1wbG95ZWUpIHsKICAgICAgICB2YXIgcGFyYW1zLCBwYXJhbXNEYXRhLCBCYXNlNjQsIGRldGFpbHMsIHJlcVBhcmFtcywgcmVzOwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMiQoX2NvbnRleHQyKSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0Mi5wcmV2ID0gX2NvbnRleHQyLm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygn5re75Yqg5b2T5YmN6KGMLS0tcm93JywgZW1wbG95ZWUpOwogICAgICAgICAgICAgICAgcGFyYW1zID0gewogICAgICAgICAgICAgICAgICBtZXJjaGFudF9pZDogdGhpcy4kc3RvcmUuc3RhdGUudXNlci5jdXJNZXJjaGFudElkLAogICAgICAgICAgICAgICAgICB1c2VyX3R5cGU6IDEsCiAgICAgICAgICAgICAgICAgIHJvbGVfaWQ6IGVtcGxveWVlLnJvbGVfaWQsCiAgICAgICAgICAgICAgICAgIGlkX25vOiBlbXBsb3llZS5pZF9ubywKICAgICAgICAgICAgICAgICAgY2FyZF9ubzogJycsCiAgICAgICAgICAgICAgICAgIGV4dF9lbXBfaWQ6IGVtcGxveWVlLmV4dF9lbXBfaWQsCiAgICAgICAgICAgICAgICAgIG5hbWU6IGVtcGxveWVlLm5hbWUsCiAgICAgICAgICAgICAgICAgIGNfdXNlcmNvZGU6IGVtcGxveWVlLmNfdXNlcmNvZGUsCiAgICAgICAgICAgICAgICAgIGNpdHk6IGVtcGxveWVlLmNpdHksCiAgICAgICAgICAgICAgICAgIHBob25lczogZW1wbG95ZWUucGhvbmVzLAogICAgICAgICAgICAgICAgICBleHRfdXNlcl9pZDogZW1wbG95ZWUuZXh0X3VzZXJfaWQsCiAgICAgICAgICAgICAgICAgIG9yZ19pZDogZW1wbG95ZWUub3JnX2lkLAogICAgICAgICAgICAgICAgICBkZXBhcnRtZW50czogZW1wbG95ZWUuZGVwYXJ0bWVudHMsCiAgICAgICAgICAgICAgICAgIGRlcGFydG1lbnQ6IGVtcGxveWVlLmRlcGFydG1lbnRfaWQsCiAgICAgICAgICAgICAgICAgIGRlcGFydG1lbnRfbmFtZTogZW1wbG95ZWUuZGVwYXJ0bWVudF9uYW1lLAogICAgICAgICAgICAgICAgICB1c2VyY29kZTogZW1wbG95ZWUudXNlcmNvZGUsCiAgICAgICAgICAgICAgICAgIGlzX2FkbWluOiBlbXBsb3llZS5pc19hZG1pbiwKICAgICAgICAgICAgICAgICAgaXNfd2FsbGV0X2FkbWluOiBlbXBsb3llZS5pc193YWxsZXRfYWRtaW4sCiAgICAgICAgICAgICAgICAgIG9yZ19uYW1lOiBlbXBsb3llZS5vcmdfbmFtZSwKICAgICAgICAgICAgICAgICAgZW1haWxzOiBlbXBsb3llZS5lbWFpbHMKICAgICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgICBwYXJhbXNEYXRhID0gW107CiAgICAgICAgICAgICAgICBwYXJhbXNEYXRhLnB1c2gocGFyYW1zKTsKICAgICAgICAgICAgICAgIEJhc2U2NCA9IHJlcXVpcmUoJ2pzLWJhc2U2NCcpLkJhc2U2NDsKICAgICAgICAgICAgICAgIGRldGFpbHMgPSBCYXNlNjQuZW5jb2RlKEpTT04uc3RyaW5naWZ5KHBhcmFtc0RhdGEpKTsKICAgICAgICAgICAgICAgIHJlcVBhcmFtcyA9IHsKICAgICAgICAgICAgICAgICAgc2Vzc2lvbmlkOiB0aGlzLiRzdG9yZS5zdGF0ZS51c2VyLnRva2VuLAogICAgICAgICAgICAgICAgICB1c2VyX2RldGFpbDogZGV0YWlscwogICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5wcmV2ID0gNzsKICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gMTA7CiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy4kc3RvcmUuZGlzcGF0Y2goJ3VzZXJBZGQnLCByZXFQYXJhbXMpOwoKICAgICAgICAgICAgICBjYXNlIDEwOgogICAgICAgICAgICAgICAgcmVzID0gX2NvbnRleHQyLnNlbnQ7CgogICAgICAgICAgICAgICAgaWYgKCEocmVzICYmIF8uaGFzKHJlcywgJ3JldHVybl9jb2RlJykgJiYgcmVzLnJldHVybl9jb2RlID09IDApKSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gMTg7CiAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIHRoaXMuJE1lc3NhZ2Uuc3VjY2Vzcygn5re75Yqg5bCx6aSQ5Lq65ZGY5oiQ5Yqf77yBJyk7CiAgICAgICAgICAgICAgICB0aGlzLiRwYXJlbnQucXVlcnkoKTsKICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gMTY7CiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy4kcGFyZW50LmdldE1lcmNoYW50Q2hpbGREZXBhcnRtZW50KCk7CgogICAgICAgICAgICAgIGNhc2UgMTY6CiAgICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDE5OwogICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgIGNhc2UgMTg6CiAgICAgICAgICAgICAgICB0aGlzLiRNZXNzYWdlLmVycm9yKCLplJnor6/noIHvvJoiICsgcmVzLnJldHVybl9jb2RlICsgIiwg6ZSZ6K+v5L+h5oGv77yaIiArIHJlcy5yZXR1cm5fbWVzc2FnZSk7CgogICAgICAgICAgICAgIGNhc2UgMTk6CiAgICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDI0OwogICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgIGNhc2UgMjE6CiAgICAgICAgICAgICAgICBfY29udGV4dDIucHJldiA9IDIxOwogICAgICAgICAgICAgICAgX2NvbnRleHQyLnQwID0gX2NvbnRleHQyWyJjYXRjaCJdKDcpOwogICAgICAgICAgICAgICAgY29uc29sZS5sb2coX2NvbnRleHQyLnQwKTsKCiAgICAgICAgICAgICAgY2FzZSAyNDoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlMiwgdGhpcywgW1s3LCAyMV1dKTsKICAgICAgfSkpOwoKICAgICAgZnVuY3Rpb24gYWRkRW1wbG95ZWVUb1VzZXIoX3gpIHsKICAgICAgICByZXR1cm4gX2FkZEVtcGxveWVlVG9Vc2VyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICAgIH0KCiAgICAgIHJldHVybiBhZGRFbXBsb3llZVRvVXNlcjsKICAgIH0oKQogIH0sCiAgbW91bnRlZDogZnVuY3Rpb24gbW91bnRlZCgpIHsKICAgIHRoaXMuaW5pdCgpOwogIH0KfTs="},{"version":3,"sources":["add-employee.vue"],"names":[],"mappings":"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","sourcesContent":["<!-- 添加独立就餐人员 -->\n<template>\n  <div>\n    <div class=\"margin-top-10\">\n      <Form inline :model=\"formValidate\" label-colon @keyup.enter.prevent=''>\n        <FormItem label=\"关键字\">\n          <Input :style=\"{width: '310px'}\" clearable @keyup.enter.native=\"queryEmployeeList\" v-model=\"formValidate.query\" placeholder=\"用户姓名/手机号/数字账号/员工ID\" />\n          <Input type=\"text\" v-show=\"false\" style=\"width: 1px;\"/>\n        </FormItem>\n        <FormItem>\n          <Button type='primary' icon=\"md-search\" @click=\"queryEmployeeList()\">查询</Button>\n        </FormItem>\n      </Form>\n    </div>\n    <div>\n      <Table border stripe :columns='columns' :data='tableData' :loading=\"loading\">\n        <template slot=\"status\" slot-scope=\"{ row }\">\n          <Tag :color=\"row.status==1?'green':'volcano'\">{{row.status == 1 ? '正常' : '已删除'}}</Tag>\n        </template>\n        <template slot=\"userroletype\" slot-scope=\"{ row }\">\n          <Select placeholder=\"人员类型\" v-model=\"row.role_id\">\n            <Option v-for=\"item in roleList\" :key=\"item.role_id\" :value=\"item.role_id\" :label=\"item.name\">{{ item.name }}</Option>\n          </Select>\n        </template>\n        <template slot=\"handle\" slot-scope=\"{ row }\">\n          <Button type=\"success\" ghost size=\"small\" @click=\"addEmployeeToUser(row)\">{{addText}}</Button>\n        </template>\n      </Table>\n    </div>\n\n  </div>\n</template>\n\n<script>\nimport * as dataConfig from '../dataConfig';\nimport md5 from 'js-md5';\nimport _ from 'underscore';\n\nexport default {\n  name: 'employeeModal',\n  data() {\n    return {\n      loading: false,\n      addText: \"添加\",\n      columns: [],\n      tableData: [],\n      formValidate: {\n        query: '',\n        role_id: undefined,\n      },\n\n    };\n  },\n\n  // created() {\n  //   window.addEventListener(\"keydown\", this.handleKeyDown, true); //开启监听键盘按下事件\n  // },\n\n  components: {},\n\n  computed: {\n\n    currentOrgId() {\n      return this.$store.state.user.curOrgId;\n    },\n    sessionId() {\n      return this.$store.state.user.token;\n    },\n    empUserCode() {\n      return this.$store.state.user.empUserCode;\n    },\n    currentMerchantId(){\n      return this.$store.state.user.curMerchantId;\n    },\n    currentMerchantName(){\n      return this.$store.state.user.curMerchantName;\n    },\n    roleList(){\n      return this.$store.state.role.roleList.result;\n    },\n\n  },\n\n  methods: {\n    handleKeyDown(e) {\n      let key = null;\n      if (window.event === undefined) {\n        key = e.keyCode;\n      } else {\n        key = window.event.keyCode;\n      }\n      if (key === 13) {\n        console.log(\"Enter====>>>>>>\")\n        //触发的事件\n        this.queryEmployeeList();\n      }\n    },\n\n    //查询企业员工信息\n    queryEmployeeList: async function() {\n      console.log(\"=====queryEmployeeList=====\")\n      let adminname = this.formValidate.query || '';\n      if (adminname.length == 0){\n        this.$Message.error('请输入要查询人员姓名或手机号信息！');\n        return;\n      }\n\n      this.loading = true;\n      let params = {\n        ...this.formValidate,\n        sessionid: this.sessionId,\n        org_id: this.currentOrgId,\n        usercode: this.empUserCode,\n        status: 1,\n        limit: 1000\n      };\n\n      await this.$store.dispatch('employeeList', params).then(res=>{\n        this.loading = false;\n        this.tableData = [];\n        for (let item of res.rows){\n          item['role_id'] = 0;\n          this.tableData.push(item);\n        }\n\n      }).catch(err=>{\n        this.loading = false;\n      });\n\n    },\n\n    init() {\n      this.columns = dataConfig.employeeColumns;\n\n    },\n    addEmployeeToUser: async function(employee){\n\n      console.log('添加当前行---row',employee)\n      let params = {\n        merchant_id: this.$store.state.user.curMerchantId,\n        user_type: 1,\n        role_id: employee.role_id,\n        id_no: employee.id_no,\n        card_no: '',\n        ext_emp_id: employee.ext_emp_id,\n        name: employee.name,\n        c_usercode: employee.c_usercode,\n        city: employee.city,\n        phones: employee.phones,\n        ext_user_id: employee.ext_user_id,\n        org_id: employee.org_id,\n        departments: employee.departments,\n        department: employee.department_id,\n        department_name: employee.department_name,\n        usercode: employee.usercode,\n        is_admin: employee.is_admin,\n        is_wallet_admin: employee.is_wallet_admin,\n        org_name: employee.org_name,\n        emails: employee.emails,\n      };\n\n      let paramsData = [];\n      paramsData.push(params);\n\n      let Base64 = require('js-base64').Base64;\n      let details = Base64.encode(JSON.stringify(paramsData));\n\n      let reqParams = {\n        sessionid: this.$store.state.user.token,\n        user_detail: details,\n      };\n\n      try {\n        let res = await this.$store.dispatch('userAdd', reqParams);\n        if(res && _.has(res, 'return_code') && res.return_code==0){\n          this.$Message.success('添加就餐人员成功！');\n          this.$parent.query();\n          await this.$parent.getMerchantChildDepartment();\n        }\n        else{\n          this.$Message.error(\"错误码：\" + res.return_code + \", 错误信息：\" + res.return_message);\n        }\n      } catch(e) {\n        console.log(e);\n      }\n    }\n\n  },\n\n  mounted() {\n    this.init();\n\n  },\n\n}\n\n</script>\n\n<style lang='less' scoped>\n\n.ivu-table-wrapper{\n  // min-height: calc(80vh - 100px);\n  overflow: visible !important;\n}\n\n.ivu-form-item /deep/.ivu-form-item-content {\n  display: inline-block !important;\n}\n</style>\n"],"sourceRoot":"src/views/staff-management/dining-staff/components"}]}