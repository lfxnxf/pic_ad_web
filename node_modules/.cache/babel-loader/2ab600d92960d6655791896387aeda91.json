{"remainingRequest":"/Users/zhang/canteen_manage/node_modules/babel-loader/lib/index.js!/Users/zhang/canteen_manage/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/zhang/canteen_manage/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/zhang/canteen_manage/src/views/businessinfo/basic-information/index.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/zhang/canteen_manage/src/views/businessinfo/basic-information/index.vue","mtime":1638355006773},{"path":"/Users/zhang/canteen_manage/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/zhang/canteen_manage/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/zhang/canteen_manage/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/zhang/canteen_manage/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9vYmplY3RTcHJlYWQgZnJvbSAiL1VzZXJzL3poYW5nL2NhbnRlZW5fbWFuYWdlL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9vYmplY3RTcHJlYWQyIjsKaW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIi9Vc2Vycy96aGFuZy9jYW50ZWVuX21hbmFnZS9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXN5bmNUb0dlbmVyYXRvciI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LnNwbGljZS5qcyI7CmltcG9ydCAicmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lLmpzIjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICdCdXNpbmVzc0luZm9ybWF0aW9uJywKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgZWRpdDogZmFsc2UsCiAgICAgIGVkaXRQYXJhbXM6IHsKICAgICAgICBtZXJjaGFudF9jb2RlOiAnJywKICAgICAgICBwYXltZW50X3R5cGU6ICcnLAogICAgICAgIHVzZXJjb2RlOiAnJywKICAgICAgICBjb250YWN0OiAnJywKICAgICAgICBsaW5rX3RlbDogJycsCiAgICAgICAgYWRkcmVzczogJycsCiAgICAgICAgZGVzY3JpdGlvbjogJycsCiAgICAgICAgaXNfZW5hYmxlOiAnJywKICAgICAgICBkZWZhdWx0X2ltYWdlOiAnJywKICAgICAgICByZW1hcms6ICcnCiAgICAgIH0sCiAgICAgIHVwbG9hZFR5cGU6IFsnanBnJywgJ2pwZWcnLCAncG5nJywgJ2dpdCddLAogICAgICBwcm9ncmVzczogZmFsc2UsCiAgICAgIHVwbG9hZFVybDogcmVxdWlyZSgnQGFzc2V0cy9pbWFnZXMvY3VwLnBuZycpLAogICAgICB1cGxvYWRUaXRsZTogdHJ1ZQogICAgfTsKICB9LAogIGNvbXBvbmVudHM6IHt9LAogIGNvbXB1dGVkOiB7CiAgICBtZXJjaGFudERhdGE6IGZ1bmN0aW9uIG1lcmNoYW50RGF0YSgpIHsKICAgICAgcmV0dXJuIHRoaXMuJHN0b3JlLnN0YXRlLm1lcmNoYW50Lm1lcmNoYW50RGF0YTsKICAgIH0KICB9LAogIG1ldGhvZHM6IHsKICAgIHF1ZXJ5OiBmdW5jdGlvbiAoKSB7CiAgICAgIHZhciBfcXVlcnkgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoKSB7CiAgICAgICAgdmFyIHBhcmFtczsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBwYXJhbXMgPSB7CiAgICAgICAgICAgICAgICAgIG1lcmNoYW50X2lkOiB0aGlzLiRzdG9yZS5zdGF0ZS51c2VyLmN1ck1lcmNoYW50SWQKICAgICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMzsKICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLiRzdG9yZS5kaXNwYXRjaCgnbWVyY2hhbnREZXRhaWwnLCBwYXJhbXMpOwoKICAgICAgICAgICAgICBjYXNlIDM6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlLCB0aGlzKTsKICAgICAgfSkpOwoKICAgICAgZnVuY3Rpb24gcXVlcnkoKSB7CiAgICAgICAgcmV0dXJuIF9xdWVyeS5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgICB9CgogICAgICByZXR1cm4gcXVlcnk7CiAgICB9KCksCiAgICBoYW5kbGVFZGl0OiBmdW5jdGlvbiBoYW5kbGVFZGl0KCkgewogICAgICB0aGlzLmVkaXQgPSB0cnVlOwogICAgICB0aGlzLmVkaXRQYXJhbXMgPSB0aGlzLm1lcmNoYW50RGF0YTsKICAgICAgdGhpcy5lZGl0UGFyYW1zLmlzX2VuYWJsZSA9IHRoaXMubWVyY2hhbnREYXRhLmlzX2VuYWJsZSArICcnOwogICAgfSwKICAgIGhhbmRsZUNvbW1pdDogZnVuY3Rpb24gaGFuZGxlQ29tbWl0KCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgdGhpcy5lZGl0ID0gZmFsc2U7CgogICAgICB2YXIgcGFyYW1zID0gX29iamVjdFNwcmVhZCh7CiAgICAgICAgbWVyY2hhbnRfaWQ6IHRoaXMubWVyY2hhbnREYXRhLm1lcmNoYW50X2lkCiAgICAgIH0sIHRoaXMuZWRpdFBhcmFtcyk7CgogICAgICB0aGlzLiRzdG9yZS5kaXNwYXRjaCgnbWVyY2hhbnRFZGl0JywgcGFyYW1zKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICBpZiAocmVzLnJldHVybl9jb2RlID09IDApIHsKICAgICAgICAgIF90aGlzLiRNZXNzYWdlLnN1Y2Nlc3MoJ+S/ruaUueaIkOWKn++8gScpOwoKICAgICAgICAgIF90aGlzLnF1ZXJ5KCk7CiAgICAgICAgfQogICAgICB9KTsKICAgIH0sCiAgICBoYW5kbGVDYW5jZWw6IGZ1bmN0aW9uIGhhbmRsZUNhbmNlbCgpIHsKICAgICAgdGhpcy5lZGl0ID0gZmFsc2U7CiAgICAgIHRoaXMucXVlcnkoKTsKICAgIH0sCiAgICB1cGxvYWRQcm9ncmVzczogZnVuY3Rpb24gdXBsb2FkUHJvZ3Jlc3MoZXZlbnQsIGZpbGUsIGZpbGVMaXN0KSB7CiAgICAgIHRoaXMucHJvZ3Jlc3MgPSB0cnVlOwoKICAgICAgaWYgKGZpbGVMaXN0Lmxlbmd0aCA+IDEpIHsKICAgICAgICBmaWxlTGlzdCA9IGZpbGVMaXN0LnNwbGljZSgwLCAxKTsKICAgICAgfQogICAgfSwKICAgIHVwbG9hZFN1Y2Nlc3M6IGZ1bmN0aW9uIHVwbG9hZFN1Y2Nlc3MocmVzcG9uc2UsIGZpbGUsIGZpbGVMaXN0KSB7CiAgICAgIHRoaXMuZWRpdFBhcmFtcy5kZWZhdWx0X2ltYWdlID0gcmVzcG9uc2UudXJsOwogICAgICB0aGlzLnByb2dyZXNzID0gZmFsc2U7CiAgICAgIHRoaXMudXBsb2FkVGl0bGUgPSBmYWxzZTsKICAgIH0sCiAgICB1cGxvYWRFcnJvcjogZnVuY3Rpb24gdXBsb2FkRXJyb3IoZXJyb3IsIGZpbGUsIGZpbGVMaXN0KSB7fSwKICAgIGV4Y2VlZGVkU2l6ZTogZnVuY3Rpb24gZXhjZWVkZWRTaXplKGZpbGUsIGZpbGVMaXN0KSB7CiAgICAgIHRoaXMuJE1lc3NhZ2UuZXJyb3IoJ+ivt+S4iuS8oOS4jei2hei/hzVNQueahOWbvueJhycpOwogICAgfQogIH0sCiAgbW91bnRlZDogZnVuY3Rpb24gbW91bnRlZCgpIHsKICAgIHRoaXMucXVlcnkoKTsKICB9Cn07"},{"version":3,"sources":["index.vue"],"names":[],"mappings":"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","sourcesContent":["<!-- 商户信息 -->\n<template>\n  <div>  \n    <h3 class=\"margin-bottom-10\">商户信息</h3>\n    <div class=\"card\">\n      <div class=\"header margin-bottom-10\">\n        <div class=\"l\">\n          <div class=\"logo margin-right-10\"></div>\n          <span class=\"font-size16\">{{merchantData.merchant_name}}</span>\n        </div>   \n        <div v-if=\"edit\">\n          <Button class=\"margin-right-10\" icon=\"md-arrow-back\" @click=\"handleCancel\">取消</Button>\n          <Button  icon=\"md-checkmark\" type=\"success\" @click=\"handleCommit\">确认修改</Button>\n        </div> \n        \n        <Button v-else icon=\"md-create\" type=\"primary\" @click=\"handleEdit\">修改商户信息</Button>\n      </div>\n      <div class=\"content\">\n        <Row :gutter=\"30\">\n          <Col span=\"12\" class=\"border-right\">\n            <ul>\n              <li>\n                <span>商户编码</span>\n                <div>\n                  <Input v-if=\"edit === true\" type=\"text\" v-model=\"editParams.merchant_code\" placeholder=\"名称\" />\n                  <span v-else>{{merchantData.merchant_code}}</span>\n                </div>  \n              </li>\n              <li>\n                <span>商户状态</span>\n                <div>\n                  <!-- <Input  type=\"text\" v-model=\"editParams.is_enable\"/> -->\n                  <RadioGroup v-if=\"edit === true\" v-model=\"editParams.is_enable\">\n                      <Radio class=\"padding-right-10\" label='1'>启用</Radio>\n                      <Radio label='0'>停用</Radio>\n                  </RadioGroup>\n                  <span v-else>{{ merchantData.is_enable == 1? '有效':'无效' }}</span>\n                  \n                </div>  \n              </li>\n              <li>\n                <span>钱包账户</span>\n                <div>\n                  <Input v-if=\"edit === true\" type=\"text\" v-model=\"editParams.usercode\" placeholder=\"名称\" />\n                  <span v-else>{{ merchantData.usercode }}</span>\n                </div>  \n              </li>\n              <li>\n                <span>支付方式</span>\n                <div>\n                  <Input v-if=\"edit === true\" type=\"text\" v-model=\"editParams.payment_type\" placeholder=\"名称\" />\n                  <span v-else>{{ merchantData.payment_type }}</span>\n                </div>  \n              </li>\n               \n            </ul>\n          </Col>\n          <Col span=\"12\">\n            <ul>\n              <li>\n                <span>联系人</span>\n                <div>\n                  <Input v-if=\"edit === true\" type=\"text\" v-model=\"editParams.contact\" placeholder=\"名称\" />\n                  <span v-else>{{ merchantData.contact }}</span>\n                </div>  \n              </li>\n              <li>\n                <span>联系电话</span>\n                <div>\n                  <Input v-if=\"edit === true\" type=\"text\" v-model=\"editParams.link_tel\" placeholder=\"名称\" />\n                  <span v-else>{{ merchantData.link_tel }}</span>\n                </div>  \n              </li>\n              <li>\n                <span>地址</span>\n                <div>\n                  <Input v-if=\"edit === true\" type=\"textarea\" v-model=\"editParams.address\" placeholder=\"名称\" />\n                  <span v-else>{{ merchantData.address }}</span>\n                </div>  \n              </li>\n            </ul>\n          </Col>\n          \n        </Row>\n        <div class=\"line margin-top-20\"> \n          <span>备注</span>\n          <div>\n            <Input v-if=\"edit === true\" type=\"text\" v-model=\"editParams.remark\" placeholder=\"名称\" />\n            <span v-else>{{merchantData.remark}}</span>\n          </div>       \n        </div>\n        <div class=\"line\"> \n          <span>描述</span>\n          <div>\n            <Input v-if=\"edit === true\" type=\"textarea\" v-model=\"editParams.description\" placeholder=\"描述\" />\n            <span v-else>{{merchantData.description}}</span>\n          </div>       \n        </div>\n        <div class=\"line margin-bottom-30\"> \n          <span>图片</span> \n          <div v-if='edit' class=\"upload_wrapper\">\n              <Upload\n                :class=\"progress?'opcity':''\"\n                type=\"drag\"\n                :paste=\"true\"\n                :format=\"uploadType\"\n                :max-size=\"5120\"\n                :on-progress=\"uploadProgress\"\n                :on-success='uploadSuccess'\n                :on-error='uploadError'\n                :on-exceeded-size=\"exceededSize\"\n                name='file'\n                action=\"/upload\">\n                  <div class=\"upload-container\">\n                    <div class=\"bg\">\n                      <p class=\"cursor\">+</p>  \n                      <img class=\"upload-img width-full\" v-show=\"!progress\" :src=\"editParams.default_image\" alt=\"\">\n                      <div class=\"mark\"></div>\n                      <p v-show=\"uploadTitle\" class=\"star\">\n                        <Icon type=\"ios-star\" class=\"margin-right-5\"/>\n                        默认图片\n                      </p>\n                    </div>\n                  </div>       \n              </Upload> \n              <p class=\"req\">大小不超过5MB<br/>格式支持JPG，JPEG，PNG，GIT</p>\n            </div>\n\n            <div v-else class=\"img-wrapper\">\n              <img style=\"height:212px;width:auto;\" :src=\"merchantData.default_image\" alt=\"\">\n            </div>    \n          \n          \n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: 'BusinessInformation',\n  data () {\n    return {\n      edit: false,\n      editParams: {\n        merchant_code: '',\n        payment_type: '',\n        usercode: '',\n        contact: '',\n        link_tel: '',\n        address: '',\n        descrition: '',\n        is_enable: '',\n        default_image: '',\n        remark: '',\n        \n      },\n      uploadType: ['jpg','jpeg','png','git'],\n      progress: false,\n      uploadUrl: require('@assets/images/cup.png'),\n      uploadTitle: true\n    };\n  },\n\n  components: {},\n\n  computed: {\n    merchantData(){\n      return this.$store.state.merchant.merchantData;\n    }\n  },\n\n  methods: {\n    query: async function() {\n      let params = {\n        merchant_id: this.$store.state.user.curMerchantId,\n      };\n      await this.$store.dispatch('merchantDetail', params);\n    },\n    handleEdit(){\n      this.edit = true;\n      this.editParams = this.merchantData;\n      this.editParams.is_enable = this.merchantData.is_enable+'';      \n    },\n    handleCommit(){\n      this.edit = false;\n      let params = {\n        merchant_id: this.merchantData.merchant_id,\n        ...this.editParams\n      }\n      this.$store.dispatch('merchantEdit',params).then(res=>{\n        if(res.return_code==0){\n          this.$Message.success('修改成功！');\n          this.query();\n        }\n      })\n    },\n    handleCancel(){\n      this.edit = false;\n      this.query();\n    },\n    uploadProgress(event, file, fileList){\n      this.progress = true;\n      if(fileList.length>1){\n        fileList = fileList.splice(0,1);\n      }\n    },\n    uploadSuccess(response, file, fileList) {\n      this.editParams.default_image = response.url;\n      this.progress = false;\n      this.uploadTitle = false;\n    },\n  \n    uploadError(error, file, fileList) {      \n\n    },\n    exceededSize(file, fileList){\n      this.$Message.error('请上传不超过5MB的图片');\n    },\n  },\n  mounted(){\n    this.query()\n  }\n}\n\n</script>\n<style lang='less' scoped>\n//@import 'src/views/businessinfo/basic-information/style.less';\n@import './style.css';\n</style>"],"sourceRoot":"src/views/businessinfo/basic-information"}]}