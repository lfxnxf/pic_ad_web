{"remainingRequest":"/Users/zhang/canteen_manage/node_modules/babel-loader/lib/index.js!/Users/zhang/canteen_manage/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/zhang/canteen_manage/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/zhang/canteen_manage/src/views/staff-management/details/components/personal-info.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/zhang/canteen_manage/src/views/staff-management/details/components/personal-info.vue","mtime":1638761462121},{"path":"/Users/zhang/canteen_manage/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/zhang/canteen_manage/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/zhang/canteen_manage/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/zhang/canteen_manage/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIi9Vc2Vycy96aGFuZy9jYW50ZWVuX21hbmFnZS9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXN5bmNUb0dlbmVyYXRvciI7CmltcG9ydCAicmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmluZC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmZ1bmN0aW9uLm5hbWUuanMiOwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwppbXBvcnQgXyBmcm9tICJ1bmRlcnNjb3JlIjsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICdQZXJzb25hbEluZm8nLAogIHByb3BzOiB7CiAgICByb3V0ZVBhcmFtczogT2JqZWN0CiAgfSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgc3RhZmZfaWQ6ICcnLAogICAgICBmb3JtOiB7CiAgICAgICAgcm9sZV9pZDogJycsCiAgICAgICAgY2FyZF9ubzogJycsCiAgICAgICAgc3RhdHVzOiAnJwogICAgICB9CiAgICB9OwogIH0sCiAgY29tcG9uZW50czoge30sCiAgY29tcHV0ZWQ6IHsKICAgIHVzZXJEZXRhaWxEYXRhOiBmdW5jdGlvbiB1c2VyRGV0YWlsRGF0YSgpIHsKICAgICAgcmV0dXJuIHRoaXMuJHN0b3JlLnN0YXRlLnVzZXIudXNlckRldGFpbERhdGE7CiAgICB9LAogICAgcm9sZUxpc3Q6IGZ1bmN0aW9uIHJvbGVMaXN0KCkgewogICAgICByZXR1cm4gdGhpcy4kc3RvcmUuc3RhdGUucm9sZS5yb2xlTGlzdC5yZXN1bHQ7CiAgICB9LAogICAgdXNlcnR5cGU6IGZ1bmN0aW9uIHVzZXJ0eXBlKCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgcmV0dXJuIGZ1bmN0aW9uIChpZCkgewogICAgICAgIHZhciB2YWwgPSAnJzsKCiAgICAgICAgdmFyIGN1cnJlbnQgPSBfLmZpbmQoX3RoaXMucm9sZUxpc3QsIGZ1bmN0aW9uIChjdXIpIHsKICAgICAgICAgIHJldHVybiBjdXIucm9sZV9pZCA9PSBpZDsKICAgICAgICB9KTsKCiAgICAgICAgdmFsID0gY3VycmVudCA/IGN1cnJlbnQubmFtZSA6ICcnOwogICAgICAgIHJldHVybiB2YWw7CiAgICAgIH07CiAgICB9LAogICAgZ3JvdXB0eXBlOiBmdW5jdGlvbiBncm91cHR5cGUoKSB7CiAgICAgIHJldHVybiBmdW5jdGlvbiAoaWQpIHsKICAgICAgICB2YXIgdmFsID0gJyc7CiAgICAgICAgaWYgKGlkID09IDEpIHZhbCA9ICfogYzlkZgnOwogICAgICAgIGlmIChpZCA9PSAyKSB2YWwgPSAn5aSE6ZW/JzsKICAgICAgICBpZiAoaWQgPT0gMykgdmFsID0gJ+WxgOmVvyc7CiAgICAgICAgcmV0dXJuIHZhbDsKICAgICAgfTsKICAgIH0KICB9LAogIG1ldGhvZHM6IHsKICAgIGdldEFwaURhdGE6IGZ1bmN0aW9uICgpIHsKICAgICAgdmFyIF9nZXRBcGlEYXRhID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlKCkgewogICAgICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICB0aGlzLnN0YWZmX2lkID0gdGhpcy4kcm91dGUucGFyYW1zLnN0YWZmX2lkOwoKICAgICAgICAgICAgICAgIGlmICh0aGlzLnN0YWZmX2lkKSB7CiAgICAgICAgICAgICAgICAgIHRoaXMuJHN0b3JlLmRpc3BhdGNoKCd1c2VyRGV0YWlsJywgewogICAgICAgICAgICAgICAgICAgIHN0YWZmX2lkOiB0aGlzLnN0YWZmX2lkCiAgICAgICAgICAgICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgICAgICAgICAgICAgIF90aGlzMi5mb3JtLnJvbGVfaWQgPSBfdGhpczIudXNlckRldGFpbERhdGEucm9sZV9pZCArICcnOwogICAgICAgICAgICAgICAgICAgIF90aGlzMi5mb3JtLmNhcmRfbm8gPSBfdGhpczIudXNlckRldGFpbERhdGEuY2FyZF9ubzsKICAgICAgICAgICAgICAgICAgICBfdGhpczIuZm9ybS5zdGF0dXMgPSBfdGhpczIudXNlckRldGFpbERhdGEuc3RhdHVzICsgJyc7CiAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlLCB0aGlzKTsKICAgICAgfSkpOwoKICAgICAgZnVuY3Rpb24gZ2V0QXBpRGF0YSgpIHsKICAgICAgICByZXR1cm4gX2dldEFwaURhdGEuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgICAgfQoKICAgICAgcmV0dXJuIGdldEFwaURhdGE7CiAgICB9KCkKICB9LAogIG1vdW50ZWQ6IGZ1bmN0aW9uIG1vdW50ZWQoKSB7CiAgICB0aGlzLmdldEFwaURhdGEoKTsKICB9Cn07"},{"version":3,"sources":["personal-info.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA2DA,OAAA,CAAA,MAAA,YAAA;AACA,eAAA;AACA,EAAA,IAAA,EAAA,cADA;AAEA,EAAA,KAAA,EAAA;AACA,IAAA,WAAA,EAAA;AADA,GAFA;AAKA,EAAA,IALA,kBAKA;AACA,WAAA;AACA,MAAA,QAAA,EAAA,EADA;AAEA,MAAA,IAAA,EAAA;AACA,QAAA,OAAA,EAAA,EADA;AAEA,QAAA,OAAA,EAAA,EAFA;AAGA,QAAA,MAAA,EAAA;AAHA;AAFA,KAAA;AAQA,GAdA;AAgBA,EAAA,UAAA,EAAA,EAhBA;AAkBA,EAAA,QAAA,EAAA;AACA,IAAA,cADA,4BACA;AACA,aAAA,KAAA,MAAA,CAAA,KAAA,CAAA,IAAA,CAAA,cAAA;AACA,KAHA;AAIA,IAAA,QAJA,sBAIA;AACA,aAAA,KAAA,MAAA,CAAA,KAAA,CAAA,IAAA,CAAA,QAAA,CAAA,MAAA;AACA,KANA;AAOA,IAAA,QAPA,sBAOA;AAAA;;AACA,aAAA,UAAA,EAAA,EAAA;AACA,YAAA,GAAA,GAAA,EAAA;;AACA,YAAA,OAAA,GAAA,CAAA,CAAA,IAAA,CAAA,KAAA,CAAA,QAAA,EAAA,UAAA,GAAA,EAAA;AACA,iBAAA,GAAA,CAAA,OAAA,IAAA,EAAA;AACA,SAFA,CAAA;;AAGA,QAAA,GAAA,GAAA,OAAA,GAAA,OAAA,CAAA,IAAA,GAAA,EAAA;AACA,eAAA,GAAA;AACA,OAPA;AAQA,KAhBA;AAiBA,IAAA,SAjBA,uBAiBA;AACA,aAAA,UAAA,EAAA,EAAA;AACA,YAAA,GAAA,GAAA,EAAA;AACA,YAAA,EAAA,IAAA,CAAA,EACA,GAAA,GAAA,IAAA;AACA,YAAA,EAAA,IAAA,CAAA,EACA,GAAA,GAAA,IAAA;AACA,YAAA,EAAA,IAAA,CAAA,EACA,GAAA,GAAA,IAAA;AACA,eAAA,GAAA;AACA,OATA;AAUA;AA5BA,GAlBA;AAiDA,EAAA,OAAA,EAAA;AACA,IAAA,UAAA;AAAA,gFAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AACA,qBAAA,QAAA,GAAA,KAAA,MAAA,CAAA,MAAA,CAAA,QAAA;;AACA,oBAAA,KAAA,QAAA,EAAA;AACA,uBAAA,MAAA,CAAA,QAAA,CAAA,YAAA,EAAA;AAAA,oBAAA,QAAA,EAAA,KAAA;AAAA,mBAAA,EAAA,IAAA,CAAA,UAAA,GAAA,EAAA;AACA,oBAAA,MAAA,CAAA,IAAA,CAAA,OAAA,GAAA,MAAA,CAAA,cAAA,CAAA,OAAA,GAAA,EAAA;AACA,oBAAA,MAAA,CAAA,IAAA,CAAA,OAAA,GAAA,MAAA,CAAA,cAAA,CAAA,OAAA;AACA,oBAAA,MAAA,CAAA,IAAA,CAAA,MAAA,GAAA,MAAA,CAAA,cAAA,CAAA,MAAA,GAAA,EAAA;AACA,mBAJA;AAKA;;AARA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;AADA,GAjDA;AA8DA,EAAA,OA9DA,qBA8DA;AACA,SAAA,UAAA;AAEA;AAjEA,CAAA","sourcesContent":["<!-- 员工个人信息 -->\n<template>\n  <div class=\"card personal_info margin-bottom-10\">\n    <h3 class=\"margin-bottom-10\">个人信息</h3>\n    <ul class=\"clearfix\">\n      <li>\n        <p class=\"l\">人员ID</p>\n        <span class=\"r\">{{userDetailData.staff_id}}</span>\n      </li>\n      <li>\n        <p class=\"l\">人员姓名</p>\n        <span class=\"r\">{{userDetailData.name}}</span>\n      </li>\n      <li>\n        <p class=\"l\">身份证号</p>\n        <span class=\"r\">{{userDetailData.id_number}}</span>\n      </li>\n      <li>\n        <p class=\"l\">人员邮箱</p>\n        <span class=\"r\">{{userDetailData.emails}}</span>\n      </li>\n      <li>\n        <p class=\"l\">所属部门</p>\n        <span class=\"r\">{{userDetailData.department_name}}</span>\n      </li>\n      <li>\n        <p class=\"l\">职务</p>\n        <span class=\"r\">{{grouptype(userDetailData.group)}}</span>\n      </li>\n      <li>\n        <p class=\"l\">手机号</p>\n        <span class=\"r\">{{userDetailData.phones}}</span>\n      </li>\n      <li>\n        <p class=\"l\">人员类型</p>\n        <span class=\"r\">{{usertype(userDetailData.role_id)}}</span>\n      </li>\n      <li>\n        <p class=\"l\">数字账号</p>\n        <span class=\"r\">{{userDetailData.usercode}}</span>\n      </li>\n      <li>\n        <p class=\"l\">企业人员账号</p>\n        <span class=\"r\">{{userDetailData.ext_emp_id}}</span>\n      </li>\n      <li>\n        <p class=\"l\">就餐卡号</p>\n        <span class=\"r\">{{userDetailData.card_no}}</span>\n      </li>\n      <li>\n        <p class=\"l\">状态</p>\n        <span class=\"r\">{{userDetailData.status==1?'正常':'已删除'}}</span>\n      </li>\n    </ul>\n\n  </div>\n</template>\n\n<script>\nimport _ from \"underscore\";\nexport default {\n  name: 'PersonalInfo',\n  props: {\n    routeParams: Object\n  },\n  data () {\n    return {\n      staff_id: '',\n      form: {\n        role_id: '',\n        card_no: '',\n        status: ''\n      }\n    };\n  },\n\n  components: {},\n\n  computed: {\n    userDetailData(){\n      return this.$store.state.user.userDetailData;\n    },\n    roleList() {\n      return this.$store.state.role.roleList.result;\n    },\n    usertype() {\n      return (id)=>{\n        let val = '';\n        let current = _.find(this.roleList, cur=> {\n          return cur.role_id == id;\n        });\n        val = current ? current.name : '';\n        return val;\n      }\n    },\n    grouptype() {\n      return (id)=>{\n        let val = '';\n        if (id == 1)\n          val = '职员';\n        if (id == 2)\n          val = '处长';\n        if (id == 3)\n          val = '局长';\n        return val;\n      }\n    },\n  },\n\n  methods: {\n    getApiData: async function(){\n      this.staff_id = this.$route.params.staff_id;\n      if (this.staff_id){\n        this.$store.dispatch('userDetail', {staff_id: this.staff_id}).then(res=>{\n          this.form.role_id = this.userDetailData.role_id + '';\n          this.form.card_no = this.userDetailData.card_no;\n          this.form.status = this.userDetailData.status+'';\n        });\n      }\n    },\n  },\n\n  mounted(){\n    this.getApiData();\n\n  }\n\n\n}\n\n</script>\n<style lang='less' scoped>\n  @import \"../style\";\n  /deep/.ivu-form-item-content{\n    margin-left: 0 !important;\n    width: 58%;\n  }\n  .margin-left-100{\n    margin-left: 100px;\n  }\n  /deep/.ivu-form .ivu-form-item-label{\n    margin-right: 20px;\n  }\n\n</style>\n"],"sourceRoot":"src/views/staff-management/details/components"}]}